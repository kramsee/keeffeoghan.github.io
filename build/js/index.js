!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){for(var t=u.indexOf(document.readyState);l<=t;++l){var e=c[u[l]];if(e)try{e()}catch(t){console.error(t)}}}n(2);var o=n(327),a=r(o),s=void 0,u=["loading","interactive","complete"],c={loading:function(){document.addEventListener("readystatechange",i)},interactive:function(){s=(0,a.default)()},complete:function(){s.go(),document.removeEventListener("readystatechange",i)}},l=0;i()},function(t,e,n){(function(t){"use strict";function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(3),n(323),n(324),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,function(){return this}())},function(t,e,n){n(4),n(52),n(53),n(54),n(55),n(57),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(70),n(72),n(74),n(76),n(79),n(80),n(81),n(85),n(87),n(89),n(92),n(93),n(94),n(95),n(97),n(98),n(99),n(100),n(101),n(102),n(103),n(105),n(106),n(107),n(109),n(110),n(111),n(113),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(127),n(132),n(133),n(137),n(138),n(139),n(140),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(158),n(159),n(161),n(162),n(168),n(169),n(171),n(172),n(173),n(177),n(178),n(179),n(180),n(181),n(183),n(184),n(185),n(186),n(189),n(191),n(192),n(193),n(195),n(197),n(199),n(200),n(201),n(203),n(204),n(205),n(206),n(216),n(220),n(221),n(223),n(224),n(228),n(229),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(251),n(252),n(253),n(254),n(255),n(257),n(258),n(259),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(270),n(271),n(273),n(274),n(275),n(276),n(279),n(280),n(282),n(283),n(284),n(285),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),t.exports=n(10)},function(t,e,n){"use strict";var r=n(5),i=n(6),o=n(7),a=n(9),s=n(19),u=n(23).KEY,c=n(8),l=n(24),f=n(25),d=n(20),h=n(26),p=n(27),v=n(28),m=n(30),g=n(45),y=n(13),b=n(33),_=n(17),w=n(18),E=n(46),x=n(49),A=n(51),M=n(12),S=n(31),T=A.f,R=M.f,O=x.f,C=r.Symbol,P=r.JSON,k=P&&P.stringify,F="prototype",I=h("_hidden"),L=h("toPrimitive"),N={}.propertyIsEnumerable,D=l("symbol-registry"),j=l("symbols"),U=l("op-symbols"),B=Object[F],V="function"==typeof C,z=r.QObject,q=!z||!z[F]||!z[F].findChild,G=o&&c(function(){return 7!=E(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=T(B,e);r&&delete B[e],R(t,e,n),r&&t!==B&&R(B,e,r)}:R,Y=function(t){var e=j[t]=E(C[F]);return e._k=t,e},X=V&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},H=function(t,e,n){return t===B&&H(U,e,n),y(t),e=_(e,!0),y(n),i(j,e)?(n.enumerable?(i(t,I)&&t[I][e]&&(t[I][e]=!1),n=E(n,{enumerable:w(0,!1)})):(i(t,I)||R(t,I,w(1,{})),t[I][e]=!0),G(t,e,n)):R(t,e,n)},W=function(t,e){y(t);for(var n,r=m(e=b(e)),i=0,o=r.length;o>i;)H(t,n=r[i++],e[n]);return t},K=function(t,e){return void 0===e?E(t):W(E(t),e)},J=function(t){var e=N.call(this,t=_(t,!0));return!(this===B&&i(j,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(j,t)||i(this,I)&&this[I][t])||e)},Z=function(t,e){if(t=b(t),e=_(e,!0),t!==B||!i(j,e)||i(U,e)){var n=T(t,e);return!n||!i(j,e)||i(t,I)&&t[I][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=O(b(t)),r=[],o=0;n.length>o;)i(j,e=n[o++])||e==I||e==u||r.push(e);return r},$=function(t){for(var e,n=t===B,r=O(n?U:b(t)),o=[],a=0;r.length>a;)!i(j,e=r[a++])||n&&!i(B,e)||o.push(j[e]);return o};V||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(U,n),i(this,I)&&i(this[I],t)&&(this[I][t]=!1),G(this,t,w(1,n))};return o&&q&&G(B,t,{configurable:!0,set:e}),Y(t)},s(C[F],"toString",function(){return this._k}),A.f=Z,M.f=H,n(50).f=x.f=Q,n(44).f=J,n(43).f=$,o&&!n(29)&&s(B,"propertyIsEnumerable",J,!0),p.f=function(t){return Y(h(t))}),a(a.G+a.W+a.F*!V,{Symbol:C});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)h(tt[et++]);for(var nt=S(h.store),rt=0;nt.length>rt;)v(nt[rt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=C(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!V,"Object",{create:K,defineProperty:H,defineProperties:W,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),P&&a(a.S+a.F*(!V||c(function(){var t=C();return"[null]"!=k([t])||"{}"!=k({a:t})||"{}"!=k(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!X(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&g(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!X(e))return e}),r[1]=e,k.apply(P,r)}}}),C[F][L]||n(11)(C[F],L,C[F].valueOf),f(C,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(5),i=n(10),o=n(11),a=n(19),s=n(21),u="prototype",c=function(t,e,n){var l,f,d,h,p=t&c.F,v=t&c.G,m=t&c.S,g=t&c.P,y=t&c.B,b=v?r:m?r[e]||(r[e]={}):(r[e]||{})[u],_=v?i:i[e]||(i[e]={}),w=_[u]||(_[u]={});v&&(n=e);for(l in n)f=!p&&b&&void 0!==b[l],d=(f?b:n)[l],h=y&&f?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,b&&a(b,l,d,t&c.U),_[l]!=d&&o(_,l,h),g&&w[l]!=d&&(w[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(12),i=n(18);t.exports=n(7)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(13),i=n(15),o=n(17),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(14);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(7)&&!n(8)(function(){return 7!=Object.defineProperty(n(16)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(14),i=n(5).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(14);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(5),i=n(11),o=n(6),a=n(20)("src"),s="toString",u=Function[s],c=(""+u).split(s);n(10).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(22);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(20)("meta"),i=n(14),o=n(6),a=n(12).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(8)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},d=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},h=function(t){return c&&p.NEED&&u(t)&&!o(t,r)&&l(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},function(t,e,n){var r=n(5),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(12).f,i=n(6),o=n(26)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(24)("wks"),i=n(20),o=n(5).Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},function(t,e,n){e.f=n(26)},function(t,e,n){var r=n(5),i=n(10),o=n(29),a=n(27),s=n(12).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){t.exports=!1},function(t,e,n){var r=n(31),i=n(43),o=n(44);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(32),i=n(42);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(6),i=n(33),o=n(37)(!1),a=n(41)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(34),i=n(36);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(35);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(33),i=n(38),o=n(40);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(39),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(39),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(24)("keys"),i=n(20);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(35);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(13),i=n(47),o=n(42),a=n(41)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(16)("iframe"),r=o.length,i="<",a=">";for(e.style.display="none",n(48).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(12),i=n(13),o=n(31);t.exports=n(7)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(5).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(33),i=n(50).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(32),i=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(44),i=n(18),o=n(33),a=n(17),s=n(6),u=n(15),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(9);r(r.S,"Object",{create:n(46)})},function(t,e,n){var r=n(9);r(r.S+r.F*!n(7),"Object",{defineProperty:n(12).f})},function(t,e,n){var r=n(9);r(r.S+r.F*!n(7),"Object",{defineProperties:n(47)})},function(t,e,n){var r=n(33),i=n(51).f;n(56)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(9),i=n(10),o=n(8);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(58),i=n(59);n(56)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(36);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(6),i=n(58),o=n(41)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(58),i=n(31);n(56)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(56)("getOwnPropertyNames",function(){return n(49).f})},function(t,e,n){var r=n(14),i=n(23).onFreeze;n(56)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(14),i=n(23).onFreeze;n(56)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(14),i=n(23).onFreeze;n(56)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(14);n(56)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(14);n(56)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(14);n(56)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(9);r(r.S+r.F,"Object",{assign:n(69)})},function(t,e,n){"use strict";var r=n(31),i=n(43),o=n(44),a=n(58),s=n(34),u=Object.assign;t.exports=!u||n(8)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var d,h=s(arguments[c++]),p=l?r(h).concat(l(h)):r(h),v=p.length,m=0;v>m;)f.call(h,d=p[m++])&&(n[d]=h[d]);return n}:u},function(t,e,n){var r=n(9);r(r.S,"Object",{is:n(71)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){var r=n(9);r(r.S,"Object",{setPrototypeOf:n(73).set})},function(t,e,n){var r=n(14),i=n(13),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(21)(Function.call,n(51).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";var r=n(75),i={};i[n(26)("toStringTag")]="z",i+""!="[object z]"&&n(19)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(35),i=n(26)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(9);r(r.P,"Function",{bind:n(77)})},function(t,e,n){"use strict";var r=n(22),i=n(14),o=n(78),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(12).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(7)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(14),i=n(59),o=n(26)("hasInstance"),a=Function.prototype;o in a||n(12).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(9),i=n(82);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(5).parseInt,i=n(83).trim,o=n(84),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(9),i=n(36),o=n(8),a=n(84),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(t,e,n){var i={},s=o(function(){return!!a[t]()||u[t]()!=u}),c=i[t]=s?e(d):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},d=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(9),i=n(86);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){var r=n(5).parseFloat,i=n(83).trim;t.exports=1/r(n(84)+"-0")!==-(1/0)?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){"use strict";var r=n(5),i=n(6),o=n(35),a=n(88),s=n(17),u=n(8),c=n(50).f,l=n(51).f,f=n(12).f,d=n(83).trim,h="Number",p=r[h],v=p,m=p.prototype,g=o(n(46)(m))==h,y="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if(a=u.charCodeAt(c),a<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?u(function(){m.valueOf.call(n)}):o(n)!=h)?a(new v(b(e)),n,p):b(e)};for(var _,w=n(7)?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;w.length>E;E++)i(v,_=w[E])&&!i(p,_)&&f(p,_,l(v,_));p.prototype=m,m.constructor=p,n(19)(r,h,p)}},function(t,e,n){var r=n(14),i=n(73).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(9),i=n(39),o=n(90),a=n(91),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f="0",d=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call(f,7-n.length)+n}return e},v=function(t,e,n){return 0===e?n:e%2===1?v(t,e-1,n*t):v(t*t,e/2,n)},m=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(8)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,l),c=i(t),g="",y=f;if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(e=m(u*v(2,69,1))-69,n=e<0?u*v(2,-e,1):u/v(2,e,1),n*=4503599627370496,e=52-e,e>0){for(d(0,n),r=c;r>=7;)d(1e7,0),r-=7;for(d(v(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),d(1,1),h(2),y=p()}else d(0,n),d(1<<-e,0),y=p()+a.call(f,c);return c>0?(s=y.length,y=g+(s<=c?"0."+a.call(f,c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c))):y=g+y,y}})},function(t,e,n){var r=n(35);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){"use strict";var r=n(39),i=n(36);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(9),i=n(8),o=n(90),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(9);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(9),i=n(5).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(9);r(r.S,"Number",{isInteger:n(96)})},function(t,e,n){var r=n(14),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(9);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(9),i=n(96),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(9);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(9);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(9),i=n(86);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(9),i=n(82);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(9),i=n(104),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(9),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(9),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(9),i=n(108);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(9);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(9),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(9),i=n(112);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||n(-2e-17)!=-2e-17?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(9);r(r.S,"Math",{fround:n(114)})},function(t,e,n){var r=n(108),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*c(i/u/a)*u*a:(e=(1+a/o)*i,n=e-(e-i),n>s||n!=n?l*(1/0):l*n)}},function(t,e,n){var r=n(9),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(9),i=Math.imul;r(r.S+r.F*n(8)(function(){return i(4294967295,5)!=-5||2!=i.length}),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(9);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(9);r(r.S,"Math",{log1p:n(104)})},function(t,e,n){var r=n(9);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(9);r(r.S,"Math",{sign:n(108)})},function(t,e,n){var r=n(9),i=n(112),o=Math.exp;r(r.S+r.F*n(8)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(9),i=n(112),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(9);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(9),i=n(40),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(((e-=65536)>>10)+55296,e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(9),i=n(33),o=n(38);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(83)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(128)(!0);n(129)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(39),i=n(36);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},function(t,e,n){"use strict";var r=n(29),i=n(9),o=n(19),a=n(11),s=n(6),u=n(130),c=n(131),l=n(25),f=n(59),d=n(26)("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",v="keys",m="values",g=function(){return this};t.exports=function(t,e,n,y,b,_,w){c(n,e,y);var E,x,A,M=function(t){if(!h&&t in O)return O[t];switch(t){case v:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T=b==m,R=!1,O=t.prototype,C=O[d]||O[p]||b&&O[b],P=C||M(b),k=b?T?M("entries"):P:void 0,F="Array"==e?O.entries||C:C;if(F&&(A=f(F.call(new t)),A!==Object.prototype&&A.next&&(l(A,S,!0),r||s(A,d)||a(A,d,g))),T&&C&&C.name!==m&&(R=!0,P=function(){return C.call(this)}),r&&!w||!h&&!R&&O[d]||a(O,d,P),u[e]=P,u[S]=g,b)if(E={values:T?P:M(m),keys:_?P:M(v),entries:k},w)for(x in E)x in O||o(O,x,E[x]);else i(i.P+i.F*(h||R),e,E);return E}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(46),i=n(18),o=n(25),a={};n(11)(a,n(26)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(9),i=n(128)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(9),i=n(38),o=n(134),a="endsWith",s=""[a];r(r.P+r.F*n(136)(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),u=void 0===n?r:Math.min(i(n),r),c=String(t);return s?s.call(e,c,u):e.slice(u-c.length,u)===c}})},function(t,e,n){var r=n(135),i=n(36);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(14),i=n(35),o=n(26)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(26)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";var r=n(9),i=n(134),o="includes";r(r.P+r.F*n(136)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(9);r(r.P,"String",{repeat:n(91)})},function(t,e,n){"use strict";var r=n(9),i=n(38),o=n(134),a="startsWith",s=""[a];r(r.P+r.F*n(136)(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(141)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){var r=n(9),i=n(8),o=n(36),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){"use strict";n(141)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(141)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(141)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(141)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(141)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(141)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(141)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(141)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(141)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(141)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(141)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(141)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(9);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(9),i=n(58),o=n(17);r(r.P+r.F*n(8)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null;
}})},function(t,e,n){var r=n(9),i=n(157);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(8),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(19)(r,o,function(){var t=s.call(this);return t===t?a.call(this):i})},function(t,e,n){var r=n(26)("toPrimitive"),i=Date.prototype;r in i||n(11)(i,r,n(160))},function(t,e,n){"use strict";var r=n(13),i=n(17),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,e,n){var r=n(9);r(r.S,"Array",{isArray:n(45)})},function(t,e,n){"use strict";var r=n(21),i=n(9),o=n(58),a=n(163),s=n(164),u=n(38),c=n(165),l=n(166);i(i.S+i.F*!n(167)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,g=0,y=l(d);if(m&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(e=u(d.length),n=new h(e);e>g;g++)c(n,g,m?v(d[g],g):d[g]);else for(f=y.call(d),n=new h;!(i=f.next()).done;g++)c(n,g,m?a(f,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){var r=n(13);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(130),i=n(26)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(12),i=n(18);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(75),i=n(26)("iterator"),o=n(130);t.exports=n(10).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(26)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(9),i=n(165);r(r.S+r.F*n(8)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(9),i=n(33),o=[].join;r(r.P+r.F*(n(34)!=Object||!n(170)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";var r=n(9),i=n(48),o=n(35),a=n(40),s=n(38),u=[].slice;r(r.P+r.F*n(8)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),c=a(e,n),l=s(c-i),f=Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(t,e,n){"use strict";var r=n(9),i=n(22),o=n(58),a=n(8),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(170)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(9),i=n(174)(0),o=n(170)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(21),i=n(34),o=n(58),a=n(38),s=n(175);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,d=5==t||f,h=e||s;return function(e,s,p){for(var v,m,g=o(e),y=i(g),b=r(s,p,3),_=a(y.length),w=0,E=n?h(e,_):u?h(e,0):void 0;_>w;w++)if((d||w in y)&&(v=y[w],m=b(v,w,g),t))if(n)E[w]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(l)return!1;return f?-1:c||l?l:E}}},function(t,e,n){var r=n(176);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(14),i=n(45),o=n(26)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(9),i=n(174)(1);r(r.P+r.F*!n(170)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(9),i=n(174)(2);r(r.P+r.F*!n(170)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(9),i=n(174)(3);r(r.P+r.F*!n(170)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(9),i=n(174)(4);r(r.P+r.F*!n(170)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(9),i=n(182);r(r.P+r.F*!n(170)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){var r=n(22),i=n(58),o=n(34),a=n(38);t.exports=function(t,e,n,s,u){r(e);var c=i(t),l=o(c),f=a(c.length),d=u?f-1:0,h=u?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=h;break}if(d+=h,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=h)d in l&&(s=e(s,l[d],d,c));return s}},function(t,e,n){"use strict";var r=n(9),i=n(182);r(r.P+r.F*!n(170)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(9),i=n(37)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(170)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(9),i=n(33),o=n(39),a=n(38),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(170)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(9);r(r.P,"Array",{copyWithin:n(187)}),n(188)("copyWithin")},function(t,e,n){"use strict";var r=n(58),i=n(40),o=n(38);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e,n){var r=n(26)("unscopables"),i=Array.prototype;void 0==i[r]&&n(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(9);r(r.P,"Array",{fill:n(190)}),n(188)("fill")},function(t,e,n){"use strict";var r=n(58),i=n(40),o=n(38);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(9),i=n(174)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(188)(o)},function(t,e,n){"use strict";var r=n(9),i=n(174)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(188)(o)},function(t,e,n){n(194)("Array")},function(t,e,n){"use strict";var r=n(5),i=n(12),o=n(7),a=n(26)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(188),i=n(196),o=n(130),a=n(33);t.exports=n(129)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(5),i=n(88),o=n(12).f,a=n(50).f,s=n(135),u=n(198),c=r.RegExp,l=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(n(7)&&(!p||n(8)(function(){return h[n(26)("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(p?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:f,c)};for(var v=(function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}),m=a(l),g=0;m.length>g;)v(m[g++]);f.constructor=c,c.prototype=f,n(19)(r,"RegExp",c)}n(194)("RegExp")},function(t,e,n){"use strict";var r=n(13);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";n(200);var r=n(13),i=n(198),o=n(7),a="toString",s=/./[a],u=function(t){n(19)(RegExp.prototype,a,t,!0)};n(8)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):s.name!=a&&u(function(){return s.call(this)})},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(12).f(RegExp.prototype,"flags",{configurable:!0,get:n(198)})},function(t,e,n){n(202)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){"use strict";var r=n(11),i=n(19),o=n(8),a=n(36),s=n(26);t.exports=function(t,e,n){var u=s(t),c=n(a,u,""[t]),l=c[0],f=c[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,l),r(RegExp.prototype,u,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},function(t,e,n){n(202)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(t,e,n){n(202)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(202)("split",2,function(t,e,r){"use strict";var i=n(135),o=r,a=[].push,s="split",u="length",c="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var l=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,s,f,d,h,p=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,g=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,v+"g");for(l||(r=new RegExp("^"+y.source+"$(?!\\s)",v));(s=y.exec(n))&&(f=s.index+s[0][u],!(f>m&&(p.push(n.slice(m,s.index)),!l&&s[u]>1&&s[0].replace(r,function(){for(h=1;h<arguments[u]-2;h++)void 0===arguments[h]&&(s[h]=void 0)}),s[u]>1&&s.index<n[u]&&a.apply(p,s.slice(1)),d=s[0][u],m=f,p[u]>=g)));)y[c]===s.index&&y[c]++;return m===n[u]?!d&&y.test("")||p.push(""):p.push(n.slice(m)),p[u]>g?p.slice(0,g):p}}else"0"[s](void 0,0)[u]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(t,e,n){"use strict";var r,i,o,a,s=n(29),u=n(5),c=n(21),l=n(75),f=n(9),d=n(14),h=n(22),p=n(207),v=n(208),m=n(209),g=n(210).set,y=n(211)(),b=n(212),_=n(213),w=n(214),E="Promise",x=u.TypeError,A=u.process,M=u[E],S="process"==l(A),T=function(){},R=i=b.f,O=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(26)("species")]=function(t){t(T,T)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e}catch(t){}}(),C=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{a?(i||(2==t._h&&I(t),t._h=1),a===!0?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===e.promise?u(x("Promise-chain cycle")):(o=C(n))?o.call(n,s,u):s(n)):u(r)}catch(t){u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&k(t)})}},k=function(t){g.call(u,function(){var e,n,r,i=t._v,o=F(t);if(o&&(e=_(function(){S?A.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=S||F(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},F=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!F(e.promise))return!1;return!0},I=function(t){g.call(u,function(){var e;S?A.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=C(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,c(N,r,1),c(L,r,1))}catch(t){L.call(r,t)}}):(n._v=t,n._s=1,P(n,!1))}catch(t){L.call({_w:n,_d:!1},t)}}};O||(M=function(t){p(this,M,E,"_h"),h(t),r.call(this);try{t(c(N,this,1),c(L,this,1))}catch(t){L.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(215)(M.prototype,{then:function(t,e){var n=R(m(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(N,t,1),this.reject=c(L,t,1)},b.f=R=function(t){return t===M||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!O,{Promise:M}),n(25)(M,E),n(194)(E),a=n(10)[E],f(f.S+f.F*!O,E,{reject:function(t){var e=R(this),n=e.reject;return n(t),e.promise}}),f(f.S+f.F*(s||!O),E,{resolve:function(t){return w(s&&this===a?M:this,t)}}),f(f.S+f.F*!(O&&n(167)(function(t){M.all(t).catch(T)})),E,{all:function(t){var e=this,n=R(e),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=R(e),r=n.reject,i=_(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(21),i=n(163),o=n(164),a=n(13),s=n(38),u=n(166),c={},l={},e=t.exports=function(t,e,n,f,d){var h,p,v,m,g=d?function(){return t}:u(t),y=r(n,f,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(h=s(t.length);h>b;b++)if(m=e?y(a(p=t[b])[0],p[1]):y(t[b]),m===c||m===l)return m}else for(v=g.call(t);!(p=v.next()).done;)if(m=i(v,y,p.value,e),m===c||m===l)return m};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(13),i=n(22),o=n(26)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(21),s=n(78),u=n(48),c=n(16),l=n(5),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,m=0,g={},y="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){b.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},h=function(t){delete g[t]},"process"==n(35)(f)?r=function(t){f.nextTick(a(b,t,1))}:v&&v.now?r=function(t){v.now(a(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:d,clear:h}},function(t,e,n){var r=n(5),i=n(210).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(35)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(22);t.exports.f=function(t){return new r(t)}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(13),i=n(14),o=n(212);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},function(t,e,n){var r=n(19);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(217),i=n(218),o="Map";t.exports=n(219)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(12).f,i=n(46),o=n(215),a=n(21),s=n(207),u=n(208),c=n(129),l=n(196),f=n(194),d=n(7),h=n(23).fastKey,p=n(218),v=d?"_s":"size",m=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),d&&r(l.prototype,"size",{get:function(){return p(this,e)[v]}}),l},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){var r=n(14);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var r=n(5),i=n(9),o=n(19),a=n(215),s=n(23),u=n(208),c=n(207),l=n(14),f=n(8),d=n(167),h=n(25),p=n(88);t.exports=function(t,e,n,v,m,g){var y=r[t],b=y,_=m?"set":"add",w=b&&b.prototype,E={},x=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(g||w.forEach&&!f(function(){(new b).entries().next()}))){var A=new b,M=A[_](g?{}:-0,1)!=A,S=f(function(){A.has(1)}),T=d(function(t){new b(t)}),R=!g&&f(function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)});T||(b=e(function(e,n){c(e,b,t);var r=p(new y,e,b);return void 0!=n&&u(n,m,r[_],r),r}),b.prototype=w,w.constructor=b),(S||R)&&(x("delete"),x("has"),m&&x("get")),(R||M)&&x(_),g&&w.clear&&delete w.clear}else b=v.getConstructor(e,t,m,_),a(b.prototype,n),s.NEED=!0;return h(b,t),E[t]=b,i(i.G+i.W+i.F*(b!=y),E),g||v.setStrong(b,t,m),b}},function(t,e,n){"use strict";var r=n(217),i=n(218),o="Set";t.exports=n(219)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,o),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(174)(0),o=n(19),a=n(23),s=n(69),u=n(222),c=n(14),l=n(8),f=n(218),d="WeakMap",h=a.getWeak,p=Object.isExtensible,v=u.ufstore,m={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(c(t)){var e=h(t);return e===!0?v(f(this,d)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(f(this,d),t,e)}},b=t.exports=n(219)(d,g,y,u,!0,!0);l(function(){return 7!=(new b).set((Object.freeze||Object)(m),7).get(m)})&&(r=u.getConstructor(g,d),s(r.prototype,y),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=b.prototype,n=e[t];o(e,t,function(e,i){if(c(e)&&!p(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(215),i=n(23).getWeak,o=n(13),a=n(14),s=n(207),u=n(208),c=n(174),l=n(6),f=n(218),d=c(5),h=c(6),p=0,v=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},g=function(t,e){return d(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return n===!0?v(f(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return n===!0?v(f(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return r===!0?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},function(t,e,n){"use strict";var r=n(222),i=n(218),o="WeakSet";n(219)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(9),i=n(225),o=n(226),a=n(13),s=n(40),u=n(38),c=n(14),l=n(5).ArrayBuffer,f=n(209),d=o.ArrayBuffer,h=o.DataView,p=i.ABV&&l.isView,v=d.prototype.slice,m=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||c(t)&&m in t}}),r(r.P+r.U+r.F*n(8)(function(){return!new d(2).slice(1,void 0).byteLength}),g,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(f(this,d))(u(i-r)),c=new h(this),l=new h(o),p=0;r<i;)l.setUint8(p++,c.getUint8(r++));return o}}),n(194)(g)},function(t,e,n){for(var r,i=n(5),o=n(11),a=n(20),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,d=9,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<d;)(r=i[h[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){"use strict";function r(t,e,n){var r,i,o,a=Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?V(2,-24)-V(2,-77):0,f=0,d=t<0||0===t&&1/t<0?1:0;for(t=B(t),t!=t||t===j?(i=t!=t?1:0,r=u):(r=z(q(t)/G),t*(o=V(2,-r))<1&&(r--,o*=2),t+=r+c>=1?l/o:l*V(2,1-c),t*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*V(2,e),r+=c):(i=t*V(2,c-1)*V(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-j:j;r+=V(2,e),l-=a}return(c?-1:1)*r*V(2,l-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return r(t,52,8)}function l(t){return r(t,23,4)}function f(t,e,n){S(t[P],e,{get:function(){return this[n]}})}function d(t,e,n,r){var i=+n,o=A(i);if(o+e>t[K])throw D(F);var a=t[W]._b,s=o+t[J],u=a.slice(s,s+e);return r?u:u.reverse()}function h(t,e,n,r,i,o){var a=+n,s=A(a);if(s+e>t[K])throw D(F);for(var u=t[W]._b,c=s+t[J],l=r(+i),f=0;f<e;f++)u[c+f]=l[o?f:e-f-1]}var p=n(5),v=n(7),m=n(29),g=n(225),y=n(11),b=n(215),_=n(8),w=n(207),E=n(39),x=n(38),A=n(227),M=n(50).f,S=n(12).f,T=n(190),R=n(25),O="ArrayBuffer",C="DataView",P="prototype",k="Wrong length!",F="Wrong index!",I=p[O],L=p[C],N=p.Math,D=p.RangeError,j=p.Infinity,U=I,B=N.abs,V=N.pow,z=N.floor,q=N.log,G=N.LN2,Y="buffer",X="byteLength",H="byteOffset",W=v?"_b":Y,K=v?"_l":X,J=v?"_o":H;if(g.ABV){if(!_(function(){I(1)})||!_(function(){new I(-1)})||_(function(){return new I,new I(1.5),new I(NaN),I.name!=O})){I=function(t){return w(this,I),new U(A(t))};for(var Z,Q=I[P]=U[P],$=M(U),tt=0;$.length>tt;)(Z=$[tt++])in I||y(I,Z,U[Z]);m||(Q.constructor=I)}var et=new L(new I(2)),nt=L[P].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||b(L[P],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else I=function(t){w(this,I,O);var e=A(t);this._b=T.call(Array(e),0),this[K]=e},L=function(t,e,n){w(this,L,C),w(t,I,C);var r=t[K],i=E(e);if(i<0||i>r)throw D("Wrong offset!");if(n=void 0===n?r-i:x(n),i+n>r)throw D(k);this[W]=t,this[J]=i,this[K]=n},v&&(f(I,X,"_l"),f(L,Y,"_b"),f(L,X,"_l"),f(L,H,"_o")),b(L[P],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){var e=d(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=d(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(d(this,4,t,arguments[1]))},getUint32:function(t){return o(d(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(d(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(d(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){h(this,1,t,a,e)},setUint8:function(t,e){h(this,1,t,a,e)},setInt16:function(t,e){h(this,2,t,s,e,arguments[2])},setUint16:function(t,e){h(this,2,t,s,e,arguments[2])},setInt32:function(t,e){h(this,4,t,u,e,arguments[2])},setUint32:function(t,e){h(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){h(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){h(this,8,t,c,e,arguments[2])}});R(I,O),R(L,C),y(L[P],g.VIEW,!0),e[O]=I,e[C]=L},function(t,e,n){var r=n(39),i=n(38);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(9);r(r.G+r.W+r.F*!n(225).ABV,{DataView:n(226).DataView})},function(t,e,n){n(230)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";if(n(7)){var r=n(29),i=n(5),o=n(8),a=n(9),s=n(225),u=n(226),c=n(21),l=n(207),f=n(18),d=n(11),h=n(215),p=n(39),v=n(38),m=n(227),g=n(40),y=n(17),b=n(6),_=n(75),w=n(14),E=n(58),x=n(164),A=n(46),M=n(59),S=n(50).f,T=n(166),R=n(20),O=n(26),C=n(174),P=n(37),k=n(209),F=n(195),I=n(130),L=n(167),N=n(194),D=n(190),j=n(187),U=n(12),B=n(51),V=U.f,z=B.f,q=i.RangeError,G=i.TypeError,Y=i.Uint8Array,X="ArrayBuffer",H="Shared"+X,W="BYTES_PER_ELEMENT",K="prototype",J=Array[K],Z=u.ArrayBuffer,Q=u.DataView,$=C(0),tt=C(2),et=C(3),nt=C(4),rt=C(5),it=C(6),ot=P(!0),at=P(!1),st=F.values,ut=F.keys,ct=F.entries,lt=J.lastIndexOf,ft=J.reduce,dt=J.reduceRight,ht=J.join,pt=J.sort,vt=J.slice,mt=J.toString,gt=J.toLocaleString,yt=O("iterator"),bt=O("toStringTag"),_t=R("typed_constructor"),wt=R("def_constructor"),Et=s.CONSTR,xt=s.TYPED,At=s.VIEW,Mt="Wrong length!",St=C(1,function(t,e){return Pt(k(t,t[wt]),e)}),Tt=o(function(){return 1===new Y(new Uint16Array([1]).buffer)[0]}),Rt=!!Y&&!!Y[K].set&&o(function(){new Y(1).set({})}),Ot=function(t,e){var n=p(t);if(n<0||n%e)throw q("Wrong offset!");return n},Ct=function(t){if(w(t)&&xt in t)return t;throw G(t+" is not a typed array!")},Pt=function(t,e){if(!(w(t)&&_t in t))throw G("It is not a typed array constructor!");return new t(e)},kt=function(t,e){return Ft(k(t,t[wt]),e)},Ft=function(t,e){for(var n=0,r=e.length,i=Pt(t,r);r>n;)i[n]=e[n++];return i},It=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,r,i,o,a,s=E(t),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=T(s);if(void 0!=d&&!x(d)){for(a=d.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),e=0,n=v(s.length),i=Pt(this,n);n>e;e++)i[e]=f?l(s[e],e):s[e];return i},Nt=function(){for(var t=0,e=arguments.length,n=Pt(this,e);e>t;)n[t]=arguments[t++];return n},Dt=!!Y&&o(function(){gt.call(new Y(1))}),jt=function(){return gt.apply(Dt?vt.call(Ct(this)):Ct(this),arguments)},Ut={copyWithin:function(t,e){return j.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return D.apply(Ct(this),arguments)},filter:function(t){return kt(this,tt(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Ct(this),arguments)},lastIndexOf:function(t){return lt.apply(Ct(this),arguments)},map:function(t){return St(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Ct(this),arguments)},reduceRight:function(t){return dt.apply(Ct(this),arguments)},reverse:function(){for(var t,e=this,n=Ct(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),r=n.length,i=g(t,r);return new(k(n,n[wt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:g(e,r))-i))}},Bt=function(t,e){return kt(this,vt.call(Ct(this),t,e))},Vt=function(t){Ct(this);var e=Ot(arguments[1],1),n=this.length,r=E(t),i=v(r.length),o=0;if(i+e>n)throw q(Mt);for(;o<i;)this[e+o]=r[o++]},zt={entries:function(){return ct.call(Ct(this))},keys:function(){return ut.call(Ct(this))},values:function(){return st.call(Ct(this))}},qt=function(t,e){return w(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Gt=function(t,e){return qt(t,e=y(e,!0))?f(2,t[e]):z(t,e)},Yt=function(t,e,n){return!(qt(t,e=y(e,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};Et||(B.f=Gt,U.f=Yt),a(a.S+a.F*!Et,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Yt}),o(function(){mt.call({})})&&(mt=gt=function(){return ht.call(this)});var Xt=h({},Ut);h(Xt,zt),d(Xt,yt,zt.values),h(Xt,{slice:Bt,set:Vt,constructor:function(){},toString:mt,
toLocaleString:jt}),It(Xt,"buffer","b"),It(Xt,"byteOffset","o"),It(Xt,"byteLength","l"),It(Xt,"length","e"),V(Xt,bt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,u){u=!!u;var c=t+(u?"Clamped":"")+"Array",f="get"+t,h="set"+t,p=i[c],g=p||{},y=p&&M(p),b=!p||!s.ABV,E={},x=p&&p[K],T=function(t,n){var r=t._d;return r.v[f](n*e+r.o,Tt)},R=function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*e+i.o,r,Tt)},O=function(t,e){V(t,e,{get:function(){return T(this,e)},set:function(t){return R(this,e,t)},enumerable:!0})};b?(p=n(function(t,n,r,i){l(t,p,c,"_d");var o,a,s,u,f=0,h=0;if(w(n)){if(!(n instanceof Z||(u=_(n))==X||u==H))return xt in n?Ft(p,n):Lt.call(p,n);o=n,h=Ot(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw q(Mt);if(a=g-h,a<0)throw q(Mt)}else if(a=v(i)*e,a+h>g)throw q(Mt);s=a/e}else s=m(n),a=s*e,o=new Z(a);for(d(t,"_d",{b:o,o:h,l:a,e:s,v:new Q(o)});f<s;)O(t,f++)}),x=p[K]=A(Xt),d(x,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&L(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,i){l(t,p,c);var o;return w(n)?n instanceof Z||(o=_(n))==X||o==H?void 0!==i?new g(n,Ot(r,e),i):void 0!==r?new g(n,Ot(r,e)):new g(n):xt in n?Ft(p,n):Lt.call(p,n):new g(m(n))}),$(y!==Function.prototype?S(g).concat(S(y)):S(g),function(t){t in p||d(p,t,g[t])}),p[K]=x,r||(x.constructor=p));var C=x[yt],P=!!C&&("values"==C.name||void 0==C.name),k=zt.values;d(p,_t,!0),d(x,xt,c),d(x,At,!0),d(x,wt,p),(u?new p(1)[bt]==c:bt in x)||V(x,bt,{get:function(){return c}}),E[c]=p,a(a.G+a.W+a.F*(p!=g),E),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){g.of.call(p,1)}),c,{from:Lt,of:Nt}),W in x||d(x,W,e),a(a.P,c,Ut),N(c),a(a.P+a.F*Rt,c,{set:Vt}),a(a.P+a.F*!P,c,zt),r||x.toString==mt||(x.toString=mt),a(a.P+a.F*o(function(){new p(1).slice()}),c,{slice:Bt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:jt}),I[c]=P?C:k,r||P||d(x,yt,k)}}else t.exports=function(){}},function(t,e,n){n(230)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(230)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(230)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(230)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(230)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(230)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(230)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(230)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(9),i=n(22),o=n(13),a=(n(5).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(8)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(9),i=n(46),o=n(22),a=n(13),s=n(14),u=n(8),c=n(77),l=(n(5).Reflect||{}).construct,f=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),d=!u(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,h=i(s(u)?u:Object.prototype),p=Function.apply.call(t,h,e);return s(p)?p:h}})},function(t,e,n){var r=n(12),i=n(9),o=n(13),a=n(17);i(i.S+i.F*n(8)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(9),i=n(51).f,o=n(13);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(9),i=n(13),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(131)(o,"Object",function(){var t,e=this,n=e._k;do if(e._i>=n.length)return{value:void 0,done:!0};while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){function r(t,e){var n,s,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=i.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(s=o(t))?r(s,e,l):void 0}var i=n(51),o=n(59),a=n(6),s=n(9),u=n(14),c=n(13);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(51),i=n(9),o=n(13);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(9),i=n(59),o=n(13);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(9);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(9),i=n(13),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(9);r(r.S,"Reflect",{ownKeys:n(250)})},function(t,e,n){var r=n(50),i=n(43),o=n(13),a=n(5).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(9),i=n(13),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var u,d,h=arguments.length<4?t:arguments[3],p=o.f(l(t),e);if(!p){if(f(d=a(t)))return r(d,e,n,h);p=c(0)}return s(p,"value")?!(p.writable===!1||!f(h))&&(u=o.f(h,e)||c(0),u.value=n,i.f(h,e,u),!0):void 0!==p.set&&(p.set.call(h,n),!0)}var i=n(12),o=n(51),a=n(59),s=n(6),u=n(9),c=n(18),l=n(13),f=n(14);u(u.S,"Reflect",{set:r})},function(t,e,n){var r=n(9),i=n(73);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(9),i=n(37)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(188)("includes")},function(t,e,n){"use strict";var r=n(9),i=n(256),o=n(58),a=n(38),s=n(22),u=n(175);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(188)("flatMap")},function(t,e,n){"use strict";function r(t,e,n,c,l,f,d,h){for(var p,v,m=l,g=0,y=!!d&&s(d,h,3);g<c;){if(g in n){if(p=y?y(n[g],g,e):n[g],v=!1,o(p)&&(v=p[u],v=void 0!==v?!!v:i(p)),v&&f>0)m=r(t,e,p,a(p.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=p}m++}g++}return m}var i=n(45),o=n(14),a=n(38),s=n(21),u=n(26)("isConcatSpreadable");t.exports=r},function(t,e,n){"use strict";var r=n(9),i=n(256),o=n(58),a=n(38),s=n(39),u=n(175);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(188)("flatten")},function(t,e,n){"use strict";var r=n(9),i=n(128)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(9),i=n(260);r(r.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){var r=n(38),i=n(91),o=n(36);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var f=l-u,d=i.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(t,e,n){"use strict";var r=n(9),i=n(260);r(r.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(83)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(83)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(9),i=n(36),o=n(38),a=n(135),s=n(198),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(131)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new c(r,e)}})},function(t,e,n){n(28)("asyncIterator")},function(t,e,n){n(28)("observable")},function(t,e,n){var r=n(9),i=n(250),o=n(33),a=n(51),s=n(165);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,c=i(r),l={},f=0;c.length>f;)n=u(r,e=c[f++]),void 0!==n&&s(l,e,n);return l}})},function(t,e,n){var r=n(9),i=n(269)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(31),i=n(33),o=n(44).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),u=s.length,c=0,l=[];u>c;)o.call(a,n=s[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){var r=n(9),i=n(269)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(9),i=n(58),o=n(22),a=n(12);n(7)&&r(r.P+n(272),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";t.exports=n(29)||!n(8)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(5)[t]})},function(t,e,n){"use strict";var r=n(9),i=n(58),o=n(22),a=n(12);n(7)&&r(r.P+n(272),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(9),i=n(58),o=n(17),a=n(59),s=n(51).f;n(7)&&r(r.P+n(272),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do if(e=s(n,r))return e.get;while(n=a(n))}})},function(t,e,n){"use strict";var r=n(9),i=n(58),o=n(17),a=n(59),s=n(51).f;n(7)&&r(r.P+n(272),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do if(e=s(n,r))return e.set;while(n=a(n))}})},function(t,e,n){var r=n(9);r(r.P+r.R,"Map",{toJSON:n(277)("Map")})},function(t,e,n){var r=n(75),i=n(278);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(208);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){var r=n(9);r(r.P+r.R,"Set",{toJSON:n(277)("Set")})},function(t,e,n){n(281)("Map")},function(t,e,n){"use strict";var r=n(9);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(281)("Set")},function(t,e,n){n(281)("WeakMap")},function(t,e,n){n(281)("WeakSet")},function(t,e,n){n(286)("Map")},function(t,e,n){"use strict";var r=n(9),i=n(22),o=n(21),a=n(208);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),e=void 0!==u,e&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){n(286)("Set")},function(t,e,n){n(286)("WeakMap")},function(t,e,n){n(286)("WeakSet")},function(t,e,n){var r=n(9);r(r.G,{global:n(5)})},function(t,e,n){var r=n(9);r(r.S,"System",{global:n(5)})},function(t,e,n){var r=n(9),i=n(35);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(9);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(9);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(9),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(9),i=n(297),o=n(114);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-(1/0)?t:(t-e)*(i-r)/(n-e)+r}},function(t,e,n){var r=n(9);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(t,e,n){var r=n(9);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(t,e,n){var r=n(9);r(r.S,"Math",{imulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,a=i&n,s=r>>16,u=i>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>16)+((o*u>>>0)+(c&n)>>16)}})},function(t,e,n){var r=n(9);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(9),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(9);r(r.S,"Math",{scale:n(297)})},function(t,e,n){var r=n(9);r(r.S,"Math",{umulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,a=i&n,s=r>>>16,u=i>>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>>16)+((o*u>>>0)+(c&n)>>>16)}})},function(t,e,n){var r=n(9);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var r=n(9),i=n(10),o=n(5),a=n(209),s=n(214);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(9),i=n(212),o=n(213);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(309),i=n(13),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(216),i=n(9),o=n(24)("metadata"),a=o.store||(o.store=new(n(221))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},u=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},c=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},l=function(t,e,n,r){s(n,r,!0).set(t,e)},f=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},d=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},h=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:s,has:u,get:c,set:l,keys:f,key:d,exp:h}},function(t,e,n){var r=n(309),i=n(13),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var r=n(309),i=n(13),o=n(59),a=r.has,s=r.get,u=r.key,c=function(t,e,n){var r=a(t,e,n);if(r)return s(t,e,n);var i=o(e);return null!==i?c(t,i,n):void 0};r.exp({getMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(220),i=n(278),o=n(309),a=n(13),s=n(59),u=o.keys,c=o.key,l=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=l(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return l(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var r=n(309),i=n(13),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(309),i=n(13),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(309),i=n(13),o=n(59),a=r.has,s=r.key,u=function(t,e,n){var r=a(t,e,n);if(r)return!0;var i=o(e);return null!==i&&u(t,i,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(309),i=n(13),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(309),i=n(13),o=n(22),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){var r=n(9),i=n(211)(),o=n(5).process,a="process"==n(35)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(9),i=n(5),o=n(10),a=n(211)(),s=n(26)("observable"),u=n(22),c=n(13),l=n(207),f=n(215),d=n(11),h=n(208),p=h.RETURN,v=function(t){return null==t?void 0:u(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},y=function(t){g(t)||(t._o=void 0,m(t))},b=function(t,e){c(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}g(this)&&m(this)};b.prototype=f({},{unsubscribe:function(){y(this)}});var _=function(t){this._s=t};_.prototype=f({},{next:function(t){var e=this._s;if(!g(e)){var n=e._o;try{var r=v(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(g(e))throw t;var n=e._o;e._o=void 0;try{var r=v(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{m(e)}finally{throw t}}return m(e),t},complete:function(t){var e=this._s;if(!g(e)){var n=e._o;e._o=void 0;try{var r=v(n.complete);t=r?r.call(n,t):void 0}catch(t){try{m(e)}finally{throw t}}return m(e),t}}});var w=function(t){l(this,w,"Observable","_f")._f=u(t)};f(w.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(t){var e="function"==typeof this?this:w,n=v(c(t)[s]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(h(t,!1,function(t){if(e.next(t),n)return p})===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),d(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(194)("Observable")},function(t,e,n){var r=n(5),i=n(9),o=r.navigator,a=[].slice,s=!!o&&/MSIE .\./.test(o.userAgent),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(9),i=n(210);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(195),i=n(31),o=n(19),a=n(5),s=n(11),u=n(130),c=n(26),l=c("iterator"),f=c("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var m,g=p[v],y=h[g],b=a[g],_=b&&b.prototype;if(_&&(_[l]||s(_,l,d),_[f]||s(_,f,g),u[g]=d,y))for(m in r)_[m]||o(_,m,r[m],!0)}},function(t,e){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new h(r||[]);return a._invoke=c(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(e,i,o,a){var s=r(t[e],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function c(t,e,n){var i=M;return function(o,a){if(i===T)throw new Error("Generator is already running");if(i===R){if("throw"===o)throw a;return v()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===O)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===M)throw i=R,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=T;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?R:S,c.arg===O)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=R,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,l(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,O;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:m,done:!0}}var m,g=Object.prototype,y=g.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag",x="object"==typeof t,A=e.regeneratorRuntime;if(A)return void(x&&(t.exports=A));A=e.regeneratorRuntime=x?t.exports:{},A.wrap=n;var M="suspendedStart",S="suspendedYield",T="executing",R="completed",O={},C={};C[_]=function(){return this};var P=Object.getPrototypeOf,k=P&&P(P(p([])));k&&k!==g&&y.call(k,_)&&(C=k);var F=a.prototype=i.prototype=Object.create(C);o.prototype=F.constructor=a,a.constructor=o,a[E]=o.displayName="GeneratorFunction",A.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},A.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,E in t||(t[E]="GeneratorFunction")),t.prototype=Object.create(F),t},A.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},A.AsyncIterator=u,A.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return A.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(F),F[E]="Generator",F[_]=function(){return this},F.toString=function(){return"[object Generator]"},A.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},A.values=p,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),d(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=m),O}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}())},function(t,e,n){n(325),t.exports=n(10).RegExp.escape},function(t,e,n){var r=n(9),i=n(326)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(328),o=r(i),a=n(526),s=r(a),u=n(417);e.default=function(){var t=[],e=document.querySelector(".epok-logo"),n=e.querySelector(".epok-logo__build"),r=Array.from(n.children),i=600,a=function(t){return Math.pow(t,.6)};t[0]=function(){return Promise.all(r.map(function(t,e){return new Promise(function(n){return setTimeout(function(){t.classList.add("epok-show"),(0,s.default)(t,.4,t.className.match).then(n),setTimeout(n,1e3)},i*a(e))})}))};var c=(0,o.default)(document.querySelector("canvas"),{animate:!1,track:!1,keyboard:!1,use_media:!1,static_image:u.rootPath+"build/images/epok/arg.jpg"});Object.assign(c.tendrils.state,c.defaultState,{flowDecay:.001,varyForce:.1,varyNoiseSpeed:0,colorMapAlpha:.4,baseColor:Object.assign(c.tracks.baseColor,[0,0,0,.85]),flowColor:Object.assign(c.tracks.flowColor,[1,1,1,.06]),fadeColor:Object.assign(c.tracks.fadeColor,[0,0,0,0])}),Object.assign(c.tracks.spawn,{radius:.475,speed:0}),Object.assign(c.tracks.blur,{radius:4,limit:.4}),c.reset(),t[1]=function(){setTimeout(function(){c.restart(),document.addEventListener("click",function(){return c.spawnFastest()}),document.addEventListener("dblclick",function(){return c.spawnImage()}),document.querySelector("header").classList.remove("epok-folio--intro-run")},100),setTimeout(function(){Object.assign(c.tracks.audio,c.audioDefaults),c.toggleMedia(!0),Object.assign(c.tracks.fadeColor,[0,0,0,.0025])},5e3)};var l=function(){return t[0]().then(t[1])};return{go:l,stages:t}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n(329);var u=n(330),c=i(u),l=n(332),f=i(l),d=n(333),h=i(d),p=n(344),v=i(p),m=n(345),g=i(m),y=n(357),b=i(y),_=n(358),w=i(_),E=n(371),x=i(E),A=n(377),M=n(347),S=i(M),T=n(378),R=i(T),O=n(380),C=i(O),P=n(407),k=i(P),F=n(408),I=i(F),L=n(415),N=i(L),D=n(417),j=n(418),U=i(j),B=n(419),V=i(B),z=n(420),q=n(466),G=r(q),Y=n(467),X=i(Y),H=n(468),W=i(H),K=n(469),J=i(K),Z=n(470),Q=i(Z),$=n(471),tt=i($),et=n(475),nt=i(et),rt=n(479),it=i(rt),ot=n(494),at=i(ot),st=n(490),ut=n(497),ct=i(ut),lt=n(511),ft=i(lt),dt=n(453),ht=i(dt),pt=n(520),vt=i(pt),mt=n(455),gt=i(mt),yt=n(522),bt=i(yt),_t=n(523),wt=i(_t),Et=n(525),xt=n(493),At=i(xt),Mt=n(492),St=i(Mt),Tt=n(480),Rt=i(Tt);R.default.defaultFnFormatter=function(t,e){return e.name},e.default=function(t,e){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.spawnFlow;A.vec2.div(Ft.spawnSize,It[Nt.scale],j.viewSize),Ft.spawn(j,void 0,t)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.spawnFastest;Dt.buffer=j.particles.buffers[0],Dt.spawnSize=j.particles.shape,Dt.spawn(j,void 0,t)}function i(t,e,n){Vt.shader=t,Vt.speed=e;var r=zt.image,i=Yt;ut.useMedia&&qt&&(r=zt.video,i=qt),Vt.buffer.shape=j.colorMap.shape=r,Vt.setPixels(i),Vt.spawn(j,void 0,n)}function u(){ut.useMedia=!0,(0,h.default)({video:!0,audio:!0},function(t,e){if(t)console.warn(t);else{Gt=e;var n=Object.assign(document.createElement("video"),{src:self.URL.createObjectURL(e),srcObject:e,controls:!0,muted:!0,autoplay:!0});n.addEventListener("canplay",function(){qt=n,zt.video=[n.videoWidth,n.videoHeight]}),Mt=Mt||(0,v.default)(e,{audible:!1}),Mt.analyser.fftSize=Math.pow(2,7),Tt=Tt||new it.default(Mt,3)}})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;ut.useMedia=!1,t&&(0,Rt.default)(function(t){return t.stop()},t.getTracks())}function d(){var t=L.app.tick().dt;he.app.play(L.app.time),dt&&dt.currentTime>=0&&(L.track.tick(1e3*dt.currentTime),ut.animate&&he.track.play(L.track.time),mt&&mt.tick(L.track.time,dt.paused)),Qt.frequencies(xt.dataOrder(0)).apply(),$t.views[1]=ut.useMedia&&qt?Wt.buffers[0]:Vt.buffer,$t.draw(j.colorMap),j.step().draw(),j.buffers.length&&(F.bindFramebuffer(F.FRAMEBUFFER,null),j.drawFade(),ce.bind(),Object.assign(ce.uniforms,{view:j.buffers[0].color[0].bind(1),resolution:j.viewRes,time:j.timer.time},fe),ue.render(),j.stepBuffers()),F.viewport.apply(F,[0,0].concat(o(j.flow.shape))),j.flow.bind(),Pt.trim(1/j.state.flowDecay,L.app.time),(0,Rt.default)(function(t){Object.assign(t.line.uniforms,j.state),t.update().draw()},Pt.active),ut.useMedia&&qt&&(Wt.resize(zt.video),Wt.setPixels(qt),Kt.speed&&(Wt.update(s({speedLimit:rt.speedLimit,time:L.app.time,viewSize:j.viewSize},Kt)),ue.render()),Wt.step()),xt&&xt.sample(t),Tt&&Tt.sample(t),se()}function p(){t.width=self.innerWidth,t.height=self.innerHeight,j.resize()}function m(){var e=he.track.tracks,i=he.track.outputs;e.tendrils.smoothTo({to:{forceWeight:.01,lineWidth:1},time:13e3,ease:[0,.95,1]}),e.tendrils2.smoothTo({to:{noiseWeight:.001,varyNoiseScale:5},time:13e3,ease:[0,.2,1]}).smoothTo({to:{noiseScale:60,varyNoiseScale:8,noiseSpeed:3e-4},time:18e3,ease:[0,0,1.1,1]}),e.tendrils3.smoothTo({to:{target:2e-5,varyTarget:5},time:1e3,ease:[0,0,1]}).smoothTo({to:{target:3e-5},time:1e4,ease:[0,.1,1]}),e.opticalFlow.to({to:{speed:0},time:300}),e.audio.over(100,{to:{mic:0},time:1e3}).over(100,{to:{trackCamAt:.1*lt.trackCamAt},time:13100}),e.calls.to({time:1e3,call:[function(){var t=i.spawn,e=t.radius;t.radius=.2,Y(j.targets),t.radius=e}]}).to({time:13e3,call:[function(){B.spawnImage=j.targets,Xt(j.targets)}]}),e.blend.to({to:[1,0],time:13e3,ease:[0,0,1]}),e.blur.to({to:le,time:1e4,ease:[0,0,1]}),e.baseColor.over(2e3,{to:[1,1,1,.9],time:13e3,ease:[0,0,1]}),e.fadeColor.over(3e3,{
to:[0,0,0,.08],time:13e3,ease:[0,0,1]}),e.tendrils.smoothTo({to:{forceWeight:.014,varyForce:.3,varyFlow:.5,speedAlpha:0,colorMapAlpha:1},time:23e3,ease:[0,.95,1]}),e.tendrils2.smoothTo({to:{noiseScale:30,varyNoiseScale:0},time:24e3,ease:[0,-.3,1.7,1]}),e.tendrils3.smoothOver(1e3,{to:{target:5e-5},time:24e3,ease:[0,0,1]}).smoothOver(3e3,{to:{target:34e-5},time:29e3,ease:[0,0,1]}).smoothOver(1e3,{to:{target:.0016},time:33e3,ease:[0,0,1]}).smoothOver(800,{to:{target:.013,lineWidth:2},time:36e3,ease:[0,.6,1]}).smoothTo({to:{target:0},time:37e3,ease:[0,1,1]}).smoothTo({to:{target:.08},time:38500,ease:[0,0,1]}).to({to:{target:0},time:39e3,ease:[0,1,1]}).to({to:{target:.04},time:41e3,ease:[0,0,1]}).to({to:{target:3e-5},time:43e3,ease:[0,.7,1]}).to({to:{lineWidth:1},time:46e3,ease:[0,1,1]}),e.opticalFlow.smoothOver(8e3,{to:Jt,time:35e3,ease:[0,1,1]}),e.calls.to({time:24100,call:[function(){return Xt(j.targets)}]}).to({time:29100,call:[function(){return Xt(j.targets)}]}).to({time:35100,call:[function(){return Xt(j.targets)}]}).to({time:37100,call:[function(){return Xt(j.targets)}]}).to({time:40100,call:[function(){return Xt(j.targets)}]}),e.tendrils.smoothOver(2e3,{to:{flowWeight:1,varyFlow:.5},time:29e3,ease:[0,-.1,.95,1]}),e.tendrils2.smoothOver(2e3,{to:{noiseSpeed:2e-4},time:29e3,ease:[0,-.1,.95,1]}),e.blend.to({to:[.45,.7],time:23e3,ease:[0,0,1]}).to({to:[.1,1],time:32e3,ease:[0,0,1]}),e.baseColor.to({to:[1,1,1,.25],time:23e3}).over(1e3,{to:[1,1,1,.1],time:36e3}),e.flowColor.over(1e3,{to:[1,1,1,.05],time:24e3}),e.fadeColor.over(1e3,{to:[0,0,0,.05],time:35e3,ease:[0,0,1]}),e.tendrils.over(400,{to:{flowWeight:.75,varyFlow:.4,speedAlpha:5e-4,colorMapAlpha:.1},ease:[0,0,1],time:47e3}),e.tendrils2.smoothOver(3e3,{to:{noiseSpeed:2e-4,noiseScale:20},time:38500,ease:[0,0,1]}).smoothTo({to:{noiseWeight:.0013,noiseScale:10},time:4e4,ease:[0,0,1]}).smoothTo({to:{noiseWeight:.0018,noiseScale:6},time:42e3,ease:[0,0,1]}).to({to:{noiseScale:18,varyNoiseScale:.3,noiseSpeed:2e-4},time:46500,ease:[0,0,0,1]}),e.audio.over(100,{to:{trackCamAt:0,trackFlowAt:lt.trackFlowAt,trackFastAt:lt.trackFastAt,micFlowAt:lt.micFlowAt,micFastAt:lt.micFastAt},time:47e3}),e.blend.over(1e3,{to:[.3,.8],time:46600,ease:[0,0,0,1]}).to({to:[1,0],time:46800,ease:[0,0,0,1]}),e.baseColor.over(50,{to:[0,0,0,.8],time:46800}),e.flowColor.over(1600,{to:[1,1,1,.035],time:46800}),e.fadeColor.over(1600,{to:[1,1,1,.05],time:46800,ease:[0,0,1]}),e.spawn.over(100,{to:{radius:.25,speed:0},time:46600}).over(100,{to:pe.respawn,time:47e3}),e.calls.to({time:46800,call:[function(){return Y()}]}).to({time:49e3,call:[function(){delete B.spawnImage,r(),n();var t=i.spawn,e=t.radius;t.radius=.2,Y(j.targets),t.radius=e}]}),e.tendrils.smoothOver(6e3,{to:{flowWeight:1,colorMapAlpha:0,speedAlpha:0},time:59e3,ease:[0,0,1]}).smoothOver(7e3,{to:{forceWeight:.015,varyForce:.2,autoFade:!1},time:7e4,ease:[0,-.1,.5,1]}).to({to:{forceWeight:.017,varyForce:0,flowWeight:.9,flowDecay:3e-4},time:70100}).smoothTo({to:{flowWeight:1,varyFlow:0,speedAlpha:5e-4,colorMapAlpha:.12},time:93600,ease:[0,1,1]}),e.tendrils2.smoothOver(15e3,{to:{noiseWeight:.0025,noiseScale:2.5,varyNoise:0,varyNoiseScale:0,varyNoiseSpeed:0},time:7e4,ease:[0,-.1,.95,1]}).smoothTo({to:{noiseScale:.5},time:93600,ease:[0,-.1,.95,1]}),e.spawn.over(100,{to:{radius:.1,speed:.2},time:7e4}).smoothTo({to:{radius:.9,speed:.01},time:93e3,ease:[0,.3,1]}).to({to:{radius:.25,speed:0},time:93600,ease:[0,0,1]}).to({to:pe.spawn,time:96e3,ease:[0,0,1]}),e.baseColor.over(100,{to:[0,0,0,.85],time:70100}),e.flowColor.over(23600,{to:[1,1,1,.05],ease:[0,0,1],time:93600}),e.fadeColor.over(100,{to:[0,0,0,0],time:70100}).over(100,{to:[1,1,1,.1],time:93600}),e.audio.over(50,{to:{trackFlowAt:0,micFlowAt:0,trackFastAt:0,micFastAt:0,trackFormAt:1.2*lt.trackFormAt,micFormAt:1.2*lt.micFormAt},time:70100}).over(50,{to:{trackFlowAt:.8*lt.trackFlowAt,micFlowAt:.9*lt.micFlowAt,trackFastAt:lt.trackFastAt,micFastAt:lt.micFastAt},time:93600});var a=function(){K(),j.viewport().drawFill([1,1,1,1])};e.calls.to({time:70100,call:[function(){t.classList.remove("epok-dark"),t.classList.add("epok-light"),a()}]}).to({time:73e3,call:[a]}).to({time:76e3,call:[a]}).to({time:82e3,call:[a]}).to({time:85e3,call:[a]}).to({time:88e3,call:[a]}).to({time:93600,call:[function(){t.classList.remove("epok-light"),t.classList.add("epok-dark"),a()}]}),e.tendrils.to({to:{forceWeight:.014,varyForce:.2,flowWeight:1,varyFlow:.8,flowDecay:.003,colorMapAlpha:.05,autoFade:!0},time:93800}).to({to:{flowWeight:.8,varyFlow:.3},time:95200}).smoothTo({to:{forceWeight:.015,varyForce:.1,flowWeight:1,colorMapAlpha:.08},time:107e3,ease:[0,1,1]}),e.tendrils2.to({to:{noiseWeight:.001,varyNoise:.1,noiseScale:26,varyNoiseScale:0,noiseSpeed:33e-5},time:93800}).smoothTo({to:{noiseWeight:.003,noiseScale:1.8,varyNoiseScale:.5,noiseSpeed:27e-5},time:109e3,ease:[0,.7,1]}),e.audio.to({to:{trackFormAt:lt.trackFormAt,micFormAt:lt.micFormAt},time:96e3,ease:[0,1,1]}).to({to:{trackFastAt:.9*lt.trackFastAt,micFastAt:.9*lt.micFastAt},time:107e3,ease:[0,0,1]}),e.baseColor.over(100,{to:[0,0,0,.7],time:93800}).to({to:[0,0,0,.8],time:117e3,ease:[0,0,1]}),e.flowColor.to({to:[1,1,1,.03],time:93800}),e.fadeColor.to({to:[1,1,1,.1],time:107e3}),e.tendrils.over(5e3,{to:{flowWeight:.5,speedAlpha:0,colorMapAlpha:1},time:132e3,ease:[0,.2,1]}).smoothOver(7e3,{to:{flowWeight:1,speedAlpha:5e-4},time:141e3,ease:[0,0,1]}).smoothTo({to:{colorMapAlpha:.85,varyForce:.25,varyFlow:.4},time:145e3,ease:[0,0,1]}),e.tendrils2.smoothOver(3e3,{to:{varyNoise:.8,noiseScale:-1.5,varyNoiseScale:20,noiseSpeed:3e-4,varyNoiseSpeed:.02},time:129e3,ease:[0,.2,1]}).smoothTo({to:{noiseWeight:.0028,noiseScale:5,varyNoiseScale:-4,varyNoiseSpeed:.1},time:134e3,ease:[0,0,1,1]}).smoothTo({to:{noiseWeight:.003,varyNoise:.3,noiseScale:1.8,varyNoiseScale:1,varyNoiseSpeed:0},time:142e3,ease:[0,0,1,1]}),e.tendrils3.over(6e3,{to:{target:.017,lineWidth:2},time:132e3,ease:[0,0,1]}).over(4e3,{to:{target:3e-5,lineWidth:1},time:14e4,ease:[0,0,1]}),e.calls.to({time:117e3,call:[function(){return Ht()}]}).to({time:126e3,call:[function(){Xt(),B.spawnImage=j.targets,Xt(j.targets)}]}).to({time:128e3,call:[function(){return Xt()}]}).to({time:134e3,call:[function(){return Xt()}]}).to({time:137e3,call:[function(){return Xt()}]}).to({time:138e3,call:[function(){delete B.spawnImage;var t=i.spawn,e=t.radius;t.radius=.2,Y(j.targets),t.radius=e,Xt()}]}).to({time:141400,call:[function(){return Xt()}]}).to({time:144200,call:[function(){return Xt()}]}).to({time:146200,call:[function(){return Xt()}]}),e.audio.over(100,{to:{trackFastAt:0,micFastAt:0,trackSampleAt:.8*lt.trackSampleAt,micSampleAt:.8*lt.micSampleAt},time:117e3}).over(100,{to:{trackFlowAt:0,micFlowAt:0,trackFormAt:0,micFormAt:0,trackSampleAt:0,micSampleAt:0,trackSpawnAt:0,micSpawnAt:0,trackCamAt:1.2*lt.trackCamAt,micCamAt:1.2*lt.micCamAt},time:124e3}).to({to:{trackCamAt:.3*lt.trackCamAt,micCamAt:.3*lt.micCamAt},time:132e3,ease:[0,.8,1]}).over(3e3,{to:{trackCamAt:lt.trackCamAt,micCamAt:lt.micCamAt},time:14e4,ease:[0,.8,1]}).over(100,{to:{trackCamAt:0,micCamAt:0,trackFlowAt:1.2*lt.trackFlowAt,micFlowAt:1.2*lt.micFlowAt,trackFastAt:lt.trackFastAt,micFastAt:lt.micFastAt},time:152e3}),e.blend.over(4800,{to:[0,1],time:133e3,ease:[0,.2,1]}).smoothOver(6e3,{to:[.1,.9],time:142e3,ease:[0,0,1]}).smoothTo({to:[.6,.6],time:152e3,ease:[0,0,1]}),e.baseColor.over(5e3,{to:[0,0,0,.2],time:132e3}).over(4e3,{to:[0,0,0,.8],time:145e3,ease:[0,0,1]}),e.flowColor.over(5e3,{to:[0,0,0,0],time:134e3}).over(4e3,{to:[1,1,1,.03],time:146e3}),e.fadeColor.over(5e3,{to:[1,1,1,.05],time:134e3,ease:[0,0,1]}).over(4e3,{to:[1,1,1,.2],time:146e3,ease:[0,1,1]}),e.tendrils.smoothOver(8e3,{to:{colorMapAlpha:.6},time:16e4,ease:[0,.4,1]}).smoothTo({to:{colorMapAlpha:.6},time:174e3,ease:[0,.4,1]}).to({to:{colorMapAlpha:.3},time:174500}),e.tendrils2.smoothTo({to:{noiseWeight:.0045,noiseScale:.4,varyNoiseScale:2.5},time:174e3,ease:[0,.1,1]}),e.blend.over(14e3,{to:[1,.2],time:174e3}),e.baseColor.over(14e3,{to:[0,0,0,.75],time:174e3,ease:[0,.1,1]}),e.flowColor.over(14e3,{to:[1,1,1,.02],time:174e3,ease:[0,.7,1]}).to({to:[1,1,1,0],time:174500,ease:[0,.7,1]}),e.audio.over(100,{to:{trackSampleAt:0,micSampleAt:0},time:16e4}).over(100,{to:{trackFormAt:lt.trackFormAt,micFormAt:lt.micFormAt},time:174e3}),e.opticalFlow.smoothOver(4e3,{to:{speed:0},time:178e3,ease:[0,1,1]}),e.tendrils.smoothTo({to:{flowWeight:-.4,colorMapAlpha:.7},time:187e3,ease:[0,.1,1]}).smoothTo({to:{flowWeight:1,colorMapAlpha:.3},time:187400,ease:[0,.95,1]}),e.tendrils2.smoothTo({to:{noiseWeight:.008,noiseScale:.5,varyNoiseScale:80,noiseSpeed:6e-4},time:183e3,ease:[0,.1,1.1,1]}).smoothTo({to:{noiseScale:2,varyNoiseScale:100},time:183e3,ease:[0,1,1]}).smoothTo({to:{noiseScale:8,varyNoiseScale:0,noiseSpeed:2e-4},time:187e3}).to({to:{noiseWeight:.004,noiseSpeed:18e-5,noiseScale:1.2,varyNoiseScale:.2},time:187500}),e.audio.over(9e3,{to:{trackFlowAt:.2*lt.trackFlowAt,trackFastAt:.06*lt.trackFastAt},time:185e3,ease:[0,.1,1]}).smoothTo({to:{trackFlowAt:lt.trackFlowAt,trackFastAt:lt.trackFastAt},time:187e3,ease:[0,.9,1]}).over(100,{to:{trackSpawnAt:.1*lt.trackSpawnAt,micSpawnAt:.2*lt.micSpawnAt,trackFormAt:0,micFormAt:0},time:187300}).over(100,{to:{trackSpawnAt:0,micSpawnAt:0},time:188e3}),e.calls.to({time:187200,call:[function(){return Y()}]}),e.spawn.over(100,{to:{radius:.03},time:187100}).to({to:{radius:.9},time:19e4}),e.blend.to({to:[1,.1],time:18e4}).to({to:[1,0],time:187e3}).to({to:[.9,.3],time:187400}),e.blur.over(12e3,{to:{radius:12,limit:.3},time:187e3,ease:[0,0,1]}).to({to:le,time:188e3,ease:[0,1,1]});var s=(0,St.default)(function(t){return t/255},[255,232,120]);e.baseColor.to({to:[].concat(o(s),[.7]),time:182e3,ease:[0,1,1]}).over(500,{to:[1,1,1,.75],time:188e3}),e.flowColor.to({to:[].concat(o(s),[.2]),time:186e3}).to({to:[].concat(o(s),[.05]),time:19e4}),e.fadeColor.over(14e3,{to:[0,0,0,.1],time:187e3}).to({to:[.1,.14,.2,.05],time:187400}),e.opticalFlow.smoothOver(2e3,{to:{speed:.08},time:19e4,ease:[0,1,1]}),e.tendrils.smoothTo({to:{forceWeight:.015,varyForce:.2,flowWeight:1,varyFlow:.3,colorMapAlpha:.9},time:255e3,ease:[0,1,1]}),e.tendrils2.smoothTo({to:{varyNoise:.7,noiseScale:.5,varyNoiseScale:2,noiseSpeed:12e-5},time:257e3,ease:[0,.8,1]}),e.audio.over(100,{to:{trackFastAt:lt.trackFastAt,micFastAt:lt.micFastAt,trackFlowAt:3*lt.trackFlowAt,micFlowAt:3*lt.micFlowAt,trackFormAt:3*lt.trackFormAt,micFormAt:3*lt.micFormAt,trackSampleAt:3*lt.trackSampleAt,micSampleAt:3*lt.micSampleAt},time:189e3}).to({to:{trackFastAt:.6*lt.trackFastAt,micFastAt:.6*lt.micFastAt},ease:[0,0,1],time:198e3}).to({to:{trackFormAt:.8*lt.trackFormAt,micFormAt:.8*lt.micFormAt,trackSampleAt:lt.trackSampleAt,micSampleAt:lt.micSampleAt},ease:[0,0,1],time:211e3}).to({to:{trackSampleAt:.55*lt.trackSampleAt,micSampleAt:.55*lt.micSampleAt,trackFastAt:lt.trackFastAt,micFastAt:lt.micFastAt,trackFormAt:lt.trackFormAt,micFormAt:lt.micFormAt},ease:[0,1,1],time:217e3}).to({to:{trackFlowAt:.8*lt.trackFlowAt,micFlowAt:.8*lt.micFlowAt},ease:[0,0,1],time:223e3}).to({to:{trackFormAt:.8*lt.trackFormAt,micFormAt:.8*lt.micFormAt,trackSampleAt:3*lt.trackSampleAt,micSampleAt:3*lt.micSampleAt},time:234e3}).to({to:{trackFastAt:.75*lt.trackFastAt,micFastAt:.75*lt.micFastAt,trackFlowAt:.75*lt.trackFlowAt,micFlowAt:.75*lt.micFlowAt,trackFormAt:lt.trackFormAt,micFormAt:lt.micFormAt},time:247e3}).over(100,{to:{trackFastAt:0,micFastAt:0,trackFlowAt:0,micFlowAt:0,trackFormAt:0,micFormAt:0,trackSampleAt:0,micSampleAt:0},time:255e3}),e.calls.to({time:211e3,call:[function(){return Ht()}]}).to({time:214e3,call:[function(){return Ht()}]}).to({time:217e3,call:[function(){return Ht()}]}),e.blend.over(21e3,{to:[1,.65],time:211e3}),e.tendrils.smoothTo({to:{forceWeight:.015,flowWeight:-.1,speedAlpha:.002,colorMapAlpha:.9},time:257600,ease:[0,1,1]}).smoothOver(300,{to:{varyFlow:.4,colorMapAlpha:.3},time:281e3,ease:[0,0,1]}),e.tendrils2.smoothTo({to:{noiseWeight:.005,noiseScale:1.2,varyNoiseScale:2,noiseSpeed:3e-4,varyNoiseSpeed:.01},time:257600,ease:[0,0,1]}).smoothTo({to:{noiseScale:.9,varyNoiseScale:3,noiseSpeed:1e-4,varyNoiseSpeed:0},time:261e3,ease:[0,.1,1.1,1]}),e.audio.over(100,{to:{trackFlowAt:0,trackFastAt:lt.trackFastAt,trackFormAt:0,trackSampleAt:0,trackCamAt:0,trackSpawnAt:0,micFlowAt:0,micFastAt:lt.micFastAt,micFormAt:0,micSampleAt:0,micCamAt:0,micSpawnAt:0},time:257600}).to({to:{trackFastAt:4*lt.trackFastAt,micFastAt:4*lt.micFastAt},time:264e3}).over(100,{to:{trackFastAt:0,mic:lt.mic,micFlowAt:lt.micFlowAt,micFastAt:lt.micFastAt,micFormAt:lt.micFormAt,micSampleAt:lt.micSampleAt,micSpawnAt:lt.micSpawnAt},time:283e3}),e.spawn.over(50,{to:{radius:.6,speed:.01},time:257600}),e.blend.over(1e3,{to:[1,.05],time:259e3}),e.blur.over(23e3,{to:{radius:6,limit:.4},time:281e3,ease:[0,0,1]}).to({to:le,time:283e3,ease:[0,1,1]});var u=(0,St.default)(function(t){return t/255},[255,209,71]);e.baseColor.over(1e3,{to:[].concat(o(u),[.85]),time:259e3}).over(300,{to:[1,1,1,.9],time:281e3,ease:[0,0,1]}),e.flowColor.over(1e3,{to:[].concat(o(u),[.15]),time:259e3}).over(300,{to:[1,1,1,.1],time:281e3,ease:[0,0,1]}),e.fadeColor.over(2e3,{to:[].concat(o((0,St.default)(function(t){return.01*t},u)),[.1]),time:259e3,ease:[0,0,1]}).over(300,{to:[0,0,0,.15],time:281e3,ease:[0,1,1]}),e.calls.to({time:281e3,call:[function(){return E(!0)}]})}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe.main;t.__controllers&&t.__controllers.forEach(function(t){return t.updateDisplay()});for(var e in t.__folders)y(t.__folders[e])}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xe.main;t?e.open():e.close();for(var n in e.__folders)_(t,e.__folders[n])}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!xe.showing;Ae.classList[t?"remove":"add"]("epok-hide"),xe.showing=t}function M(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt.paused;return t?dt.play():dt.pause()},e=function(e){dt.currentTime+=.001*e,t(!0)},i=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Re(null,e),(0,Rt.default)(function(t){return t()},e)},o=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){return i.apply(void 0,e)}},a=function(t){(0,Rt.default)(function(t){return t.reset&&t.reset()},t),y()},u=(0,Et.curry)(function(t,e){(0,Rt.default)(function(e){return e.adjust&&e.adjust(t)},e),y()}),c=function(t,e,n){return t[n]=e[n]},l=(0,Et.curry)(c,c.length+1),d=function(t,e,n,r){return t[e]+=n*r},h=(0,Et.curry)(d),p=function(t,e){return t[e]=!t[e]},v=(0,Et.curry)(p,p.length+1),m=l(rt,P),g=h(rt),b=v(rt),_=function(t){return{reset:m(t),go:b(t)}},w=function(t,e){return{reset:m(t),adjust:g(t,e)}},x={},A={"`":{reset:function(){j.setup(P.rootNum),K()},adjust:function(t){j.setup(rt.rootNum*Math.pow(2,t)),K()}},P:_("autoClearView"),Q:w("forceWeight",.01),A:w("flowWeight",.02),W:w("noiseWeight",2e-4),S:w("flowDecay",.005),D:w("flowWidth",1),E:w("noiseScale",1),R:w("noiseSpeed",.002),Z:w("damping",.001),X:w("speedLimit",1e-4),N:w("speedAlpha",.002),M:w("lineWidth",.1),"<control>":function(t,e){delete A[t],delete M[t],M[t]=o(function(){return Object.assign(rt,e)})}},M={H:function(){return E()},O:o(function(){return j.clear()}),0:o(Ke.Flow),1:o(Ke.Wings),2:o(Ke.Fluid),3:o(Ke["Flow only"]),4:o(Ke["Noise only"]),5:o(Ke.Sea),6:o(Ke.Petri),7:o(Ke.Turbulence),8:o(Ke.Rorschach),9:o(Ke.Funhouse),"-":u(-.1),"=":u(.1),"<down>":u(-1),"<up>":u(1),"<left>":u(-5),"<right>":u(5),"<escape>":function(){a(A),Re.apply(void 0,arguments)},"<caps-lock>":a,"<space>":function(){return t()},"[":function(){return e(-2e3)},"]":function(){return e(2e3)},"<enter>":Re,"<backspace>":function(){return he.track.trackAt(L.track.time).spliceAt(L.track.time)},"\\":o(function(){return H()}),"'":o(function(){return n()}),";":o(function(){return r()}),"<shift>":o(function(){return K()}),"/":o(function(){return Ht()}),".":o(function(){return Xt(null)}),",":o(function(){return Ut()})};_e&&(M.F=_e.request),document.body.addEventListener("keydown",function(t){var e=x["<control>"],n=f.default[t.keyCode],r=A[n],i=M[n];e?e(n,s({},rt)):r&&!x[n]?(x[n]=r,r.go&&r.go(x,rt)):i&&i(x,rt),y(),(r||i)&&(t.preventDefault(),t.stopPropagation())},!1),document.body.addEventListener("keyup",function(t){var e=f.default[t.keyCode],n=A[e],r=M[e];n&&x[e]&&("<control>"===e||x["<control>"]||Re(s({},rt)),x[e]=null,delete x[e]),(n||r)&&(t.preventDefault(),t.stopPropagation())},!1)}if(!(0,U.default)()){var T=Object.assign(S.default.parse(location.search.slice(1)),e),O=(0,z.defaults)(),P=O.state,F=(0,c.default)(t,z.glSettings,d),L={app:O.timer,track:new V.default(0)},j=new z.Tendrils(F,{timer:L.app,numBuffers:1}),B={},q=(0,tt.default)(F);q.shader.bind();var Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.respawn;return q.spawn(j,t)},H=function(){return j.reset()},K=function(){j.clear(),Y(),Y(j.targets)},Z=function(){return j.clear()},$=function(){return j.clearView()},et=function(){return j.clearFlow()},rt=j.state,ot=D.rootPath+"build/audio/Trust%20feat.%20Kathrin%20deBoer%20&%20Tom%20Hodge%20-%20Max%20Cooper.mp3",ut={trackURL:""+T.track=="false"?"":T.track?decodeURIComponent(T.track):""+T.local_stream!="true"?"https://soundcloud.com/max-cooper/trust-feat-kathrin-deboer":ot,animate:""+T.animate!="false",useMedia:""+T.use_media!="false",staticImage:T.static_image?decodeURIComponent(T.static_image):D.rootPath+"build/images/max/max-crop-gradient.png"};""+T.cursor=="false"&&t.classList.add("epok-no-cursor");var lt={audible:""+T.mute!="true",track:parseFloat(T.track_in||1,10),trackFlowAt:1.15,trackFastAt:.12,trackFormAt:.06,trackSampleAt:.12,trackCamAt:.008,trackSpawnAt:.18,mic:parseFloat(T.mic_in||1,10),micFlowAt:1,micFastAt:.8,micFormAt:.5,micSampleAt:.74,micCamAt:.06,micSpawnAt:.09},dt=Object.assign(new Audio,{crossOrigin:"anonymous",className:"track"}),pt=document.querySelector(".epok-audio-controls"),mt=pt&&{els:{main:pt,toggle:pt.querySelector(".epok-play-toggle"),progress:pt.querySelector(".epok-progress"),current:pt.querySelector(".epok-current"),total:pt.querySelector(".epok-total")},times:{current:new Date(0),total:new Date(0)},timeFormat:{second:"numeric"},seeking:!1,trackTimeChanged:function(){mt.els.progress.max=dt.duration;var t=1e3*dt.duration;mt.times.total.setTime(t),mt.timeFormat.minute=t>=6e4?"numeric":void 0,mt.timeFormat.hour=t>=36e5?"numeric":void 0,mt.els.current.innerText=0,mt.els.total.innerText=mt.times.total.toLocaleTimeString("en-gb",mt.timeFormat)},tick:function(t,e){mt.times.current.setTime(t),mt.els.current.innerText=mt.times.current.toLocaleTimeString("en-gb",mt.timeFormat),mt.seeking||(mt.els.progress.value=.001*t),mt.els.toggle.checked=!e}};mt&&(mt.els.main.parentElement.removeChild(mt.els.main),mt.els.main.appendChild(dt),mt.els.main.classList.add("epok-show"),dt.addEventListener("durationchange",mt.trackTimeChanged),mt.els.toggle.addEventListener("change",function(){return mt.els.toggle.checked?dt.play():dt.pause()}),mt.els.progress.addEventListener("pointerdown",function(){return mt.seeking=!0}),mt.els.progress.addEventListener("change",function(){mt.seeking&&(dt.currentTime=mt.els.progress.value,mt.seeking=!1)}));var yt=s({},lt),_t=(0,v.default)(dt,{audible:yt.audible});_t.analyser.fftSize=Math.pow(2,8);var xt=new it.default(_t,4),Mt=void 0,Tt=void 0,Ot=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.parentElement,r=arguments[2];if(dt.src!==e&&(dt.src=e,dt.currentTime=0),mt){var i=mt.els.main;i.parentElement!==n&&n.appendChild(i),i.classList[r?"add":"remove"]("epok-on-window")}return dt},Ct=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut.trackURL,r=document.querySelector(".epok-soundcloud");r&&r.parentElement.removeChild(r),n&&(n.match(/^(https?)?(\:\/\/)?(www\.)?soundcloud\.com\//gi)?(0,g.default)({client_id:"75aca2e2b815f9f5d4e92916c7b80846",song:n,dark:!1},function(t,n,r,i){t?(console.warn("Error loading track, fall back to local",t),e(ot)):(Ot(n,i.querySelector(".npm-scb-info")),i.classList.add("epok-soundcloud"))}):n.match(/^(https)?(:\/\/)?(www\.)?dropbox\.com\/s\//gi)?Ot(n.replace(/^((https)?(:\/\/)?(www\.)?)dropbox\.com\/s\/(.*)\?dl=(0)$/gi,"https://dl.dropboxusercontent.com/s/$5?dl=1&raw=1"),t.parentElement,!0):Ot(n,t.parentElement,!0))};Ct();var Pt=new ct.default(F),kt=function(e){var n=(0,b.default)(e,t);n[0]=(0,x.default)(n[0],0,j.viewRes[0],-1,1),n[1]=(0,x.default)(n[1],0,j.viewRes[1],1,-1),Pt.get(e.pointerId).add(L.app.time,n),e.preventDefault()};t.addEventListener("pointermove",kt,!1);var Ft=new G.PixelSpawner(F,{shader:[G.defaults().shader[0],J.default],buffer:j.flow}),It={normal:[1,-1],"mirror x":[-1,-1],"mirror y":[1,1],"mirror xy":[-1,1]},Lt={scale:"mirror xy"},Nt=s({},Lt),Dt=new G.PixelSpawner(F,{shader:[G.defaults().shader[0],Q.default],buffer:null}),jt=new nt.default(F,{speed:.005,bias:2e4}),Ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.spawnForm;return jt.shuffle().spawn(j,void 0,t)},Bt={direct:(0,C.default)(F,G.defaults().shader[0],X.default),sample:(0,C.default)(F,G.defaults().shader[0],W.default)},Vt=new G.PixelSpawner(F,{shader:null});A.mat3.scale(Vt.spawnMatrix,A.mat3.identity(Vt.spawnMatrix),[-1,1]);var zt={image:[0,0],video:[0,0]},qt=null,Gt=null,Yt=new Image;Yt.src=ut.staticImage,Yt.addEventListener("load",function(){return zt.image=[Yt.width,Yt.height]});var Xt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.spawnImage;return i(Bt.direct,.3,t)},Ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.spawnSamples;return i(Bt.sample,1,t)},Wt=new wt.default(F,void 0,{speed:.08,offset:.1}),Kt={speed:Wt.uniforms.speed,lambda:Wt.uniforms.lambda,offset:Wt.uniforms.offset},Jt=s({},Kt),Zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut.useMedia;return(t?u:l)()};ut.useMedia&&u();var Qt=new at.default(F,_t.analyser.frequencyBinCount),$t=new vt.default(F,{views:[Qt.texture,Wt.buffers[0]],alphas:[.3,.8]}),te=new Map,ee=function(t,e,n){return function(r){var i=t();if(i){var o=te.get(e);if(o)return o;var a=n(r,i);return te.set(e,a),a}return i}},ne=[[function(){return n()},ee(function(){return yt.track*yt.trackFlowAt},"meanWeight(track, 1, 0.25)",function(t,e){return(0,st.meanWeight)(t.dataOrder(1),.25)>e})],[function(){return r()},ee(function(){return yt.track*yt.trackFastAt},"meanWeight(track, 2, 0.8)",function(t,e){return(0,st.meanWeight)(t.dataOrder(2),.8)>e})],[function(){return Ut()},ee(function(){return yt.track*yt.trackFormAt},"abs(peak(track, 3))",function(t,e){return Math.abs((0,st.peak)(t.dataOrder(3)))>e})],[function(){return Ht()},ee(function(){return yt.track*yt.trackSampleAt},"meanWeight(track, 2, 0.25)",function(t,e){return(0,st.meanWeight)(t.dataOrder(2),.25)>e})],[function(){return Xt()},ee(function(){return yt.track*yt.trackCamAt},"meanWeight(track, 3, 0.5)",function(t,e){return(0,st.meanWeight)(t.dataOrder(3),.5)>e})],[function(){return K()},ee(function(){return yt.track*yt.trackSpawnAt},"meanWeight(track, 3, 0.25)",function(t,e){return(0,st.meanWeight)(t.dataOrder(2),.25)>e})]],re=[[function(){return n()},ee(function(){return yt.mic*yt.micFlowAt},"meanWeight(mic, 1, 0.3)",function(t,e){return(0,st.meanWeight)(t.dataOrder(1),.3)>e})],[function(){return r()},ee(function(){return yt.mic*yt.micFastAt},"meanWeight(mic, 1, 0.7)",function(t,e){return(0,st.meanWeight)(t.dataOrder(1),.7)>e})],[function(){return Ut()},ee(function(){return yt.mic*yt.micFormAt},"abs(peak(mic, 2))",function(t,e){return Math.abs((0,st.peak)(t.dataOrder(2)))>e})],[function(){return Ht()},ee(function(){return yt.mic*yt.micSampleAt},"meanWeight(mic, 1, 0.4)",function(t,e){return(0,st.meanWeight)(t.dataOrder(1),.4)>e})],[function(){return Xt()},ee(function(){return yt.mic*yt.micCamAt},"meanWeight(mic, 2, 0.6)",function(t,e){return(0,st.meanWeight)(t.dataOrder(2),.6)>e})],[function(){return K()},ee(function(){return yt.mic*yt.micSpawnAt},"meanWeight(mic, 2, 0.3)",function(t,e){return(0,st.meanWeight)(t.dataOrder(2),.3)>e})]],ie=function(t){return function(e){return t.fire.apply(t,o(e))}},oe=void 0,ae=void 0,se=function(){var t=!1;return yt.track>0&&!dt.paused&&(t=ne.some(oe||(oe=ie(xt)))),!t&&yt.mic>0&&Tt&&(t=re.some(ae||(ae=ie(Tt)))),te.clear(),t},ue=new ht.default(F),ce=(0,C.default)(F,gt.default,bt.default),le={radius:3,limit:.5},fe={radius:8,limit:.2};ce.bind(),Object.assign(ce.uniforms,fe);var de={tendrils:j.state,tendrils2:j.state,tendrils3:j.state,baseColor:j.state.baseColor,flowColor:j.state.flowColor,fadeColor:j.state.fadeColor,spawn:q.uniforms,opticalFlow:Kt,audio:yt,blend:$t.alphas,blur:fe,calls:{}},he={track:new ft.default((0,St.default)(function(){return[]},de,{}),de),app:new ft.default({main:[]},{main:j.state})};dt.addEventListener("seeked",function(){return ut.animate&&he.track.playFrom(1e3*dt.currentTime,0)});var pe={tendrils:{autoClearView:!1,autoFade:!0,forceWeight:.016,varyForce:-.25,flowWeight:1,varyFlow:.3,flowDecay:.003,flowWidth:5,speedAlpha:5e-4,colorMapAlpha:.85},tendrils2:{noiseWeight:3e-4,varyNoise:.3,noiseScale:1.5,varyNoiseScale:1,noiseSpeed:6e-4,varyNoiseSpeed:.05},tendrils3:{target:5e-6,varyTarget:1,lineWidth:1},baseColor:[1,1,1,.9],flowColor:[1,1,1,.1],fadeColor:[0,0,0,.1],spawn:{radius:.9,speed:.05},opticalFlow:s({},Jt),audio:{trackFlowAt:0,trackFastAt:0,trackFormAt:0,trackSampleAt:0,trackCamAt:0,trackSpawnAt:0,micFlowAt:0,micFastAt:0,micFormAt:0,micSampleAt:0,micCamAt:0,micSpawnAt:0},blend:[0,1],blur:s({},fe),calls:null},ve=60;he.track.tracks.calls.to({call:[function(){return H()}],time:ve}).to({call:[function(){K(),t.classList.remove("epok-light"),t.classList.add("epok-dark")}],time:200}),he.track.apply(function(t,e){var n=pe[e];return t.to({to:n,time:ve}),{apply:n}});var me=document.querySelector(".epok-info"),ge=me&&{info:me,starter:me.querySelector(".epok-info-content > .epok-button"),toggler:document.querySelector(".epok-info-button"),toggle:function(t){var e="undefined"!=typeof t?t:ge.info.classList.contains("epok-hide");e?ge.info.classList.remove("epok-hide"):ge.info.classList.add("epok-hide")},start:function(){ge.toggle(!1),dt.autoplay=!0,dt.duration&&dt.play()}};ge&&(ge.starter.addEventListener("click",ge.start),ge.toggler&&ge.toggler.addEventListener("click",function(){return ge.toggle()}));var ye={options:[{rootNum:P.rootNum,damping:P.damping},{rootNum:2*P.rootNum,damping:P.damping-.001}],level:parseInt(T.quality||(Math.max(window.innerWidth,window.innerHeight)<800?0:1),10),levels:Array.from(document.querySelectorAll(".epok-quality-level")),steppers:Array.from(document.querySelectorAll(".epok-quality-stepper,\n            .epok-quality-prompter")),change:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(ye.level+1)%ye.options.length,e=ye.options[t];j.setup(e.rootNum),Object.assign(rt,e),K(),ye.levels.forEach(function(t){return t.classList.add("epok-hide")});var n=ye.levels[t];n&&n.classList.remove("epok-hide"),ye.level=t},step:function(){return ye.change()}};ye.change(ye.level),ye.steppers.forEach(function(t){return t.addEventListener("click",ye.step)});var be=(0,k.default)("requestFullscreen",t),_e=be&&be.name&&{request:function(){return t[be.name]()},toggle:document.querySelector(".epok-fullscreen-button")};_e&&_e.toggle&&_e.toggle.addEventListener("click",_e.request);var we=document.querySelector(".epok-captured-overlay"),Ee=we&&{canvas:document.createElement("canvas"),overlay:we,exit:we.querySelector(".epok-exit-overlay"),captureURL:we.querySelector(".epok-capture-url"),url:we.querySelector(".epok-captured-url"),image:we.querySelector(".epok-captured-image"),toggle:document.querySelector(".epok-capture-button"),paused:dt.paused,data:null,reset:function(){return Ee.captureURL.classList.add("epok-loading"),Ee.image.src=Ee.url.value=""},screenshot:function(){Ee.paused=dt.paused,dt.pause(),Ee.reset(),Ee.canvas.width=t.width,Ee.canvas.height=t.height,Ee.context.fillStyle=getComputedStyle(t).backgroundColor,Ee.context.fillRect(0,0,t.width,t.height),Ee.context.drawImage(t,0,0);var e=Ee.canvas.toDataURL("image/png");Ee.data=Ee.image.src=e,Ee.overlay.classList.add("epok-show");var n=e.replace(/^data:image\/\w+;base64,/,"");(0,I.default)({url:"https://api.imgur.com/3/image",method:"POST",body:{image:n,type:"base64"},headers:{Authorization:"Client-ID 290f4e8d36da965"},json:!0},function(t,n,r){t?console.error(t,n):r.success&&200===r.status?Ee.data===e&&(console.log("Screenshot share image",Ee.image.src=Ee.url.value=r.data.link),Ee.captureURL.classList.remove("epok-loading")):console.error(t,n,r.status)})}};Ee&&(Ee.context=Ee.canvas.getContext("2d"),Ee.exit.addEventListener("click",function(){Ee.overlay.classList.remove("epok-show"),Ee.reset(),Ee.paused||dt.play()}),Ee.toggle&&Ee.toggle.addEventListener("click",Ee.screenshot)),self.addEventListener("resize",(0,w.default)(p,200),!1),p(),j.setup(),m(),Y();var xe={main:new N.default.GUI({autoPlace:!1}),showing:""+T.edit=="true",toggle:document.querySelector(".epok-editor-button")},Ae=Object.assign(document.createElement("div"),{className:"epok-edit-controls"}),Me=function(t){return t.stopPropagation()};xe.main.domElement.addEventListener("keydown",Me),xe.main.domElement.addEventListener("keyup",Me),xe.toggle&&xe.toggle.addEventListener("click",function(){return E()});var Se=/^(object|array|undefined|null)$/gi,Te={};Te.changeQuality=ye.step,_e&&(Te.fullscreen=_e.request),Te.screenshot=Ee.screenshot;var Re=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s({},rt),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return he.track.tracks.tendrils.smoothTo({to:t,call:e,time:L.track.time,ease:[0,.95,1]})},Oe=""+T.prompt_show!="false"?function(){var t;return(t=self).prompt.apply(t,arguments)}:function(){var t;return(t=console).log.apply(t,arguments)};Object.assign(Te,{showLink:function(){return Oe("Link:",location.href.replace(location.search||/$/gi,"?"+S.default.encode(s({},T,{track:encodeURIComponent(ut.trackURL),mute:!yt.audible,track_in:yt.track,mic_in:yt.mic,use_media:ut.useMedia,animate:ut.animate}))))},showState:function(){return Oe("Current state:",L.track.time,(0,R.default)(de))},showSequence:function(){return Oe("Animation sequence:",(0,R.default)(he.track.frames({})))},keyframe:Re}),xe.main.add(ut,"trackURL").onFinishChange(Ct),xe.main.add(ut,"animate"),xe.main.add(ut,"useMedia").onFinishChange(function(){return Zt()}),xe.main.add(ut,"staticImage").onFinishChange(function(){return Yt.src=ut.staticImage}),(0,Rt.default)(function(t,e){return xe.main.add(Te,e)},Te),xe.settings=xe.main.addFolder("settings");for(var Ce in rt)if(!a(rt[Ce]).match(Se)){var Pe=xe.settings.add(rt,Ce);"rootNum"===Ce&&Pe.onFinishChange(function(t){j.setup(t),K()})}var ke={baseColor:rt.baseColor.slice(0,3).map(function(t){return 255*t}),baseAlpha:rt.baseColor[3],flowColor:rt.flowColor.slice(0,3).map(function(t){return 255*t}),flowAlpha:rt.flowColor[3],fadeColor:rt.fadeColor.slice(0,3).map(function(t){return 255*t}),fadeAlpha:rt.fadeColor[3]},Fe=s({},ke),Ie=function(){rt.baseColor[3]=Fe.baseAlpha,Object.assign(rt.baseColor,Fe.baseColor.map(function(t){return t/255})),rt.flowColor[3]=Fe.flowAlpha,Object.assign(rt.flowColor,Fe.flowColor.map(function(t){return t/255})),rt.fadeColor[3]=Fe.fadeAlpha,Object.assign(rt.fadeColor,Fe.fadeColor.map(function(t){return t/255}))};xe.settings.addColor(Fe,"flowColor").onChange(Ie),xe.settings.add(Fe,"flowAlpha").onChange(Ie),xe.settings.addColor(Fe,"baseColor").onChange(Ie),xe.settings.add(Fe,"baseAlpha").onChange(Ie),xe.settings.addColor(Fe,"fadeColor").onChange(Ie),xe.settings.add(Fe,"fadeAlpha").onChange(Ie),Ie(),xe.blend=xe.main.addFolder("color blend");for(var Le=["audio","video"],Ne=(0,At.default)(function(t,e,n){return t[e]=$t.alphas[n],t},Le,{}),De=s({},Ne),je=function(){return(0,At.default)(function(t,e,n,r,i){return t[i]=e,t},Ne,$t.alphas)},Ue=0;Ue<Le.length;++Ue)xe.blend.add(Ne,Le[Ue]).onChange(je);xe.spawn=xe.main.addFolder("spawn");for(var Be in q.uniforms)a(q.uniforms[Be]).match(Se)||xe.spawn.add(q.uniforms,Be);
var Ve={radius:.3,speed:.005};xe.opticalFlow=xe.main.addFolder("optical flow");for(var ze in Kt)a(Kt[ze]).match(Se)||xe.opticalFlow.add(Kt,ze);xe.reflow=xe.main.addFolder("reflow"),xe.reflow.add(Nt,"scale",Object.keys(It)),xe.time=xe.main.addFolder("time");var qe=["paused","step","rate","end","loop"];qe.forEach(function(t){return xe.time.add(L.app,t)}),xe.audio=xe.main.addFolder("audio");for(var Ge in yt){var Ye=xe.audio.add(yt,Ge);"audible"===Ge&&Ye.onChange(function(t){var e=_t.merger||_t.analyser;t?e.connect(_t.ctx.destination):e.disconnect()})}xe.blur=xe.main.addFolder("blur");for(var Xe in le)a(fe[Xe]).match(Se)||xe.blur.add(fe,Xe);var He={clear:Z,clearView:$,clearFlow:et,respawn:Y,spawnSamples:Ht,spawnImage:Xt,spawnFlow:n,spawnFastest:r,spawnForm:Ut,reset:H,restart:K};xe.controls=xe.main.addFolder("controls");for(var We in He)xe.controls.add(He,We);xe.presets=xe.main.addFolder("presets");var Ke={Flow:function(){Object.assign(rt,{flowWidth:5,colorMapAlpha:0}),Object.assign(q.uniforms,{radius:.25,speed:.01}),Object.assign(Fe,{baseAlpha:0,baseColor:[0,0,0],flowAlpha:1,flowColor:[255,255,255],fadeAlpha:Math.max(rt.flowDecay,.05)})},Wings:function(){Object.assign(rt,{flowDecay:0,colorMapAlpha:0}),Object.assign(q.uniforms,{radius:.05,speed:.05}),Object.assign(Fe,{flowAlpha:.01,baseAlpha:.8,fadeAlpha:0}),K()},Fluid:function(){Object.assign(rt,{autoClearView:!0}),Object.assign(Fe,{fadeAlpha:0}),Z()},"Flow only":function(){Object.assign(rt,{flowDecay:.001,forceWeight:.014,noiseWeight:0,speedAlpha:0}),Object.assign(q.uniforms,{radius:.4,speed:.15}),Object.assign(Fe,{baseAlpha:.8,baseColor:[100,200,255],fadeAlpha:.1})},"Noise only":function(){Object.assign(rt,{flowWeight:0,noiseWeight:.003,noiseSpeed:5e-4,noiseScale:1.5,varyNoiseScale:10,varyNoiseSpeed:.05,speedAlpha:0,colorMapAlpha:.8}),Object.assign(Fe,{baseAlpha:.4,baseColor:[255,150,0],fadeAlpha:.05,flowAlpha:0}),Object.assign(Ne,{audio:.9,video:0})},Sea:function(){Object.assign(rt,{flowWidth:5,forceWeight:.013,noiseWeight:.002,flowDecay:.01,speedAlpha:0,colorMapAlpha:.4}),Object.assign(q.uniforms,{radius:1.5,speed:0}),Object.assign(Fe,{baseAlpha:.8,baseColor:[55,155,255],fadeAlpha:.3,fadeColor:[0,58,90]})},Ghostly:function(){Object.assign(rt,{flowDecay:0,colorMapAlpha:.005}),Object.assign(Fe,{baseAlpha:.25,baseColor:[255,255,255],flowAlpha:.03,fadeAlpha:.03,fadeColor:[0,0,0]})},Petri:function(){Object.assign(rt,{forceWeight:.015,noiseWeight:.001,flowDecay:.001,noiseScale:200,noiseSpeed:1e-4}),Object.assign(Fe,{baseAlpha:.4,baseColor:[255,203,37],flowAlpha:.05,fadeAlpha:.03}),Object.assign(q.uniforms,{radius:1/Math.max.apply(Math,o(j.viewSize)),speed:0})},Turbulence:function(){Object.assign(rt,{noiseSpeed:5e-5,noiseScale:10,forceWeight:.014,noiseWeight:.003,speedAlpha:2e-6,colorMapAlpha:.3}),Object.assign(Fe,{baseAlpha:.3,baseColor:[100,0,0],flowAlpha:.5,flowColor:[255,10,10],fadeAlpha:.01,fadeColor:[0,0,0]})},Rorschach:function(){Object.assign(rt,{noiseScale:40,varyNoiseScale:.1,noiseSpeed:1e-5,varyNoiseSpeed:.01,forceWeight:.014,noiseWeight:.0021,speedAlpha:2e-6,colorMapAlpha:.2}),Object.assign(Nt,{scale:"mirror xy"}),Object.assign(Fe,{baseAlpha:.9,baseColor:[0,0,0],flowAlpha:.1,fadeAlpha:.05,fadeColor:[255,255,255]})},Roots:function(){Object.assign(rt,{flowDecay:0,noiseSpeed:0,noiseScale:18,forceWeight:.015,noiseWeight:.0023,speedAlpha:5e-5,lineWidth:2,colorMapAlpha:1e-4}),Object.assign(Fe,{baseAlpha:.2,baseColor:[50,255,50],flowAlpha:.05,fadeAlpha:0})},Funhouse:function(){Object.assign(rt,{forceWeight:.0165,varyForce:.3,flowWeight:.5,varyFlow:1,noiseWeight:.0015,varyNoise:1,noiseScale:40,varyNoiseScale:-4,noiseSpeed:1e-4,varyNoiseSpeed:-3,flowDecay:.001,flowWidth:8,speedAlpha:2e-5,colorMapAlpha:1}),Object.assign(Fe,{baseAlpha:.2,baseColor:[0,0,0],flowAlpha:.05,fadeAlpha:.05,fadeColor:[0,0,0]}),Xt(null)}},Je=function(t){Object.assign(rt,P),Object.assign(q.uniforms,Ve),Object.assign(Nt,Lt),Object.assign(Fe,ke),Object.assign(Ne,De),t(),y(),Ie(),je()};for(var Ze in Ke)Ke[Ze]=Je.bind(null,Ke[Ze]),xe.presets.add(Ke,Ze);_(!0),E(xe.showing),setTimeout(function(){return xe.main.open()},200),Ae.appendChild(xe.main.domElement),t.parentElement.appendChild(Ae),""+T.keyboard!="false"&&M();var Qe=s({},He,{tendrils:j,tracks:de,defaultState:P,audioDefaults:lt,toggleMedia:Zt});return window.tendrils=Qe,Qe}}},function(t,e,n){/*!
	 * PEP v0.4.3 | https://github.com/jquery/PEP
	 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
	 */
!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t,e){e=e||Object.create(null);var n=document.createEvent("Event");n.initEvent(t,e.bubbles||!1,e.cancelable||!1);for(var r,i=2;i<d.length;i++)r=d[i],n[r]=e[r]||h[i];n.buttons=e.buttons||0;var o=0;return o=e.pressure&&n.buttons?e.pressure:n.buttons?.5:0,n.x=n.clientX,n.y=n.clientY,n.pointerId=e.pointerId||0,n.width=e.width||0,n.height=e.height||0,n.pressure=o,n.tiltX=e.tiltX||0,n.tiltY=e.tiltY||0,n.twist=e.twist||0,n.tangentialPressure=e.tangentialPressure||0,n.pointerType=e.pointerType||"",n.hwTimestamp=e.hwTimestamp||0,n.isPrimary=e.isPrimary||!1,n}function e(){this.array=[],this.size=0}function n(t,e,n,r){this.addCallback=t.bind(r),this.removeCallback=e.bind(r),this.changedCallback=n.bind(r),S&&(this.observer=new S(this.mutationWatcher.bind(this)))}function r(t){return"body /shadow-deep/ "+i(t)}function i(t){return'[touch-action="'+t+'"]'}function o(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}function a(){if(P){O.forEach(function(t){String(t)===t?(C+=i(t)+o(t)+"\n",k&&(C+=r(t)+o(t)+"\n")):(C+=t.selectors.map(i)+o(t.rule)+"\n",k&&(C+=t.selectors.map(r)+o(t.rule)+"\n"))});var t=document.createElement("style");t.textContent=C,document.head.appendChild(t)}}function s(){if(!window.PointerEvent){if(window.PointerEvent=t,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),_.registerSource("ms",Q)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),_.registerSource("mouse",j),void 0!==window.ontouchstart&&_.registerSource("touch",X);_.register(document)}}function u(t){if(!_.pointermap.has(t)){var e=new Error("InvalidPointerId");throw e.name="InvalidPointerId",e}}function c(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function l(t){var e=_.pointermap.get(t);return 0!==e.buttons}function f(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:H},releasePointerCapture:{value:W},hasPointerCapture:{value:K}})}var d=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],h=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],p=window.Map&&window.Map.prototype.forEach,v=p?Map:e;e.prototype={set:function(t,e){return void 0===e?this.delete(t):(this.has(t)||this.size++,void(this.array[t]=e))},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}};var m=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],g=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],y={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},b="undefined"!=typeof SVGElementInstance,_={pointermap:new v,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,r=n.events;r&&(r.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(e,n){this.captureInfo[n.pointerId]&&(n.relatedTarget=null);var r=new t(e,n);return n.preventDefault&&(r.preventDefault=n.preventDefault),r._target=r._target||n.target,r},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),r=0;r<m.length;r++)e=m[r],n[e]=t[e]||g[r],!b||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in y?void 0:e:t._target},propagate:function(t,e,n){for(var r=t.target,i=[];r!==document&&!r.contains(t.relatedTarget);)if(i.push(r),r=r.parentNode,!r)return;n&&i.reverse(),i.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(e,n,r){this.captureInfo[e]&&this.releaseCapture(e,r),this.captureInfo[e]=n,this.implicitRelease=this.releaseCapture.bind(this,e,r),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var i=new t("gotpointercapture");i.pointerId=e,i._target=n,r||this.asyncDispatchEvent(i)},releaseCapture:function(e,n){var r=this.captureInfo[e];if(r){this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var i=new t("lostpointercapture");i.pointerId=e,i._target=r,n||this.asyncDispatchEvent(i)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};_.boundHandler=_.eventHandler.bind(_);var w={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var r,i,o=t.elementFromPoint(e,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(e,n)){var a=this.targetingShadow(r);return this.searchRoot(a,e,n)||r}i=this.olderShadow(i)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,r=this.owner(t.target);return r.elementFromPoint(e,n)||(r=document),this.searchRoot(r,e,n)}},E=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Array.prototype.map.call.bind(Array.prototype.map),A=Array.prototype.slice.call.bind(Array.prototype.slice),M=Array.prototype.filter.call.bind(Array.prototype.filter),S=window.MutationObserver||window.WebKitMutationObserver,T="[touch-action]",R={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};n.prototype={watchSubtree:function(t){this.observer&&w.canTarget(t)&&this.observer.observe(t,R)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){E(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll(T):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(A(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=x(t,this.findElements,this);return e.push(M(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var O=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],C="",P=window.PointerEvent||window.MSPointerEvent,k=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,F=_.pointermap,I=25,L=[1,4,2,8,16],N=!1;try{N=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var D,j={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){_.listen(t,this.events)},unregister:function(t){_.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e.x),u=Math.abs(i-e.y);if(s<=I&&u<=I)return!0}},prepareEvent:function(t){var e=_.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,e},prepareButtonsForMove:function(t,e){var n=F.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=F.get(this.POINTER_ID),n=this.prepareEvent(t);N||(n.buttons=L[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),F.set(this.POINTER_ID,t),e&&0!==e.buttons?_.move(n):_.down(n)}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);N||this.prepareButtonsForMove(e,t),e.button=-1,F.set(this.POINTER_ID,t),_.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=F.get(this.POINTER_ID),n=this.prepareEvent(t);if(!N){var r=L[n.button];n.buttons=e?e.buttons&~r:0,t.buttons=n.buttons}F.set(this.POINTER_ID,t),n.buttons&=~L[n.button],0===n.buttons?_.up(n):_.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);N||this.prepareButtonsForMove(e,t),e.button=-1,F.set(this.POINTER_ID,t),_.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);N||this.prepareButtonsForMove(e,t),e.button=-1,_.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);_.cancel(e),this.deactivateMouse()},deactivateMouse:function(){F.delete(this.POINTER_ID)}},U=_.captureInfo,B=w.findTarget.bind(w),V=w.allShadows.bind(w),z=_.pointermap,q=2500,G=200,Y="touch-action",X={events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){D.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute(Y),n=this.touchActionToScrollType(e);n&&(t._scrollType=n,_.listen(t,this.events),V(t).forEach(function(t){t._scrollType=n,_.listen(t,this.events)},this))},elementRemoved:function(t){t._scrollType=void 0,_.unlisten(t,this.events),V(t).forEach(function(t){t._scrollType=void 0,_.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute(Y),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(e);r&&i?(t._scrollType=r,V(t).forEach(function(t){t._scrollType=r},this)):i?this.elementRemoved(t):r&&this.elementAdded(t)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e=t,n=this.scrollTypes;return"none"===e?"none":e===n.XSCROLLER?"X":e===n.YSCROLLER?"Y":n.SCROLLER.exec(e)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===z.size||1===z.size&&z.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,G)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=_.cloneEvent(t),r=n.pointerId=t.identifier+2;n.target=U[r]||B(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=t.force||t.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(t),n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var i=this;return n.preventDefault=function(){i.scrolling=!1,i.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var r,i=0;i<n.length;i++)r=n[i],e.call(this,this.touchToPointer(r))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if("none"===n)e=!1;else if("XY"===n)e=!0;else{var r=t.changedTouches[0],i=n,o="Y"===n?"X":"Y",a=Math.abs(r["client"+i]-this.firstXY[i]),s=Math.abs(r["client"+o]-this.firstXY[o]);e=a>=s}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,r=0,i=t.length;r<i&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(z.size>=e.length){var n=[];z.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var i=t.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){z.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),_.enterOver(t),_.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=z.get(e.pointerId);if(n){var r=n.out,i=n.outTarget;_.move(e),r&&i!==e.target&&(r.relatedTarget=e.target,e.relatedTarget=i,r.target=i,e.target?(_.leaveOut(r),_.enterOver(e)):(e.target=i,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(_.up(t),_.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){_.cancel(t),_.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){z.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=j.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};e.push(r);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,r);setTimeout(i,q)}}};D=new n(X.elementAdded,X.elementRemoved,X.elementChanged,X);var H,W,K,J=_.pointermap,Z=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,Q={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){_.listen(t,this.events)},unregister:function(t){_.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return Z&&(e=_.cloneEvent(t),e.pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){J.delete(t)},MSPointerDown:function(t){J.set(t.pointerId,t);var e=this.prepareEvent(t);_.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);_.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);_.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);_.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);_.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);_.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=_.makeEvent("lostpointercapture",t);_.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=_.makeEvent("gotpointercapture",t);_.dispatchEvent(e)}},$=window.navigator;$.msPointerEnabled?(H=function(t){u(t),c(this),l(t)&&(_.setCapture(t,this,!0),this.msSetPointerCapture(t))},W=function(t){u(t),_.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(H=function(t){u(t),c(this),l(t)&&_.setCapture(t,this)},W=function(t){u(t),_.releaseCapture(t)}),K=function(t){return!!_.captureInfo[t]},a(),s(),f();var tt={dispatcher:_,Installer:n,PointerEvent:t,PointerMap:v,targetFinding:w};return tt})},function(t,e,n){function r(t,e,n){function r(){n(o),i(r)}"function"==typeof e?(n=e,e={}):e=e||{};var o=t.getContext("webgl",e)||t.getContext("webgl-experimental",e)||t.getContext("experimental-webgl",e);if(!o)throw new Error("Unable to initialize WebGL");return n&&i(r),o}var i=n(331);t.exports=r},function(t,e){function n(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-r)),i=setTimeout(t,n);return r=e,i}e=t.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n;var r=(new Date).getTime(),i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;e.cancel=function(t){i.call(window,t)}},function(t,e){"use strict";var n,r="undefined"!=typeof window?window.navigator.userAgent:"",i=/OS X/.test(r),o=/Opera/.test(r),a=!/like Gecko/.test(r)&&!o,s=t.exports={0:i?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:i?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num-->",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:i&&a?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:o?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(n=58;n<65;++n)s[n]=String.fromCharCode(n);for(n=48;n<58;++n)s[n]=n-48+"";for(n=65;n<91;++n)s[n]=String.fromCharCode(n);for(n=96;n<106;++n)s[n]="<num-"+(n-96)+">";for(n=112;n<136;++n)s[n]="F"+(n-111)},function(t,e,n){n(334);t.exports=function(t,e){var n,r=2===arguments.length,i={video:!0,audio:!0},o="PermissionDeniedError",a="PERMISSION_DENIED",s="ConstraintNotSatisfiedError";return r||(e=t,t=i),"undefined"!=typeof navigator&&navigator.getUserMedia?t.audio||t.video?(localStorage&&"true"===localStorage.useFirefoxFakeDevice&&(t.fake=!0),void navigator.mediaDevices.getUserMedia(t).then(function(t){e(null,t)}).catch(function(t){var n;"string"==typeof t?(n=new Error("MediaStreamError"),t===o||t===a?n.name=o:n.name=s):(n=t,n.name||(n[o]?t.name=o:t.name=s)),e(n)})):(n=new Error("MediaStreamError"),n.name="NoMediaRequestedError",setTimeout(function(){e(n)},0)):(n=new Error("MediaStreamError"),n.name="NotSupportedError",setTimeout(function(){e(n)},0))}},function(t,e,n){"use strict";!function(){var e=n(335).log,r=n(335).browserDetails;t.exports.browserDetails=r,t.exports.extractVersion=n(335).extractVersion,t.exports.disableLog=n(335).disableLog;var i=n(336)||null,o=n(338)||null,a=n(341)||null,s=n(343)||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void e("Chrome shim is not included in this adapter release.");e("adapter.js shimming chrome."),t.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!a||!a.shimPeerConnection)return void e("Firefox shim is not included in this adapter release.");e("adapter.js shimming firefox."),t.exports.browserShim=a,a.shimGetUserMedia(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!o||!o.shimPeerConnection)return void e("MS edge shim is not included in this adapter release.");e("adapter.js shimming edge."),t.exports.browserShim=o,o.shimGetUserMedia(),o.shimPeerConnection();break;case"safari":if(!s)return void e("Safari shim is not included in this adapter release.");e("adapter.js shimming safari."),t.exports.browserShim=s,s.shimGetUserMedia();break;default:e("Unsupported browser!")}}()},function(t,e){"use strict";var n=!0,r={disableLog:function(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(n=t,t?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(t,e,n){var r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var t={};if(t.browser=null,t.version=null,t.minVersion=null,"undefined"==typeof window||!window.navigator)return t.browser="Not a browser.",t;if(navigator.mozGetUserMedia)t.browser="firefox",t.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),t.minVersion=31;else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)t.browser="chrome",t.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),t.minVersion=38;else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return t.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",t;t.browser="safari",t.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1),t.minVersion=602}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return t.browser="Not a supported browser.",t;t.browser="edge",t.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),t.minVersion=10547}return t.version<t.minVersion&&r.log("Browser: "+t.browser+" Version: "+t.version+" < minimum supported version: "+t.minVersion+"\n some things might not work!"),t}};t.exports={log:r.log,disableLog:r.disableLog,browserDetails:r.detectBrowser(),extractVersion:r.extractVersion}},function(t,e,n){"use strict";var r=n(335).log,i=n(335).browserDetails,o={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){var e=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=t),this.addEventListener("addstream",this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[t.stream],e.dispatchEvent(r)}),t.stream.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.receiver={track:e},n.streams=[t.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(t){var e=this;return this._srcObject=t,this.src&&URL.revokeObjectURL(this.src),t?(this.src=URL.createObjectURL(t),t.addEventListener("addtrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)}),void t.addEventListener("removetrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)})):void(this.src="")}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(t,e){r("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy);var n=new webkitRTCPeerConnection(t,e),i=n.getStats.bind(n);return n.getStats=function(t,e,n){var r=this,o=arguments;if(arguments.length>0&&"function"==typeof t)return i(t,e);var a=function(t){var e={},n=t.result();return n.forEach(function(t){var n={id:t.id,timestamp:t.timestamp,type:t.type};t.names().forEach(function(e){n[e]=t.stat(e)}),e[n.id]=n}),e},s=function(t,e){var n=new Map(Object.keys(t).map(function(e){return[e,t[e]]}));return e=e||t,Object.keys(e).forEach(function(t){n[t]=e[t]}),n};if(arguments.length>=2){var u=function(t){o[1](s(a(t)))};return i.apply(this,[u,arguments[0]])}return new Promise(function(e,n){1===o.length&&"object"==typeof t?i.apply(r,[function(t){e(s(a(t)))},n]):i.apply(r,[function(t){e(s(a(t),t.result()))},n])}).then(e,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(t){var e=webkitRTCPeerConnection.prototype[t];webkitRTCPeerConnection.prototype[t]=function(){var t=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,i){e.apply(t,[r,i,n])})}return e.apply(this,arguments)}}),i.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=webkitRTCPeerConnection.prototype[t];webkitRTCPeerConnection.prototype[t]=function(){var t=arguments,n=this,r=new Promise(function(r,i){e.apply(n,[t[0],r,i])});return t.length<2?r:r.then(function(){t[1].apply(null,[])},function(e){t.length>=3&&t[2].apply(null,[e])})}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():t.apply(this,arguments)},["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=webkitRTCPeerConnection.prototype[t];webkitRTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}})},attachMediaStream:function(t,e){r("DEPRECATED, attachMediaStream will soon be removed."),i.version>=43?t.srcObject=e:"undefined"!=typeof t.src?t.src=URL.createObjectURL(e):r("Error attaching stream to element.")},reattachMediaStream:function(t,e){r("DEPRECATED, reattachMediaStream will soon be removed."),i.version>=43?t.srcObject=e.srcObject:t.src=e.src}};t.exports={shimMediaStream:o.shimMediaStream,shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(337),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(t,e,n){"use strict";var r=n(335).log;t.exports=function(){var t=function(t){if("object"!=typeof t||t.mandatory||t.optional)return t;var e={};return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof t[n]?t[n]:{ideal:t[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==r.ideal){e.optional=e.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,e.optional.push(o),o={},o[i("max",n)]=r.ideal,e.optional.push(o)):(o[i("",n)]=r.ideal,e.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(e.mandatory=e.mandatory||{},e.mandatory[i("",n)]=r.exact):["min","max"].forEach(function(t){void 0!==r[t]&&(e.mandatory=e.mandatory||{},e.mandatory[i(t,n)]=r[t])})}}),t.advanced&&(e.optional=(e.optional||[]).concat(t.advanced)),e},e=function(e,n){if(e=JSON.parse(JSON.stringify(e)),e&&e.audio&&(e.audio=t(e.audio)),e&&"object"==typeof e.video){var i=e.video.facingMode;if(i=i&&("object"==typeof i?i:{ideal:i}),i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then(function(o){o=o.filter(function(t){return"videoinput"===t.kind});var a=o.find(function(t){return t.label.toLowerCase().indexOf("back")!==-1})||o.length&&o[o.length-1];return a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=t(e.video),r("chrome: "+JSON.stringify(e)),n(e)});e.video=t(e.video)}return r("chrome: "+JSON.stringify(e)),n(e)},n=function(t){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[t.name]||t.name,message:t.message,constraint:t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(t,r,i){e(t,function(t){navigator.webkitGetUserMedia(t,r,function(t){i(n(t))})})};navigator.getUserMedia=i;var o=function(t){return new Promise(function(e,n){navigator.getUserMedia(t,e,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:o,enumerateDevices:function(){return new Promise(function(t){var e={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){t(n.map(function(t){return{label:t.label,kind:e[t.kind],deviceId:t.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t,function(t){return a(t).catch(function(t){return Promise.reject(n(t))})})}}else navigator.mediaDevices.getUserMedia=function(t){return o(t)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){
r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},function(t,e,n){"use strict";var r=n(339),i=n(335).log,o={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(t){return t}),window.RTCSessionDescription||(window.RTCSessionDescription=function(t){return t})),window.RTCPeerConnection=function(t){var e=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){e[t]=n[t].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return e.localStreams},this.getRemoteStreams=function(){return e.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},t&&t.iceTransportPolicy)switch(t.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=t.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=t&&"max-bundle"===t.bundlePolicy,t&&t.iceServers){var r=JSON.parse(JSON.stringify(t.iceServers));this.iceOptions.iceServers=r.filter(function(t){if(t&&t.urls){var e=t.urls;return"string"==typeof e&&(e=[e]),e=e.filter(function(t){return 0===t.indexOf("turn:")&&t.indexOf("transport=udp")!==-1})[0],!!e}return!1})}this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var t=this,e=r.splitSections(t.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){var r=!n.candidate||0===Object.keys(n.candidate).length;if(r)for(var i=1;i<e.length;i++)e[i].indexOf("\r\na=end-of-candidates\r\n")===-1&&(e[i]+="a=end-of-candidates\r\n");else n.candidate.candidate.indexOf("typ endOfCandidates")===-1&&(e[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");if(t.localDescription.sdp=e.join(""),t.dispatchEvent(n),null!==t.onicecandidate&&t.onicecandidate(n),!n.candidate&&"complete"!==t.iceGatheringState){var o=t.transceivers.every(function(t){return t.iceGatherer&&"completed"===t.iceGatherer.state});o&&(t.iceGatheringState="complete")}}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(t){this.localStreams.push(t.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(t){var e=this.localStreams.indexOf(t);e>-1&&(this.localStreams.splice(e,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(t){return!!t.rtpSender}).map(function(t){return t.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(t){return!!t.rtpReceiver}).map(function(t){return t.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(t,e){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return t.codecs.forEach(function(t){for(var r=0;r<e.codecs.length;r++){var i=e.codecs[r];if(t.name.toLowerCase()===i.name.toLowerCase()&&t.clockRate===i.clockRate&&t.numChannels===i.numChannels){n.codecs.push(i);break}}}),t.headerExtensions.forEach(function(t){for(var r=0;r<e.headerExtensions.length;r++){var i=e.headerExtensions[r];if(t.uri===i.uri){n.headerExtensions.push(i);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(t,e){var n=this,i=new RTCIceGatherer(n.iceOptions),o=new RTCIceTransport(i);i.onlocalcandidate=function(a){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:e};var u=a.candidate,c=!u||0===Object.keys(u).length;c?(void 0===i.state&&(i.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(u.component="RTCP"===o.component?2:1,s.candidate.candidate=r.writeCandidate(u));var l=r.splitSections(n.localDescription.sdp);s.candidate.candidate.indexOf("typ endOfCandidates")===-1?l[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":l[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",n.localDescription.sdp=l.join("");var f=n.transceivers.every(function(t){return t.iceGatherer&&"completed"===t.iceGatherer.state});switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s),c&&f&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),f&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete");break;case"complete":}},o.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(o);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:o,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(t,e,n){var i=this._getCommonCapabilities(t.localCapabilities,t.remoteCapabilities);e&&t.rtpSender&&(i.encodings=t.sendEncodingParameters,i.rtcp={cname:r.localCName},t.recvEncodingParameters.length&&(i.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(i)),n&&t.rtpReceiver&&(i.encodings=t.recvEncodingParameters,i.rtcp={cname:t.cname},t.sendEncodingParameters.length&&(i.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(t){var e,n,i=this;if("offer"===t.type)this._pendingOffer&&(e=r.splitSections(t.sdp),n=e.shift(),e.forEach(function(t,e){var n=r.parseRtpParameters(t);i._pendingOffer[e].localCapabilities=n}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===t.type){e=r.splitSections(i.remoteDescription.sdp),n=e.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;e.forEach(function(t,e){var a=i.transceivers[e],s=a.iceGatherer,u=a.iceTransport,c=a.dtlsTransport,l=a.localCapabilities,f=a.remoteCapabilities,d="0"===t.split("\n",1)[0].split(" ",2)[1];if(!d){var h=r.getIceParameters(t,n);if(o){var p=r.matchPrefix(t,"a=candidate:").map(function(t){return r.parseCandidate(t)}).filter(function(t){return"1"===t.component});p.length&&u.setRemoteCandidates(p)}var v=r.getDtlsParameters(t,n);o&&(v.role="server"),i.usingBundle&&0!==e||(u.start(s,h,o?"controlling":"controlled"),c.start(v));var m=i._getCommonCapabilities(l,f);i._transceive(a,m.codecs.length>0,!1)}})}switch(this.localDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}var a=arguments.length>1&&"function"==typeof arguments[1];if(a){var s=arguments[1];window.setTimeout(function(){s(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()},0)}var u=Promise.resolve();return u.then(function(){a||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))}),u},window.RTCPeerConnection.prototype.setRemoteDescription=function(t){var e=this,n=new MediaStream,i=[],o=r.splitSections(t.sdp),a=o.shift(),s=r.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=r.matchPrefix(a,"a=group:BUNDLE ").length>0,o.forEach(function(o,u){var c,l,f,d,h,p,v,m,g,y,b,_,w=r.splitLines(o),E=w[0].substr(2).split(" "),x=E[0],A="0"===E[1],M=r.getDirection(o,a),S=r.parseRtpParameters(o);A||(b=r.getIceParameters(o,a),_=r.getDtlsParameters(o,a),_.role="client"),m=r.parseRtpEncodingParameters(o);var T=r.matchPrefix(o,"a=mid:");T=T.length?T[0].substr(6):r.generateIdentifier();var R,O=r.matchPrefix(o,"a=ssrc:").map(function(t){return r.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute})[0];O&&(R=O.value);var C=r.matchPrefix(o,"a=end-of-candidates").length>0,P=r.matchPrefix(o,"a=candidate:").map(function(t){return r.parseCandidate(t)}).filter(function(t){return"1"===t.component});if("offer"!==t.type||A)"answer"!==t.type||A||(c=e.transceivers[u],l=c.iceGatherer,f=c.iceTransport,d=c.dtlsTransport,h=c.rtpSender,p=c.rtpReceiver,v=c.sendEncodingParameters,g=c.localCapabilities,e.transceivers[u].recvEncodingParameters=m,e.transceivers[u].remoteCapabilities=S,e.transceivers[u].cname=R,(s||C)&&P.length&&f.setRemoteCandidates(P),e.usingBundle&&0!==u||(f.start(l,b,"controlling"),d.start(_)),e._transceive(c,"sendrecv"===M||"recvonly"===M,"sendrecv"===M||"sendonly"===M),!p||"sendrecv"!==M&&"sendonly"!==M?delete c.rtpReceiver:(y=p.track,i.push([y,p]),n.addTrack(y)));else{var k=e.usingBundle&&u>0?{iceGatherer:e.transceivers[0].iceGatherer,iceTransport:e.transceivers[0].iceTransport,dtlsTransport:e.transceivers[0].dtlsTransport}:e._createIceAndDtlsTransports(T,u);if(C&&k.iceTransport.setRemoteCandidates(P),g=RTCRtpReceiver.getCapabilities(x),v=[{ssrc:1001*(2*u+2)}],p=new RTCRtpReceiver(k.dtlsTransport,x),y=p.track,i.push([y,p]),n.addTrack(y),e.localStreams.length>0&&e.localStreams[0].getTracks().length>=u){var F=e.localStreams[0].getTracks()[u];h=new RTCRtpSender(F,k.dtlsTransport)}e.transceivers[u]={iceGatherer:k.iceGatherer,iceTransport:k.iceTransport,dtlsTransport:k.dtlsTransport,localCapabilities:g,remoteCapabilities:S,rtpSender:h,rtpReceiver:p,kind:x,mid:T,cname:R,sendEncodingParameters:v,recvEncodingParameters:m},e._transceive(e.transceivers[u],!1,"sendrecv"===M||"sendonly"===M)}}),this.remoteDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}return n.getTracks().length&&(e.remoteStreams.push(n),window.setTimeout(function(){var t=new Event("addstream");t.stream=n,e.dispatchEvent(t),null!==e.onaddstream&&window.setTimeout(function(){e.onaddstream(t)},0),i.forEach(function(r){var i=r[0],o=r[1],a=new Event("track");a.track=i,a.receiver=o,a.streams=[n],e.dispatchEvent(t),null!==e.ontrack&&window.setTimeout(function(){e.ontrack(a)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(t){t.iceTransport&&t.iceTransport.stop(),t.dtlsTransport&&t.dtlsTransport.stop(),t.rtpSender&&t.rtpSender.stop(),t.rtpReceiver&&t.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this.dispatchEvent(e),null!==this.onsignalingstatechange&&this.onsignalingstatechange(e)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var t=new Event("negotiationneeded");this.dispatchEvent(t),null!==this.onnegotiationneeded&&this.onnegotiationneeded(t)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var t,e=this,n={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(t){n[t.iceTransport.state]++,n[t.dtlsTransport.state]++}),n.connected+=n.completed,t="new",n.failed>0?t="failed":n.connecting>0||n.checking>0?t="connecting":n.disconnected>0?t="disconnected":n.new>0?t="new":(n.connected>0||n.completed>0)&&(t="connected"),t!==e.iceConnectionState){e.iceConnectionState=t;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},window.RTCPeerConnection.prototype.createOffer=function(){var t=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var e;1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],i=0,o=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,o=this.localStreams[0].getVideoTracks().length),e){if(e.mandatory||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.offerToReceiveAudio&&(i=e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(o=e.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(t){n.push({kind:t.kind,track:t,wantReceive:"audio"===t.kind?i>0:o>0}),"audio"===t.kind?i--:"video"===t.kind&&o--});i>0||o>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),o>0&&(n.push({kind:"video",wantReceive:!0}),o--);var a=r.writeSessionBoilerplate(),s=[];n.forEach(function(e,n){var i,o,a=e.track,u=e.kind,c=r.generateIdentifier(),l=t.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:t._createIceAndDtlsTransports(c,n),f=RTCRtpSender.getCapabilities(u),d=[{ssrc:1001*(2*n+1)}];a&&(i=new RTCRtpSender(a,l.dtlsTransport)),e.wantReceive&&(o=new RTCRtpReceiver(l.dtlsTransport,u)),s[n]={iceGatherer:l.iceGatherer,iceTransport:l.iceTransport,dtlsTransport:l.dtlsTransport,localCapabilities:f,remoteCapabilities:null,rtpSender:i,rtpReceiver:o,kind:u,mid:c,sendEncodingParameters:d,recvEncodingParameters:null}}),this.usingBundle&&(a+="a=group:BUNDLE "+s.map(function(t){return t.mid}).join(" ")+"\r\n"),n.forEach(function(e,n){var i=s[n];a+=r.writeMediaSection(i,i.localCapabilities,"offer",t.localStreams[0])}),this._pendingOffer=s;var u=new RTCSessionDescription({type:"offer",sdp:a});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,u),Promise.resolve(u)},window.RTCPeerConnection.prototype.createAnswer=function(){var t=this,e=r.writeSessionBoilerplate();this.usingBundle&&(e+="a=group:BUNDLE "+this.transceivers.map(function(t){return t.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(n){var i=t._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);e+=r.writeMediaSection(n,i,"answer",t.localStreams[0])});var n=new RTCSessionDescription({type:"answer",sdp:e});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(t){if(null===t)this.transceivers.forEach(function(t){t.iceTransport.addRemoteCandidate({})});else{var e=t.sdpMLineIndex;if(t.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===t.sdpMid){e=n;break}var i=this.transceivers[e];if(i){var o=Object.keys(t.candidate).length>0?r.parseCandidate(t.candidate):{};if("tcp"===o.protocol&&0===o.port)return;if("1"!==o.component)return;"endOfCandidates"===o.type&&(o={}),i.iceTransport.addRemoteCandidate(o);var a=r.splitSections(this.remoteDescription.sdp);a[e+1]+=(o.type?t.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var t=[];this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){e[n]&&t.push(e[n].getStats())})});var e=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(n){var r=new Map;Promise.all(t).then(function(t){t.forEach(function(t){Object.keys(t).forEach(function(e){r.set(e,t[e]),r[e]=t[e]})}),e&&window.setTimeout(e,0,r),n(r)})})}},attachMediaStream:function(t,e){i("DEPRECATED, attachMediaStream will soon be removed."),t.srcObject=e},reattachMediaStream:function(t,e){i("DEPRECATED, reattachMediaStream will soon be removed."),t.srcObject=e.srcObject}};t.exports={shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(340),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(t,e){"use strict";var n={};n.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},n.localCName=n.generateIdentifier(),n.splitLines=function(t){return t.trim().split("\n").map(function(t){return t.trim()})},n.splitSections=function(t){var e=t.split("\nm=");return e.map(function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"})},n.matchPrefix=function(t,e){return n.splitLines(t).filter(function(t){return 0===t.indexOf(e)})},n.parseCandidate=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var n={foundation:e[0],component:e[1],protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],port:parseInt(e[5],10),type:e[7]},r=8;r<e.length;r+=2)switch(e[r]){case"raddr":n.relatedAddress=e[r+1];break;case"rport":n.relatedPort=parseInt(e[r+1],10);break;case"tcptype":n.tcpType=e[r+1];break;default:n[e[r]]=e[r+1]}return n},n.writeCandidate=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.ip),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),"host"!==n&&t.relatedAddress&&t.relatedPort&&(e.push("raddr"),e.push(t.relatedAddress),e.push("rport"),e.push(t.relatedPort)),t.tcpType&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.tcpType)),"candidate:"+e.join(" ")},n.parseIceOptions=function(t){return t.substr(14).split(" ")},n.parseRtpMap=function(t){var e=t.substr(9).split(" "),n={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),n.name=e[0],n.clockRate=parseInt(e[1],10),n.numChannels=3===e.length?parseInt(e[2],10):1,n},n.writeRtpMap=function(t){var e=t.payloadType;return void 0!==t.preferredPayloadType&&(e=t.preferredPayloadType),"a=rtpmap:"+e+" "+t.name+"/"+t.clockRate+(1!==t.numChannels?"/"+t.numChannels:"")+"\r\n"},n.parseExtmap=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},n.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+"\r\n"},n.parseFmtp=function(t){for(var e,n={},r=t.substr(t.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)e=r[i].trim().split("="),n[e[0].trim()]=e[1];return n},n.writeFmtp=function(t){var e="",n=t.payloadType;if(void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var r=[];Object.keys(t.parameters).forEach(function(e){r.push(e+"="+t.parameters[e])}),e+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return e},n.parseRtcpFb=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},n.writeRtcpFb=function(t){var e="",n=t.payloadType;return void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(function(t){e+="a=rtcp-fb:"+n+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+"\r\n"}),e},n.parseSsrcMedia=function(t){var e=t.indexOf(" "),n={ssrc:parseInt(t.substr(7,e-7),10)},r=t.indexOf(":",e);return r>-1?(n.attribute=t.substr(e+1,r-e-1),n.value=t.substr(r+1)):n.attribute=t.substr(e+1),n},n.getMid=function(t){var e=n.matchPrefix(t,"a=mid:")[0];if(e)return e.substr(6)},n.parseFingerprint=function(t){var e=t.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},n.getDtlsParameters=function(t,e){var r=n.matchPrefix(t+e,"a=fingerprint:");return{role:"auto",fingerprints:r.map(n.parseFingerprint)}},n.writeDtlsParameters=function(t,e){var n="a=setup:"+e+"\r\n";return t.fingerprints.forEach(function(t){n+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),n},n.getIceParameters=function(t,e){var r=n.splitLines(t);r=r.concat(n.splitLines(e));var i={usernameFragment:r.filter(function(t){return 0===t.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(t){return 0===t.indexOf("a=ice-pwd:")})[0].substr(10)};return i},n.writeIceParameters=function(t){return"a=ice-ufrag:"+t.usernameFragment+"\r\na=ice-pwd:"+t.password+"\r\n"},n.parseRtpParameters=function(t){for(var e={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(t),i=r[0].split(" "),o=3;o<i.length;o++){var a=i[o],s=n.matchPrefix(t,"a=rtpmap:"+a+" ")[0];if(s){var u=n.parseRtpMap(s),c=n.matchPrefix(t,"a=fmtp:"+a+" ");switch(u.parameters=c.length?n.parseFmtp(c[0]):{},u.rtcpFeedback=n.matchPrefix(t,"a=rtcp-fb:"+a+" ").map(n.parseRtcpFb),e.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":e.fecMechanisms.push(u.name.toUpperCase())}}}return n.matchPrefix(t,"a=extmap:").forEach(function(t){e.headerExtensions.push(n.parseExtmap(t))}),e},n.writeRtpDescription=function(t,e){var r="";r+="m="+t+" ",r+=e.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=e.codecs.map(function(t){return void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.codecs.forEach(function(t){r+=n.writeRtpMap(t),r+=n.writeFmtp(t),r+=n.writeRtcpFb(t)});var i=0;return e.codecs.forEach(function(t){t.maxptime>i&&(i=t.maxptime)}),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",e.headerExtensions.forEach(function(t){r+=n.writeExtmap(t)}),r},n.parseRtpEncodingParameters=function(t){var e,r=[],i=n.parseRtpParameters(t),o=i.fecMechanisms.indexOf("RED")!==-1,a=i.fecMechanisms.indexOf("ULPFEC")!==-1,s=n.matchPrefix(t,"a=ssrc:").map(function(t){return n.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute}),u=s.length>0&&s[0].ssrc,c=n.matchPrefix(t,"a=ssrc-group:FID").map(function(t){var e=t.split(" ");return e.shift(),e.map(function(t){return parseInt(t,10)})});c.length>0&&c[0].length>1&&c[0][0]===u&&(e=c[0][1]),i.codecs.forEach(function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var n={ssrc:u,codecPayloadType:parseInt(t.parameters.apt,10),rtx:{ssrc:e}};r.push(n),o&&(n=JSON.parse(JSON.stringify(n)),n.fec={ssrc:e,mechanism:a?"red+ulpfec":"red"},r.push(n))}}),0===r.length&&u&&r.push({ssrc:u});var l=n.matchPrefix(t,"b=");return l.length&&(0===l[0].indexOf("b=TIAS:")?l=parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")&&(l=parseInt(l[0].substr(5),10)),r.forEach(function(t){t.maxBitrate=l})),r},n.parseRtcpParameters=function(t){var e={},r=n.matchPrefix(t,"a=ssrc:").map(function(t){return n.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute})[0];r&&(e.cname=r.value,e.ssrc=r.ssrc);var i=n.matchPrefix(t,"a=rtcp-rsize");e.reducedSize=i.length>0,e.compound=0===i.length;var o=n.matchPrefix(t,"a=rtcp-mux");return e.mux=o.length>0,e},n.parseMsid=function(t){var e,r=n.matchPrefix(t,"a=msid:");if(1===r.length)return e=r[0].substr(7).split(" "),{stream:e[0],track:e[1]};var i=n.matchPrefix(t,"a=ssrc:").map(function(t){return n.parseSsrcMedia(t)}).filter(function(t){return"msid"===t.attribute});return i.length>0?(e=i[0].value.split(" "),{stream:e[0],track:e[1]}):void 0},n.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(t,e,r,i){var o=n.writeRtpDescription(t.kind,e);if(o+=n.writeIceParameters(t.iceGatherer.getLocalParameters()),o+=n.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+t.mid+"\r\n",o+=t.direction?"a="+t.direction+"\r\n":t.rtpSender&&t.rtpReceiver?"a=sendrecv\r\n":t.rtpSender?"a=sendonly\r\n":t.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",t.rtpSender){var a="msid:"+i.id+" "+t.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+a,t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),o},n.getDirection=function(t,e){for(var r=n.splitLines(t),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return e?n.getDirection(e):"sendrecv"},n.getKind=function(t){var e=n.splitLines(t),r=e[0].split(" ");return r[0].substr(2)},n.isRejected=function(t){return"0"===t.split(" ",2)[1]},t.exports=n},function(t,e){"use strict";t.exports=function(){var t=function(t){return{name:{PermissionDeniedError:"NotAllowedError"}[t.name]||t.name,message:t.message,constraint:t.constraint,toString:function(){return this.name}}},e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return e(n).catch(function(e){return Promise.reject(t(e))})}}},function(t,e,n){"use strict";var r=n(335).log,i=n(335).browserDetails,o={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=t),this.addEventListener("addstream",this._ontrackpoly=function(t){t.stream.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.receiver={track:e},n.streams=[t.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(t){this.mozSrcObject=t}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){if(i.version<38&&t&&t.iceServers){for(var n=[],r=0;r<t.iceServers.length;r++){var o=t.iceServers[r];if(o.hasOwnProperty("urls"))for(var a=0;a<o.urls.length;a++){var s={url:o.urls[a]};0===o.urls[a].indexOf("turn")&&(s.username=o.username,s.credential=o.credential),n.push(s)}else n.push(t.iceServers[r])}t.iceServers=n}return new mozRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():t.apply(this,arguments)};var e=function(t){var e=new Map;return Object.keys(t).forEach(function(n){e.set(n,t[n]),e[n]=t[n]}),e},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,r,i){return n.apply(this,[t||null]).then(function(t){return e(t)}).then(r,i)}}},attachMediaStream:function(t,e){r("DEPRECATED, attachMediaStream will soon be removed."),t.srcObject=e},reattachMediaStream:function(t,e){r("DEPRECATED, reattachMediaStream will soon be removed."),t.srcObject=e.srcObject}};t.exports={shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(342),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(t,e,n){"use strict";var r=n(335).log,i=n(335).browserDetails;t.exports=function(){var t=function(t){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[t.name]||t.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[t.message]||t.message,constraint:t.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},e=function(e,n,o){var a=function(t){if("object"!=typeof t||t.require)return t;var e=[];return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=t[n]="object"==typeof t[n]?t[n]:{ideal:t[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||e.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:t[n]=r.exact,delete r.exact),void 0!==r.ideal){t.advanced=t.advanced||[];var i={};"number"==typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,t.advanced.push(i),delete r.ideal,Object.keys(r).length||delete t[n]}}}),e.length&&(t.require=e),t};return e=JSON.parse(JSON.stringify(e)),i.version<38&&(r("spec: "+JSON.stringify(e)),e.audio&&(e.audio=a(e.audio)),e.video&&(e.video=a(e.video)),r("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,n,function(e){o(t(e))})},n=function(t){return new Promise(function(n,r){e(t,n,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(t){var e=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];t(e)})},i.version<41){var o=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return o().then(void 0,function(t){if("NotFoundError"===t.name)return[];throw t})}}if(i.version<49){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return a(e).catch(function(e){return Promise.reject(t(e))})}}navigator.getUserMedia=function(t,n,r){return i.version<44?e(t,n,r):(console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(t).then(n,r))}}},function(t,e){"use strict";var n={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};t.exports={shimGetUserMedia:n.shimGetUserMedia}},function(t,e){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(e instanceof r||(i=e,e=null),i=i||{},this.ctx=e=e||new r,t instanceof AudioNode||(t=t instanceof Audio||t instanceof HTMLAudioElement?e.createMediaElementSource(t):e.createMediaStreamSource(t)),this.analyser=e.createAnalyser(),this.stereo=!!i.stereo,this.audible=i.audible!==!1,this.wavedata=null,this.freqdata=null,this.splitter=null,this.merger=null,this.source=t,this.stereo){this.analyser=[this.analyser],this.analyser.push(e.createAnalyser()),this.splitter=e.createChannelSplitter(2),this.merger=e.createChannelMerger(2),this.output=this.merger,this.source.connect(this.splitter);for(var o=0;o<2;o++)this.splitter.connect(this.analyser[o],o,0),this.analyser[o].connect(this.merger,0,o);this.audible&&this.merger.connect(e.destination)}else this.output=this.source,this.source.connect(this.analyser),this.audible&&this.analyser.connect(e.destination)}var r=window.AudioContext||window.webkitAudioContext;t.exports=n,n.prototype.waveform=function(t,e){t||(t=this.wavedata||(this.wavedata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var n=this.stereo?this.analyser[e||0]:this.analyser;return n.getByteTimeDomainData(t),t},n.prototype.frequencies=function(t,e){t||(t=this.freqdata||(this.freqdata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var n=this.stereo?this.analyser[e||0]:this.analyser;
return n.getByteFrequencyData(t),t}},function(t,e,n){function r(t){if(t)throw t}function i(t,e){l||(u(".npm-scb-wrap {\n  font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-weight: 200;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 999;\n}\n\n.npm-scb-wrap a {\n  text-decoration: none;\n  color: #000;\n}\n.npm-scb-white\n.npm-scb-wrap a {\n  color: #fff;\n}\n\n.npm-scb-inner {\n  position: absolute;\n  top: -120px; left: 0;\n  padding: 8px;\n  width: 100%;\n  height: 150px;\n  z-index: 2;\n  -webkit-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n     -moz-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n      -ms-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n       -o-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n          transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n}\n.npm-scb-wrap:hover\n.npm-scb-inner {\n  top: 0;\n}\n\n.npm-scb-artwork {\n  position: absolute;\n  top: 16px; left: 16px;\n  width: 104px; height: 104px;\n  box-shadow: 0 0 8px -3px #000;\n  outline: 1px solid rgba(0,0,0,0.1);\n  z-index: 2;\n}\n.npm-scb-white\n.npm-scb-artwork {\n  outline: 1px solid rgba(255,255,255,0.1);\n  box-shadow: 0 0 10px -2px rgba(255,255,255,0.9);\n}\n\n.npm-scb-info {\n  position: absolute;\n  top: 16px;\n  left: 120px;\n  width: 300px;\n  z-index: 1;\n}\n\n.npm-scb-info > a {\n  display: block;\n}\n\n.npm-scb-now-playing {\n  font-size: 12px;\n  line-height: 12px;\n  position: absolute;\n  width: 500px;\n  z-index: 1;\n  padding: 15px 0;\n  top: 0; left: 138px;\n  opacity: 1;\n  -webkit-transition: opacity 0.25s;\n     -moz-transition: opacity 0.25s;\n      -ms-transition: opacity 0.25s;\n       -o-transition: opacity 0.25s;\n          transition: opacity 0.25s;\n}\n\n.npm-scb-wrap:hover\n.npm-scb-now-playing {\n  opacity: 0;\n}\n\n.npm-scb-white\n.npm-scb-now-playing {\n  color: #fff;\n}\n.npm-scb-now-playing > a {\n  font-weight: bold;\n}\n\n.npm-scb-info > a > p {\n  margin: 0;\n  padding-bottom: 0.25em;\n  line-height: 1.35em;\n  margin-left: 1em;\n  font-size: 1em;\n}\n\n.npm-scb-title {\n  font-weight: bold;\n}\n\n.npm-scb-icon {\n  position: absolute;\n  top: 120px;\n  padding-top: 0.75em;\n  left: 16px;\n}\n"),l=!0),d||(d=s.compile('<div class="npm-scb-wrap">\n  <div class="npm-scb-inner">\n    <a target="_blank" href="{{!urls.song}}">\n      <img class="npm-scb-icon" src="{{!icon}}">\n      <img class="npm-scb-artwork" src="{{!artwork}}">\n    </a>\n    <div class="npm-scb-info">\n      <a target="_blank" href="{{!urls.song}}">\n        <p class="npm-scb-title">{{!title}}</p>\n      </a>\n      <a target="_blank" href="{{!urls.artist}}">\n        <p class="npm-scb-artist">{{!artist}}</p>\n      </a>\n    </div>\n  </div>\n  <div class="npm-scb-now-playing">\n    Now Playing:\n    <a href="{{!urls.song}}">{{!title}}</a>\n    by\n    <a href="{{!urls.artist}}">{{!artist}}</a>\n  </div>\n</div>')),!f&&t.getFonts&&(a.add({"Open Sans":[300,600]}),f=!0),t=t||{},e=e||r;var n=t.el||document.createElement("div"),i="dark"in t&&!t.dark?"white":"black",h=t.client_id,p=t.song;return o(h,p,function(t,r){if(t)return e(t);if("track"!==r.kind)throw new Error("soundcloud-badge only supports individual tracks at the moment");n.classList["black"===i?"remove":"add"]("npm-scb-white"),n.innerHTML=d({artwork:r.artwork_url||r.user.avatar_url,artist:r.user.username,title:r.title,icon:c[i],urls:{song:r.permalink_url,artist:r.user.permalink_url}}),document.body.appendChild(n),e(null,r.stream_url+"?client_id="+h,r,n)}),n}var o=n(346),a=n(353),s=n(354),u=n(355),c=(n(356),{black:"https://developers.soundcloud.com/assets/logo_black.png",white:"https://developers.soundcloud.com/assets/logo_white.png"});t.exports=i;var l=!1,f=!1,d=null},function(t,e,n){function r(t,e,n){var r="https://api.soundcloud.com/resolve.json?"+i.stringify({url:e,client_id:t});o({uri:r,method:"GET"},function(e,r,i){if(e)return n(e);try{i=JSON.parse(i)}catch(t){return n(t)}if(i.errors)return n(new Error(i.errors[0].error_message));var o="track"===i.kind&&i.stream_url+"?client_id="+t;return n(null,i,o)})}var i=n(347),o=n(350);t.exports=r},function(t,e,n){"use strict";e.decode=e.parse=n(348),e.encode=e.stringify=n(349)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,d,h,p=t[c].replace(a,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),d=decodeURIComponent(l),h=decodeURIComponent(f),n(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){function r(t,e){function n(){4===l.readyState&&r()}function r(){var t=null,n=l.statusCode=l.status,r=l.body=l.response||l.responseText||l.responseXML;if(0===n||n>=400&&n<600){var i=l.responseText||s[String(l.status).charAt(0)];t=new Error(i),t.statusCode=l.status}if(v)try{r=l.body=JSON.parse(r)}catch(t){}e(t,l,r)}function o(t){e(t,l)}"string"==typeof t&&(t={uri:t}),t=t||{},e=a(e);var l;l=t.cors?new c:new u;var f=l.url=t.uri,d=l.method=t.method||"GET",h=t.body||t.data,p=l.headers=t.headers||{},v=!1;return"json"in t&&(v=!0,p["Content-Type"]="application/json",h=JSON.stringify(t.json)),l.onreadystatechange=n,l.onload=r,l.onerror=o,l.onprogress=function(){},l.ontimeout=i,l.open(d,f),t.cors&&(l.withCredentials=!0),l.timeout="timeout"in t?t.timeout:5e3,l.setRequestHeader&&Object.keys(p).forEach(function(t){l.setRequestHeader(t,p[t])}),l.send(h),l}function i(){}var o=n(351),a=n(352),s={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},u=o.XMLHttpRequest||i,c="withCredentials"in new u?o.XMLHttpRequest:o.XDomainRequest;t.exports=r},function(t,e){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:t.exports={}}).call(e,function(){return this}())},function(t,e){function n(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}t.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},function(t,e){function n(t){var e=i(t);return'<link href="'+e+'" rel="stylesheet" type="text/css">'}function r(t){var e=i(t),n=document.createElement("link");return n.setAttribute("href",e),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n}function i(t){var e=Object.keys(t).map(function(e){var n=t[e];return e=e.replace(/\s+/,"+"),"boolean"==typeof n?e:e+":"+a(n).join(",")}).join("|");return"http://fonts.googleapis.com/css?family="+e}function o(t){var e=r(t);return document.head.appendChild(e),e}function a(t){return Array.isArray(t)?t:[t]}t.exports=n,t.exports.add=o},function(t,e){function n(t,e){e=e||{};var n=r(t);return n(e)}function r(t){for(var e,n=[],r=o(t),c=0;c<r.length;++c)if(e=r[c],c%2==0)n.push('"'+e.replace(/"/g,'\\"')+'"');else switch(e[0]){case"/":e=e.slice(1),n.push(") + ");break;case"^":e=e.slice(1),i(e),n.push(' + section(obj, "'+e+'", true, ');break;case"#":e=e.slice(1),i(e),n.push(' + section(obj, "'+e+'", false, ');break;case"!":e=e.slice(1),i(e),n.push(" + obj."+e+" + ");break;default:i(e),n.push(" + escape(obj."+e+") + ")}return n="\n"+a(u.toString())+";\n\n"+a(s.toString())+";\n\n  return "+n.join("").replace(/\n/g,"\\n"),new Function("obj",n)}function i(t){if(!t.match(/^[\w.]+$/))throw new Error('invalid property "'+t+'"')}function o(t){return t.split(/\{\{|\}\}/)}function a(t){return t.replace(/^/gm,"  ")}function s(t,e,n,r){var i=t[e];return"function"==typeof i?i.call(t,r):(n&&(i=!i),i?r:"")}function u(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}e=t.exports=n,e.compile=r},function(t,e){var n=[];t.exports=function(t){if(!(n.indexOf(t)>=0)){n.push(t);var e=document.createElement("style"),r=document.createTextNode(t);e.appendChild(r),document.head.childNodes.length?document.head.insertBefore(e,document.head.childNodes[0]):document.head.appendChild(e)}}},function(t,e){},function(t,e){function n(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i=t.clientX||0,o=t.clientY||0,a=r(e);return n[0]=i-a.left,n[1]=o-a.top,n}function r(t){return t===window||t===document||t===document.body?i:t.getBoundingClientRect()}var i={left:0,top:0};t.exports=n},function(t,e,n){function r(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:r,maxWait:e,trailing:s})}var i=n(359),o=n(360),a="Expected a function";t.exports=r},function(t,e,n){function r(t,e,n){function r(e){var n=y,r=b;return y=b=void 0,A=e,w=t.apply(r,n)}function l(t){return A=t,E=setTimeout(h,e),M?r(t):w}function f(t){var n=t-x,r=t-A,i=e-n;return S?c(i,_-r):i}function d(t){var n=t-x,r=t-A;return void 0===x||n>=e||n<0||S&&r>=_}function h(){var t=o();return d(t)?p(t):void(E=setTimeout(h,f(t)))}function p(t){return E=void 0,T&&y?r(t):(y=b=void 0,w)}function v(){void 0!==E&&clearTimeout(E),A=0,y=x=b=E=void 0}function m(){return void 0===E?w:p(o())}function g(){var t=o(),n=d(t);if(y=arguments,b=this,x=t,n){if(void 0===E)return l(x);if(S)return E=setTimeout(h,e),r(x)}return void 0===E&&(E=setTimeout(h,e)),w}var y,b,_,w,E,x,A=0,M=!1,S=!1,T=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,i(n)&&(M=!!n.leading,S="maxWait"in n,_=S?u(a(n.maxWait)||0,e):_,T="trailing"in n?!!n.trailing:T),g.cancel=v,g.flush=m,g}var i=n(360),o=n(361),a=n(364),s="Expected a function",u=Math.max,c=Math.min;t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(362),i=function(){return r.Date.now()};t.exports=i},function(t,e,n){var r=n(363),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||l.test(t)?f(t.slice(2),n?2:8):u.test(t)?a:+t}var i=n(360),o=n(365),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.exports=r},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(366),o=n(370),a="[object Symbol]";t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?o(t):a(t)}var i=n(367),o=n(368),a=n(369),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){var r=n(362),i=r.Symbol;t.exports=i},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(367),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t,e,n){o(typeof t===e,"range-fit expects typeof("+n+") to be "+e)}function i(t,e){r(t,"number",e)}var o=n(372);t.exports=function(t,e,n,r,a){i(t,"value"),i(e,"lowerInitial"),i(n,"upperInitial"),i(r,"lowerNew"),i(a,"upperNew");var s=n-e;if(0===s)return r;o(e<=t,"range-fit expects lowerInitial<=value"),o(n>=t,"range-fit expects upperInitial>=value");var u=a-r;return(t-e)*u/s+r}},function(t,e,n){(function(e){"use strict";/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function a(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(_.isFunction(t)){if(x)return t.name;var e=t.toString(),n=e.match(M);return n&&n[1]}}function u(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function c(t){if(x||!_.isFunction(t))return _.inspect(t);var e=s(t),n=e?": "+e:"";return"[Function"+n+"]"}function l(t){return u(c(t.actual),128)+" "+t.operator+" "+u(c(t.expected),128)}function f(t,e,n,r,i){throw new A.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function d(t,e){t||f(t,!0,e,"==",A.ok)}function h(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(_.isDate(t)&&_.isDate(e))return t.getTime()===e.getTime();if(_.isRegExp(t)&&_.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(a(t)&&a(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;s=s||{actual:[],expected:[]};var u=s.actual.indexOf(t);return u!==-1&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),v(t,e,n,s))}return n?t===e:t==e}function p(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function v(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(_.isPrimitive(t)||_.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=p(t),o=p(e);if(i&&!o||!i&&o)return!1;if(i)return t=E.call(t),e=E.call(e),h(t,e,n);var a,s,u=S(t),c=S(e);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),s=u.length-1;s>=0;s--)if(u[s]!==c[s])return!1;for(s=u.length-1;s>=0;s--)if(a=u[s],!h(t[a],e[a],n,r))return!1;return!0}function m(t,e,n){h(t,e,!0)&&f(t,e,n,"notDeepStrictEqual",m)}function g(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&e.call({},t)===!0}function y(t){var e;try{t()}catch(t){e=t}return e}function b(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=y(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&f(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&_.isError(i),s=!t&&i&&!n;if((a&&o&&g(i,n)||s)&&f(i,n,"Got unwanted exception"+r),t&&i&&n&&!g(i,n)||!t&&i)throw i}var _=n(373),w=Object.prototype.hasOwnProperty,E=Array.prototype.slice,x=function(){return"foo"===function(){}.name}(),A=t.exports=d,M=/\s*function\s+([^\(\s]*)\s*/;A.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var e=t.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=s(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},_.inherits(A.AssertionError,Error),A.fail=f,A.ok=d,A.equal=function(t,e,n){t!=e&&f(t,e,n,"==",A.equal)},A.notEqual=function(t,e,n){t==e&&f(t,e,n,"!=",A.notEqual)},A.deepEqual=function(t,e,n){h(t,e,!1)||f(t,e,n,"deepEqual",A.deepEqual)},A.deepStrictEqual=function(t,e,n){h(t,e,!0)||f(t,e,n,"deepStrictEqual",A.deepStrictEqual)},A.notDeepEqual=function(t,e,n){h(t,e,!1)&&f(t,e,n,"notDeepEqual",A.notDeepEqual)},A.notDeepStrictEqual=m,A.strictEqual=function(t,e,n){t!==e&&f(t,e,n,"===",A.strictEqual)},A.notStrictEqual=function(t,e,n){t===e&&f(t,e,n,"!==",A.notStrictEqual)},A.throws=function(t,e,n){b(!0,t,e,n)},A.doesNotThrow=function(t,e,n){b(!1,t,e,n)},A.ifError=function(t){if(t)throw t};var S=Object.keys||function(t){var e=[];for(var n in t)w.call(t,n)&&e.push(n);return e}}).call(e,function(){return this}())},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var a=Object.keys(n),v=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),M(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(S(n)){var m=n.name?": "+n.name:"";return t.stylize("[Function"+m+"]","special")}if(E(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return t.stylize(Date.prototype.toString.call(n),"date");if(M(n))return l(n)}var g="",y=!1,_=["{","}"];if(p(n)&&(y=!0,_=["[","]"]),S(n)){var w=n.name?": "+n.name:"";g=" [Function"+w+"]"}if(E(n)&&(g=" "+RegExp.prototype.toString.call(n)),A(n)&&(g=" "+Date.prototype.toUTCString.call(n)),M(n)&&(g=" "+l(n)),0===a.length&&(!y||0==n.length))return _[0]+g+_[1];if(r<0)return E(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=y?f(t,n,r,v,a):a.map(function(e){return d(t,n,r,v,e,y)}),t.seen.pop(),h(x,g,_)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)P(e,String(a))?o.push(d(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(t,e,n,r,i,!0))}),o}function d(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),P(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=m(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function E(t){return x(t)&&"[object RegExp]"===R(t)}function x(t){return"object"==typeof t&&null!==t}function A(t){return x(t)&&"[object Date]"===R(t)}function M(t){return x(t)&&("[object Error]"===R(t)||t instanceof Error)}function S(t){return"function"==typeof t}function T(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function R(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function C(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(k,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])a+=m(s)||!x(s)?" "+s:" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var F,I={};e.debuglog=function(t){if(w(F)&&(F=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(F)){var n=r.pid;I[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else I[t]=function(){};return I[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=v,e.isNull=m,e.isNullOrUndefined=g,e.isNumber=y,e.isString=b,e.isSymbol=_,e.isUndefined=w,e.isRegExp=E,e.isObject=x,e.isDate=A,e.isError=M,e.isFunction=S,e.isPrimitive=T,e.isBuffer=n(375);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(376),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(374))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):m=-1,p.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=p.length;e;){for(h=p,p=[];++m<e;)h&&h[m].run();m=-1,e=p.length}h=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,p=[],v=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";function r(t){e.ARRAY_TYPE=s=t}function i(t){return t*u}function o(t,e){return Math.abs(t-e)<=a*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=r,e.toRadian=i,e.equals=o;var a=e.EPSILON=1e-6,s=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new L.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t){var e=new L.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,n,r,i,o,a,s,u){var c=new L.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function c(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function d(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*a-s*c,d=-l*o+s*u,h=c*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=d*p,t[4]=(l*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=h*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function h(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=n[0],h=n[1],p=n[2],v=n[3],m=n[4],g=n[5],y=n[6],b=n[7],_=n[8];return t[0]=d*r+h*a+p*c,t[1]=d*i+h*s+p*l,t[2]=d*o+h*u+p*f,t[3]=v*r+m*a+g*c,t[4]=v*i+m*s+g*l,t[5]=v*o+m*u+g*f,t[6]=y*r+b*a+_*c,t[7]=y*i+b*s+_*l,t[8]=y*o+b*u+_*f,t}function m(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=n[0],h=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=d*r+h*a+c,t[7]=d*i+h*s+l,t[8]=d*o+h*u+f,t}function g(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=Math.sin(n),h=Math.cos(n);return t[0]=h*r+d*a,t[1]=h*i+d*s,t[2]=h*o+d*u,t[3]=h*a-d*r,t[4]=h*s-d*i,t[5]=h*u-d*o,t[6]=c,t[7]=l,t[8]=f,t}function y(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function _(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function E(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function x(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,d=i*a,h=i*s,p=i*u,v=o*a,m=o*s,g=o*u;return t[0]=1-f-p,t[3]=l-g,t[6]=d+m,t[1]=l+g,t[4]=1-c-p,t[7]=h-v,t[2]=d-m,t[5]=h+v,t[8]=1-c-f,t}function A(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],m=e[14],g=e[15],y=n*s-r*a,b=n*u-i*a,_=n*c-o*a,w=r*u-i*s,E=r*c-o*s,x=i*c-o*u,A=l*v-f*p,M=l*m-d*p,S=l*g-h*p,T=f*m-d*v,R=f*g-h*v,O=d*g-h*m,C=y*O-b*R+_*T+w*S-E*M+x*A;return C?(C=1/C,t[0]=(s*O-u*R+c*T)*C,t[1]=(u*S-a*O-c*M)*C,t[2]=(a*R-s*S+c*A)*C,t[3]=(i*R-r*O-o*T)*C,t[4]=(n*O-i*S+o*M)*C,t[5]=(r*S-n*R-o*A)*C,t[6]=(v*x-m*E+g*w)*C,t[7]=(m*_-p*x-g*b)*C,t[8]=(p*E-v*_+g*y)*C,t):null}function M(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function S(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function T(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function R(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function O(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function C(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function P(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function k(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function F(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=e[0],d=e[1],h=e[2],p=e[3],v=e[4],m=e[5],g=e[6],y=e[7],b=e[8];return Math.abs(n-f)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=L.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-h)<=L.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-p)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-v)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-m)<=L.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-g)<=L.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-y)<=L.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-b)<=L.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.fromMat4=o,e.clone=a,e.copy=s,e.fromValues=u,e.set=c,e.identity=l,e.transpose=f,e.invert=d,e.adjoint=h,e.determinant=p,e.multiply=v,e.translate=m,e.rotate=g,e.scale=y,e.fromTranslation=b,e.fromRotation=_,e.fromScaling=w,e.fromMat2d=E,e.fromQuat=x,e.normalFromMat4=A,e.projection=M,e.str=S,e.frob=T,e.add=R,e.subtract=O,e.multiplyScalar=C,e.multiplyScalarAndAdd=P,e.exactEquals=k,e.equals=F;var I=n(0),L=r(I);e.mul=v,e.sub=O},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new G.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function o(t){var e=new G.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function s(t,e,n){var r=new G.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function c(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function l(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function f(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function d(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function h(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function v(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function g(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function b(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function _(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function E(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function x(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function A(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function M(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function S(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function R(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function O(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function C(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*l,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*l,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*l,t}function P(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,f=3*u*a,d=u*o;return t[0]=e[0]*c+n[0]*l+r[0]*f+i[0]*d,t[1]=e[1]*c+n[1]*l+r[1]*f+i[1]*d,t[2]=e[2]*c+n[2]*l+r[2]*f+i[2]*d,t}function k(t,e){e=e||1;var n=2*G.RANDOM()*Math.PI,r=2*G.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function F(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function I(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function L(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,f=c*i+u*r-a*o,d=c*o+a*i-s*r,h=-a*r-s*i-u*o;return t[0]=l*c+h*-a+f*-u-d*-s,t[1]=f*c+h*-s+d*-a-l*-u,t[2]=d*c+h*-u+l*-s-f*-a,t}function N(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function D(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function j(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function U(t,e){var n=s(t[0],t[1],t[2]),r=s(e[0],e[1],e[2]);S(n,n),S(r,r);var i=T(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function B(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function V(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function z(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=G.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=G.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=G.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=o,e.length=a,e.fromValues=s,e.copy=u,e.set=c,e.add=l,e.subtract=f,e.multiply=d,e.divide=h,e.ceil=p,e.floor=v,e.min=m,e.max=g,e.round=y,e.scale=b,e.scaleAndAdd=_,e.distance=w,e.squaredDistance=E,e.squaredLength=x,e.negate=A,e.inverse=M,e.normalize=S,e.dot=T,e.cross=R,e.lerp=O,e.hermite=C,e.bezier=P,e.random=k,e.transformMat4=F,e.transformMat3=I,e.transformQuat=L,e.rotateX=N,e.rotateY=D,e.rotateZ=j,e.angle=U,e.str=B,e.exactEquals=V,e.equals=z;var q=n(0),G=r(q);e.sub=f,e.mul=d,e.div=h,e.dist=w,e.sqrDist=E,e.len=a,e.sqrLen=x,e.forEach=function(){var t=i();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new N.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function o(t){var e=new N.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,n,r){var i=new N.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function h(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function g(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function y(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function _(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function E(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function x(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function A(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function M(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function S(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function R(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function O(t,e){return e=e||1,t[0]=N.RANDOM(),t[1]=N.RANDOM(),t[2]=N.RANDOM(),t[3]=N.RANDOM(),S(t,t),y(t,t,e),t}function C(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function P(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,f=c*i+u*r-a*o,d=c*o+a*i-s*r,h=-a*r-s*i-u*o;return t[0]=l*c+h*-a+f*-u-d*-s,t[1]=f*c+h*-s+d*-a-l*-u,t[2]=d*c+h*-u+l*-s-f*-a,t[3]=e[3],t}function k(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function F(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function I(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-a)<=N.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=N.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=N.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=N.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=o,e.fromValues=a,e.copy=s,e.set=u,e.add=c,e.subtract=l,e.multiply=f,e.divide=d,e.ceil=h,e.floor=p,e.min=v,e.max=m,e.round=g,e.scale=y,e.scaleAndAdd=b,e.distance=_,e.squaredDistance=w,e.length=E,e.squaredLength=x,e.negate=A,e.inverse=M,e.normalize=S,e.dot=T,e.lerp=R,e.random=O,e.transformMat4=C,e.transformQuat=P,e.str=k,e.exactEquals=F,e.equals=I;var L=n(0),N=r(L);e.sub=l,e.mul=f,e.div=d,e.dist=_,e.sqrDist=w,e.len=E,e.sqrLen=x,e.forEach=function(){var t=i();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=n(0),o=r(i),a=n(5),s=r(a),u=n(6),c=r(u),l=n(1),f=r(l),d=n(7),h=r(d),p=n(8),v=r(p),m=n(9),g=r(m),y=n(2),b=r(y),_=n(3),w=r(_);e.glMatrix=o,e.mat2=s,e.mat2d=c,e.mat3=f,e.mat4=h,e.quat=v,e.vec2=g,e.vec3=b,e.vec4=w},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new O.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function o(t){var e=new O.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function u(t,e,n,r){var i=new O.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function c(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function l(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null}function d(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function h(t){return t[0]*t[3]-t[2]*t[1]}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*c+o*l,t[3]=i*c+a*l,t}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t}function m(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t}function g(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function b(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function _(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function w(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function E(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function x(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function A(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function M(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],c=e[3];
return Math.abs(n-a)<=O.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=O.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=O.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=O.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function S(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function T(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=o,e.copy=a,e.identity=s,e.fromValues=u,e.set=c,e.transpose=l,e.invert=f,e.adjoint=d,e.determinant=h,e.multiply=p,e.rotate=v,e.scale=m,e.fromRotation=g,e.fromScaling=y,e.str=b,e.frob=_,e.LDU=w,e.add=E,e.subtract=x,e.exactEquals=A,e.equals=M,e.multiplyScalar=S,e.multiplyScalarAndAdd=T;var R=n(0),O=r(R);e.mul=p,e.sub=x},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new R.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t){var e=new R.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function u(t,e,n,r,i,o){var a=new R.ARRAY_TYPE(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function c(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null}function f(t){return t[0]*t[3]-t[1]*t[2]}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1],f=n[2],d=n[3],h=n[4],p=n[5];return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*f+o*d,t[3]=i*f+a*d,t[4]=r*h+o*p+s,t[5]=i*h+a*p+u,t}function h(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*-c+o*l,t[3]=i*-c+a*l,t[4]=s,t[5]=u,t}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=i*c,t[2]=o*l,t[3]=a*l,t[4]=s,t[5]=u,t}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*c+o*l+s,t[5]=i*c+a*l+u,t}function m(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function g(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function y(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function b(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function _(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function w(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function E(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function x(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function A(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function M(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function S(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],c=e[1],l=e[2],f=e[3],d=e[4],h=e[5];return Math.abs(n-u)<=R.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=R.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-l)<=R.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-f)<=R.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-d)<=R.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-h)<=R.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=o,e.copy=a,e.identity=s,e.fromValues=u,e.set=c,e.invert=l,e.determinant=f,e.multiply=d,e.rotate=h,e.scale=p,e.translate=v,e.fromRotation=m,e.fromScaling=g,e.fromTranslation=y,e.str=b,e.frob=_,e.add=w,e.subtract=E,e.multiplyScalar=x,e.multiplyScalarAndAdd=A,e.exactEquals=M,e.equals=S;var T=n(0),R=r(T);e.mul=d,e.sub=E},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new K.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t){var e=new K.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,r,i,o,a,s,u,c,l,f,d,h,p,v){var m=new K.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=o,m[6]=a,m[7]=s,m[8]=u,m[9]=c,m[10]=l,m[11]=f,m[12]=d,m[13]=h,m[14]=p,m[15]=v,m}function u(t,e,n,r,i,o,a,s,u,c,l,f,d,h,p,v,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=l,t[10]=f,t[11]=d,t[12]=h,t[13]=p,t[14]=v,t[15]=m,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],m=e[14],g=e[15],y=n*s-r*a,b=n*u-i*a,_=n*c-o*a,w=r*u-i*s,E=r*c-o*s,x=i*c-o*u,A=l*v-f*p,M=l*m-d*p,S=l*g-h*p,T=f*m-d*v,R=f*g-h*v,O=d*g-h*m,C=y*O-b*R+_*T+w*S-E*M+x*A;return C?(C=1/C,t[0]=(s*O-u*R+c*T)*C,t[1]=(i*R-r*O-o*T)*C,t[2]=(v*x-m*E+g*w)*C,t[3]=(d*E-f*x-h*w)*C,t[4]=(u*S-a*O-c*M)*C,t[5]=(n*O-i*S+o*M)*C,t[6]=(m*_-p*x-g*b)*C,t[7]=(l*x-d*_+h*b)*C,t[8]=(a*R-s*S+c*A)*C,t[9]=(r*S-n*R-o*A)*C,t[10]=(p*E-v*_+g*y)*C,t[11]=(f*_-l*E-h*y)*C,t[12]=(s*M-a*T-u*A)*C,t[13]=(n*T-r*M+i*A)*C,t[14]=(v*b-p*w-m*y)*C,t[15]=(l*w-f*b+d*y)*C,t):null}function d(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],m=e[14],g=e[15];return t[0]=s*(d*g-h*m)-f*(u*g-c*m)+v*(u*h-c*d),t[1]=-(r*(d*g-h*m)-f*(i*g-o*m)+v*(i*h-o*d)),t[2]=r*(u*g-c*m)-s*(i*g-o*m)+v*(i*c-o*u),t[3]=-(r*(u*h-c*d)-s*(i*h-o*d)+f*(i*c-o*u)),t[4]=-(a*(d*g-h*m)-l*(u*g-c*m)+p*(u*h-c*d)),t[5]=n*(d*g-h*m)-l*(i*g-o*m)+p*(i*h-o*d),t[6]=-(n*(u*g-c*m)-a*(i*g-o*m)+p*(i*c-o*u)),t[7]=n*(u*h-c*d)-a*(i*h-o*d)+l*(i*c-o*u),t[8]=a*(f*g-h*v)-l*(s*g-c*v)+p*(s*h-c*f),t[9]=-(n*(f*g-h*v)-l*(r*g-o*v)+p*(r*h-o*f)),t[10]=n*(s*g-c*v)-a*(r*g-o*v)+p*(r*c-o*s),t[11]=-(n*(s*h-c*f)-a*(r*h-o*f)+l*(r*c-o*s)),t[12]=-(a*(f*m-d*v)-l*(s*m-u*v)+p*(s*d-u*f)),t[13]=n*(f*m-d*v)-l*(r*m-i*v)+p*(r*d-i*f),t[14]=-(n*(s*m-u*v)-a*(r*m-i*v)+p*(r*u-i*s)),t[15]=n*(s*d-u*f)-a*(r*d-i*f)+l*(r*u-i*s),t}function h(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11],h=t[12],p=t[13],v=t[14],m=t[15],g=e*a-n*o,y=e*s-r*o,b=e*u-i*o,_=n*s-r*a,w=n*u-i*a,E=r*u-i*s,x=c*p-l*h,A=c*v-f*h,M=c*m-d*h,S=l*v-f*p,T=l*m-d*p,R=f*m-d*v;return g*R-y*T+b*S+_*M-w*A+E*x}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=e[9],h=e[10],p=e[11],v=e[12],m=e[13],g=e[14],y=e[15],b=n[0],_=n[1],w=n[2],E=n[3];return t[0]=b*r+_*s+w*f+E*v,t[1]=b*i+_*u+w*d+E*m,t[2]=b*o+_*c+w*h+E*g,t[3]=b*a+_*l+w*p+E*y,b=n[4],_=n[5],w=n[6],E=n[7],t[4]=b*r+_*s+w*f+E*v,t[5]=b*i+_*u+w*d+E*m,t[6]=b*o+_*c+w*h+E*g,t[7]=b*a+_*l+w*p+E*y,b=n[8],_=n[9],w=n[10],E=n[11],t[8]=b*r+_*s+w*f+E*v,t[9]=b*i+_*u+w*d+E*m,t[10]=b*o+_*c+w*h+E*g,t[11]=b*a+_*l+w*p+E*y,b=n[12],_=n[13],w=n[14],E=n[15],t[12]=b*r+_*s+w*f+E*v,t[13]=b*i+_*u+w*d+E*m,t[14]=b*o+_*c+w*h+E*g,t[15]=b*a+_*l+w*p+E*y,t}function v(t,e,n){var r=n[0],i=n[1],o=n[2],a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=void 0,v=void 0,m=void 0,g=void 0;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(a=e[0],s=e[1],u=e[2],c=e[3],l=e[4],f=e[5],d=e[6],h=e[7],p=e[8],v=e[9],m=e[10],g=e[11],t[0]=a,t[1]=s,t[2]=u,t[3]=c,t[4]=l,t[5]=f,t[6]=d,t[7]=h,t[8]=p,t[9]=v,t[10]=m,t[11]=g,t[12]=a*r+l*i+p*o+e[12],t[13]=s*r+f*i+v*o+e[13],t[14]=u*r+d*i+m*o+e[14],t[15]=c*r+h*i+g*o+e[15]),t}function m(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function g(t,e,n,r){var i=r[0],o=r[1],a=r[2],s=Math.sqrt(i*i+o*o+a*a),u=void 0,c=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=void 0,v=void 0,m=void 0,g=void 0,y=void 0,b=void 0,_=void 0,w=void 0,E=void 0,x=void 0,A=void 0,M=void 0,S=void 0,T=void 0,R=void 0,O=void 0,C=void 0,P=void 0;return Math.abs(s)<K.EPSILON?null:(s=1/s,i*=s,o*=s,a*=s,u=Math.sin(n),c=Math.cos(n),l=1-c,f=e[0],d=e[1],h=e[2],p=e[3],v=e[4],m=e[5],g=e[6],y=e[7],b=e[8],_=e[9],w=e[10],E=e[11],x=i*i*l+c,A=o*i*l+a*u,M=a*i*l-o*u,S=i*o*l-a*u,T=o*o*l+c,R=a*o*l+i*u,O=i*a*l+o*u,C=o*a*l-i*u,P=a*a*l+c,t[0]=f*x+v*A+b*M,t[1]=d*x+m*A+_*M,t[2]=h*x+g*A+w*M,t[3]=p*x+y*A+E*M,t[4]=f*S+v*T+b*R,t[5]=d*S+m*T+_*R,t[6]=h*S+g*T+w*R,t[7]=p*S+y*T+E*R,t[8]=f*O+v*C+b*P,t[9]=d*O+m*C+_*P,t[10]=h*O+g*C+w*P,t[11]=p*O+y*C+E*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function y(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+l*r,t[6]=s*i+f*r,t[7]=u*i+d*r,t[8]=c*i-o*r,t[9]=l*i-a*r,t[10]=f*i-s*r,t[11]=d*i-u*r,t}function b(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-l*r,t[2]=s*i-f*r,t[3]=u*i-d*r,t[8]=o*r+c*i,t[9]=a*r+l*i,t[10]=s*r+f*i,t[11]=u*r+d*i,t}function _(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+l*r,t[2]=s*i+f*r,t[3]=u*i+d*r,t[4]=c*i-o*r,t[5]=l*i-a*r,t[6]=f*i-s*r,t[7]=d*i-u*r,t}function w(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function E(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,e,n){var r=n[0],i=n[1],o=n[2],a=Math.sqrt(r*r+i*i+o*o),s=void 0,u=void 0,c=void 0;return Math.abs(a)<K.EPSILON?null:(a=1/a,r*=a,i*=a,o*=a,s=Math.sin(e),u=Math.cos(e),c=1-u,t[0]=r*r*c+u,t[1]=i*r*c+o*s,t[2]=o*r*c-i*s,t[3]=0,t[4]=r*i*c-o*s,t[5]=i*i*c+u,t[6]=o*i*c+r*s,t[7]=0,t[8]=r*o*c+i*s,t[9]=i*o*c-r*s,t[10]=o*o*c+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function A(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,c=o+o,l=r*s,f=r*u,d=r*c,h=i*u,p=i*c,v=o*c,m=a*s,g=a*u,y=a*c;return t[0]=1-(h+v),t[1]=f+y,t[2]=d-g,t[3]=0,t[4]=f-y,t[5]=1-(l+v),t[6]=p+m,t[7]=0,t[8]=d+g,t[9]=p-m,t[10]=1-(l+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function R(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function O(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+s*s),t[2]=Math.sqrt(u*u+c*c+l*l),t}function C(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function P(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,c=o+o,l=a+a,f=i*u,d=i*c,h=i*l,p=o*c,v=o*l,m=a*l,g=s*u,y=s*c,b=s*l,_=r[0],w=r[1],E=r[2];return t[0]=(1-(p+m))*_,t[1]=(d+b)*_,t[2]=(h-y)*_,t[3]=0,t[4]=(d-b)*w,t[5]=(1-(f+m))*w,t[6]=(v+g)*w,t[7]=0,t[8]=(h+y)*E,t[9]=(v-g)*E,t[10]=(1-(f+p))*E,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function k(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],c=o+o,l=a+a,f=s+s,d=o*c,h=o*l,p=o*f,v=a*l,m=a*f,g=s*f,y=u*c,b=u*l,_=u*f,w=r[0],E=r[1],x=r[2],A=i[0],M=i[1],S=i[2];return t[0]=(1-(v+g))*w,t[1]=(h+_)*w,t[2]=(p-b)*w,t[3]=0,t[4]=(h-_)*E,t[5]=(1-(d+g))*E,t[6]=(m+y)*E,t[7]=0,t[8]=(p+b)*x,t[9]=(m-y)*x,t[10]=(1-(d+v))*x,t[11]=0,t[12]=n[0]+A-(t[0]*A+t[4]*M+t[8]*S),t[13]=n[1]+M-(t[1]*A+t[5]*M+t[9]*S),t[14]=n[2]+S-(t[2]*A+t[6]*M+t[10]*S),t[15]=1,t}function F(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,d=i*a,h=i*s,p=i*u,v=o*a,m=o*s,g=o*u;return t[0]=1-f-p,t[1]=l+g,t[2]=d-m,t[3]=0,t[4]=l-g,t[5]=1-c-p,t[6]=h+v,t[7]=0,t[8]=d+m,t[9]=h-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function L(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function N(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function D(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*c,t[15]=1,t}function j(t,e,n,r){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=e[0],v=e[1],m=e[2],g=r[0],y=r[1],b=r[2],_=n[0],w=n[1],E=n[2];return Math.abs(p-_)<K.EPSILON&&Math.abs(v-w)<K.EPSILON&&Math.abs(m-E)<K.EPSILON?mat4.identity(t):(l=p-_,f=v-w,d=m-E,h=1/Math.sqrt(l*l+f*f+d*d),l*=h,f*=h,d*=h,i=y*d-b*f,o=b*l-g*d,a=g*f-y*l,h=Math.sqrt(i*i+o*o+a*a),h?(h=1/h,i*=h,o*=h,a*=h):(i=0,o=0,a=0),s=f*a-d*o,u=d*i-l*a,c=l*o-f*i,h=Math.sqrt(s*s+u*u+c*c),h?(h=1/h,s*=h,u*=h,c*=h):(s=0,u=0,c=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=o,t[5]=u,t[6]=f,t[7]=0,t[8]=a,t[9]=c,t[10]=d,t[11]=0,t[12]=-(i*p+o*v+a*m),t[13]=-(s*p+u*v+c*m),t[14]=-(l*p+f*v+d*m),t[15]=1,t)}function U(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],c=r[2],l=i-n[0],f=o-n[1],d=a-n[2],h=l*l+f*f+d*d;h>0&&(h=1/Math.sqrt(h),l*=h,f*=h,d*=h);var p=u*d-c*f,v=c*l-s*d,m=s*f-u*l;return t[0]=p,t[1]=v,t[2]=m,t[3]=0,t[4]=f*m-d*v,t[5]=d*p-l*m,t[6]=l*v-f*p,t[7]=0,t[8]=l,t[9]=f,t[10]=d,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function B(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function V(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function z(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function q(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function G(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Y(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function H(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],m=t[14],g=t[15],y=e[0],b=e[1],_=e[2],w=e[3],E=e[4],x=e[5],A=e[6],M=e[7],S=e[8],T=e[9],R=e[10],O=e[11],C=e[12],P=e[13],k=e[14],F=e[15];return Math.abs(n-y)<=K.EPSILON*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=K.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=K.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=K.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-E)<=K.EPSILON*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-x)<=K.EPSILON*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(u-A)<=K.EPSILON*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-M)<=K.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(l-S)<=K.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-T)<=K.EPSILON*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(d-R)<=K.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(h-O)<=K.EPSILON*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(p-C)<=K.EPSILON*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(v-P)<=K.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(m-k)<=K.EPSILON*Math.max(1,Math.abs(m),Math.abs(k))&&Math.abs(g-F)<=K.EPSILON*Math.max(1,Math.abs(g),Math.abs(F))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=o,e.copy=a,e.fromValues=s,e.set=u,e.identity=c,e.transpose=l,e.invert=f,e.adjoint=d,e.determinant=h,e.multiply=p,e.translate=v,e.scale=m,e.rotate=g,e.rotateX=y,e.rotateY=b,e.rotateZ=_,e.fromTranslation=w,e.fromScaling=E,e.fromRotation=x,e.fromXRotation=A,e.fromYRotation=M,e.fromZRotation=S,e.fromRotationTranslation=T,e.getTranslation=R,e.getScaling=O,e.getRotation=C,e.fromRotationTranslationScale=P,e.fromRotationTranslationScaleOrigin=k,e.fromQuat=F,e.frustum=I,e.perspective=L,e.perspectiveFromFieldOfView=N,e.ortho=D,e.lookAt=j,e.targetTo=U,e.str=B,e.frob=V,e.add=z,e.subtract=q,e.multiplyScalar=G,e.multiplyScalarAndAdd=Y,e.exactEquals=X,e.equals=H;var W=n(0),K=r(W);e.mul=p,e.sub=q},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new _.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function o(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function s(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function u(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*l+a*s+i*c-o*u,t[1]=i*l+a*u+o*s-r*c,t[2]=o*l+a*c+r*u-i*s,t[3]=a*l-r*s-i*u-o*c,t}function c(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}function l(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t}function f(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}function d(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function h(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=n[0],c=n[1],l=n[2],f=n[3],d=void 0,h=void 0,p=void 0,v=void 0,m=void 0;return h=i*u+o*c+a*l+s*f,h<0&&(h=-h,u=-u,c=-c,l=-l,f=-f),1-h>1e-6?(d=Math.acos(h),p=Math.sin(d),v=Math.sin((1-r)*d)/p,m=Math.sin(r*d)/p):(v=1-r,m=r),t[0]=v*i+m*u,t[1]=v*o+m*c,t[2]=v*a+m*l,t[3]=v*s+m*f,t}function p(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function v(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function m(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*o+a]-e[3*a+o])*r,t[o]=(e[3*o+i]+e[3*i+o])*r,t[a]=(e[3*a+i]+e[3*i+a])*r}return t}function g(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return t[0]=o*u*l-a*s*c,t[1]=a*s*l+o*u*c,t[2]=a*u*c-o*s*l,t[3]=a*u*l+o*s*c,t}function y(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=i,e.identity=o,e.setAxisAngle=a,e.getAxisAngle=s,e.multiply=u,e.rotateX=c,e.rotateY=l,e.rotateZ=f,e.calculateW=d,e.slerp=h,e.invert=p,e.conjugate=v,e.fromMat3=m,e.fromEuler=g,e.str=y;var b=n(0),_=r(b),w=n(1),E=r(w),x=n(2),A=r(x),M=n(3),S=r(M),T=(e.clone=S.clone,e.fromValues=S.fromValues,e.copy=S.copy,e.set=S.set,e.add=S.add,e.mul=u,e.scale=S.scale,e.dot=S.dot,e.lerp=S.lerp,e.length=S.length),R=(e.len=T,e.squaredLength=S.squaredLength),O=(e.sqrLen=R,e.normalize=S.normalize);e.exactEquals=S.exactEquals,e.equals=S.equals,e.rotationTo=function(){var t=A.create(),e=A.fromValues(1,0,0),n=A.fromValues(0,1,0);return function(r,i,o){var s=A.dot(i,o);return s<-.999999?(A.cross(t,e,i),A.len(t)<1e-6&&A.cross(t,n,i),A.normalize(t,t),a(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(A.cross(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,O(r,r))}}(),e.sqlerp=function(){var t=i(),e=i();return function(n,r,i,o,a,s){return h(t,r,a,s),h(e,i,o,s),h(n,t,e,2*s*(1-s)),n}}(),e.setAxes=function(){var t=E.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],O(e,m(e,t))}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new U.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function o(t){var e=new U.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new U.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,n){return t[0]=e,t[1]=n,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function h(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function g(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function y(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function _(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function E(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function x(t){var e=t[0],n=t[1];return e*e+n*n}function A(t,e){return t[0]=-e[0],t[1]=-e[1],t}function M(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function S(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]}function R(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function O(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function C(t,e){e=e||1;var n=2*U.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function P(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function k(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function F(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function I(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function L(t){return"vec2("+t[0]+", "+t[1]+")"}function N(t,e){return t[0]===e[0]&&t[1]===e[1]}function D(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=U.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=U.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=o,e.fromValues=a,e.copy=s,e.set=u,e.add=c,e.subtract=l,e.multiply=f,e.divide=d,e.ceil=h,e.floor=p,e.min=v,e.max=m,e.round=g,e.scale=y,e.scaleAndAdd=b,e.distance=_,e.squaredDistance=w,e.length=E,e.squaredLength=x,e.negate=A,e.inverse=M,e.normalize=S,e.dot=T,e.cross=R,e.lerp=O,e.random=C,e.transformMat2=P,e.transformMat2d=k,e.transformMat3=F,e.transformMat4=I,e.str=L,e.exactEquals=N,e.equals=D;var j=n(0),U=r(j);e.len=E,e.sub=l,e.mul=f,e.div=d,e.dist=_,e.sqrDist=w,e.sqrLen=x,e.forEach=function(){var t=i();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()}])})},function(t,e,n){"use strict";function r(t,e){for(var n="",r=0;r<t;r++)n+=e;return n}function i(){return"function() {}"}function o(t,e){return l(e)}function a(t){return void 0===t&&(t="\t"),function(e,n){var i=l(n),o=i.split("\n"),a=o[o.length-1],s=a.match("^("+t+")*")[0].length;if(s===e)return i;var u,c=o.slice(1);if(s<e){var f=e-s;u=c.map(function(e){return r(f,t)})}else{var d=s-e;u=c.map(function(t){return t.substring(d)})}return o[0]+"\n"+u.join("\n")}}function s(t,e,n,i,o,a,s){var u=Object.keys(t).map(function(i){var u=c(t[i],e+1,n-1,!0,o,a,s),l=n>0?"'"+i+"'":i,f=r(e+1,o)+l+": ";return f+u}),l=u.join(",\n");return i?"{\n"+l+"\n"+r(e,o)+"}":l}function u(t,e,n,i,o,a,s){var u=t.map(function(t){var i=c(t,e+1,n-1,!0,o,a,s);return r(e+1,o)+i}).join(",\n");return i?"[\n"+u+"\n"+r(e,o)+"]":u}function c(t,e,n,r,i,o,a){switch(typeof t){case"function":return a(e,t);case"number":case"undefined":case"boolean":return""+t;case"string":return o+t+o;case"object":;return Array.isArray(t)?u.apply(null,arguments):null===t?"null":t instanceof Date?"new Date("+t.getTime()+")":t instanceof RegExp?t.toString():s.apply(null,arguments)}}var l=n(379);t.exports=function(e,n){n=n||{};var r=[["tabDepth",0],["quoteDepth",0],["enclose",!0],["tabChar","\t"],["quoteChar","'"],["functionFormatter",t.exports.defaultFnFormatter]].map(function(t){return void 0===n[t[0]]?t[1]:n[t[0]]});return c.apply(null,[e].concat(r))},t.exports.defaultFnFormatter=i,t.exports.mkFnFormatter=a,t.exports.simpleFnFormatter=o},function(t,e){function n(t){var e=t.split(".");return e.reduce(function(t,e){return void 0===t?t:t[e]},c)}function r(){return s.map(function(t){return{name:t,value:n(t)}})}function i(t){for(var e=0;e<u.length;e++){var n=u[e];if(n.value===t)return n.name}}function o(t){var e=t.toString();if(a(t)){null===u&&(u=r());var n=i(t);if(!n)throw new Error("Serialization for native function not supported.");return n}return e}function a(t){return/function [A-z_]+\(\) { \[native code\] }/.test(t)}var s=["String.fromCharCode","String.fromCodePoint","String.prototype.anchor","String.prototype.charAt","String.prototype.charCodeAt","String.prototype.codePointAt","String.prototype.concat","String.prototype.endsWith","String.prototype.includes","String.prototype.indexOf","String.prototype.lastIndexOf","String.prototype.link","String.prototype.localeCompare","String.prototype.match","String.prototype.normalize","String.prototype.repeat","String.prototype.replace","String.prototype.search","String.prototype.slice","String.prototype.split","String.prototype.startsWith","String.prototype.substr","String.prototype.substring","String.prototype.toLocaleLowerCase","String.prototype.toLocaleUpperCase","String.prototype.toLowerCase","String.prototype.toString","String.prototype.toUpperCase","String.prototype.trim","String.prototype.trimLeft","String.prototype.trimRight","String.prototype.valueOf","String.raw","RegExp.prototype.exec","RegExp.prototype.test","RegExp.prototype.toSource","RegExp.prototype.toString","Date.now","Date.UTC","Date.parse","Date.prototype.getDate","Date.prototype.getDay","Date.prototype.getFullYear","Date.prototype.getHours","Date.prototype.getMilliseconds","Date.prototype.getMinutes","Date.prototype.getMonth","Date.prototype.getSeconds","Date.prototype.getTime","Date.prototype.getTimezoneOffset","Date.prototype.getUTCDate","Date.prototype.getUTCDay","Date.prototype.getUTCFullYear","Date.prototype.getUTCHours","Date.prototype.getUTCMilliseconds","Date.prototype.getUTCMinutes","Date.prototype.getUTCMonth","Date.prototype.getUTCSeconds","Date.prototype.getYear","Date.prototype.setDate","Date.prototype.setFullYear","Date.prototype.setHours","Date.prototype.setMilliseconds","Date.prototype.setMinutes","Date.prototype.setMonth","Date.prototype.setSeconds","Date.prototype.setTime","Date.prototype.setUTCDate","Date.prototype.setUTCFullYear","Date.prototype.setUTCHours","Date.prototype.setUTCMilliseconds","Date.prototype.setUTCMinutes","Date.prototype.setUTCMonth","Date.prototype.setUTCSeconds","Date.prototype.setYear","Date.prototype.toDateString","Date.prototype.toGMTString","Date.prototype.toISOString","Date.prototype.toJSON","Date.prototype.toLocaleDateString","Date.prototype.toLocaleFormat","Date.prototype.toLocaleString","Date.prototype.toLocaleTimeString","Date.prototype.toSource","Date.prototype.toString","Date.prototype.toTimeString","Date.prototype.toUTCString","Date.prototype.valueOf","Object.assign","Object.create","Object.defineProperties","Object.defineProperty","Object.freeze","Object.getOwnPropertyDescriptor","Object.getOwnPropertyNames","Object.getOwnPropertySymbols","Object.getPrototypeOf","Object.is","Object.isExtensible","Object.isFrozen","Object.isSealed","Object.keys","Object.preventExtensions","Object.prototype.hasOwnProperty","Object.prototype.isPrototypeOf","Object.prototype.propertyIsEnumerable","Object.prototype.toLocaleString","Object.prototype.toSource","Object.prototype.toString","Object.prototype.unwatch","Object.prototype.valueOf","Object.prototype.watch","Object.seal","Object.setPrototypeOf","Array.from","Array.isArray","Array.of","Array.prototype.concat","Array.prototype.copyWithin","Array.prototype.entries","Array.prototype.every","Array.prototype.fill","Array.prototype.filter","Array.prototype.find","Array.prototype.findIndex","Array.prototype.forEach","Array.prototype.includes","Array.prototype.indexOf","Array.prototype.join","Array.prototype.keys","Array.prototype.lastIndexOf","Array.prototype.map","Array.prototype.pop","Array.prototype.push","Array.prototype.reduce","Array.prototype.reduceRight","Array.prototype.reverse","Array.prototype.shift","Array.prototype.slice","Array.prototype.some","Array.prototype.sort","Array.prototype.splice","Array.prototype.toLocaleString","Array.prototype.toSource","Array.prototype.toString","Array.prototype.unshift","Array.prototype.values","Function.prototype.apply","Function.prototype.bind","Function.prototype.call","Function.prototype.isGenerator","Function.prototype.toSource","Function.prototype.toString","JSON.parse","JSON.stringify","Number.isNaN","Number.isFinite","Number.isInteger","Number.isSafeInteger","Number.parseFloat","Number.parseInt","Math.abs","Math.acos","Math.acosh","Math.asin","Math.asinh","Math.atan","Math.atan2","Math.atanh","Math.cbrt","Math.ceil","Math.clz32","Math.cos","Math.cosh","Math.exp","Math.expm1","Math.floor","Math.fround","Math.hypot","Math.imul","Math.log","Math.log10","Math.log1p","Math.log2","Math.max","Math.min","Math.pow","Math.random","Math.round","Math.sign","Math.sin","Math.sinh","Math.sqrt","Math.tan","Math.tanh","Math.trunc","isNaN","isFinite","eval","parseFloat","parseInt","uneval"],u=null,c=function(){
return this}();t.exports=o,t.exports.isNativeFn=a},function(t,e,n){"use strict";function r(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(t,e){return t.name<e.name?-1:1}function o(t,e,n,i,o){var a=new r(t);return a.update(e,n,i,o),a}var a=n(381),s=n(384),u=n(382),c=n(385),l=n(406),f=n(383),d=r.prototype;d.bind=function(){this.program||this._relink();var t,e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(e>n)for(t=n;t<e;t++)this.gl.enableVertexAttribArray(t);else if(n>e)for(t=e;t<n;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},d.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},d.update=function(t,e,n,r){function o(){h.program=c.program(p,h._vref,h._fref,w,E);for(var t=0;t<n.length;++t)R[t]=p.getUniformLocation(h.program,n[t].name)}if(!e||1===arguments.length){var d=t;t=d.vertex,e=d.fragment,n=d.uniforms,r=d.attributes}var h=this,p=h.gl,v=h._vref;h._vref=c.shader(p,p.VERTEX_SHADER,t),v&&v.dispose(),h.vertShader=h._vref.shader;var m=this._fref;if(h._fref=c.shader(p,p.FRAGMENT_SHADER,e),m&&m.dispose(),h.fragShader=h._fref.shader,!n||!r){var g=p.createProgram();if(p.attachShader(g,h.fragShader),p.attachShader(g,h.vertShader),p.linkProgram(g),!p.getProgramParameter(g,p.LINK_STATUS)){var y=p.getProgramInfoLog(g);throw new f(y,"Error linking program:"+y)}n=n||l.uniforms(p,g),r=r||l.attributes(p,g),p.deleteProgram(g)}r=r.slice(),r.sort(i);var b,_=[],w=[],E=[];for(b=0;b<r.length;++b){var x=r[b];if(x.type.indexOf("mat")>=0){for(var A=0|x.type.charAt(x.type.length-1),M=new Array(A),S=0;S<A;++S)M[S]=E.length,w.push(x.name+"["+S+"]"),"number"==typeof x.location?E.push(x.location+S):Array.isArray(x.location)&&x.location.length===A&&"number"==typeof x.location[S]?E.push(0|x.location[S]):E.push(-1);_.push({name:x.name,type:x.type,locations:M})}else _.push({name:x.name,type:x.type,locations:[E.length]}),w.push(x.name),"number"==typeof x.location?E.push(0|x.location):E.push(-1)}var T=0;for(b=0;b<E.length;++b)if(E[b]<0){for(;E.indexOf(T)>=0;)T+=1;E[b]=T}var R=new Array(n.length);o(),h._relink=o,h.types={uniforms:u(n),attributes:u(r)},h.attributes=s(p,h,_,E),Object.defineProperty(h,"uniforms",a(p,h,n,R))},t.exports=o},function(t,e,n){"use strict";function r(t){var e=new Function("y","return function(){return y}");return e(t)}function i(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t,e,n,o){function u(n){var r=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}");return r(t,e,o)}function c(t,e,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+e+"],false,obj"+t+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+i+"fv(locations["+e+"],obj"+t+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function l(t,e){if("object"!=typeof e)return[[t,e]];var n=[];for(var r in e){var i=e[r],o=t;o+=parseInt(r)+""===r?"["+r+"]":"."+r,"object"==typeof i?n.push.apply(n,l(o,i)):n.push([o,i])}return n}function f(e){for(var r=["return function updateProperty(obj){"],i=l("",e),a=0;a<i.length;++a){var s=i[a],u=s[0],f=s[1];o[f]&&r.push(c(u,f,n[f].type))}r.push("return obj}");var d=new Function("gl","locations",r.join("\n"));return d(t,o)}function d(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var n=t.charCodeAt(t.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===t.charAt(0)?i(n,!1):i(n,0)}if(0===t.indexOf("mat")&&4===t.length){var n=t.charCodeAt(t.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+t);return i(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+t)}}function h(t,e,i){if("object"==typeof i){var a=p(i);Object.defineProperty(t,e,{get:r(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(t,e,{get:u(i),set:f(i),enumerable:!0,configurable:!1}):t[e]=d(n[i].type)}function p(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var n=0;n<t.length;++n)h(e,n,t[n])}else{e={};for(var r in t)h(e,r,t[r])}return e}var v=a(n,!0);return{get:r(p(v)),set:f(v),enumerable:!0,configurable:!0}}var a=n(382),s=n(383);t.exports=o},function(t,e){"use strict";function n(t,e){for(var n={},r=0;r<t.length;++r)for(var i=t[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var u=o[s].split("[");if(u.length>1){u[0]in a||(a[u[0]]=[]),a=a[u[0]];for(var c=1;c<u.length;++c){var l=parseInt(u[c]);c<u.length-1||s<o.length-1?(l in a||(c<u.length-1?a[l]=[]:a[l]={}),a=a[l]):e?a[l]=r:a[l]=t[r].type}}else s<o.length-1?(u[0]in a||(a[u[0]]={}),a=a[u[0]]):e?a[u[0]]=r:a[u[0]]=t[r].type}return n}t.exports=n},function(t,e){function n(t,e,n){this.shortMessage=e||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,t.exports=n},function(t,e,n){"use strict";function r(t,e,n,r,i,o){this._gl=t,this._wrapper=e,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(t,e,n,i,o,a,s){for(var u=["gl","v"],c=[],l=0;l<o;++l)u.push("x"+l),c.push("x"+l);u.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+c.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,u),d=new r(t,e,n,i,o,f);Object.defineProperty(a,s,{set:function(e){return t.disableVertexAttribArray(i[n]),f(t,i[n],e),e},get:function(){return d},enumerable:!0})}function o(t,e,n,r,o,a,s){for(var u=new Array(o),c=new Array(o),l=0;l<o;++l)i(t,e,n[l],r,o,u,l),c[l]=u[l];Object.defineProperty(u,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<o;++e)c[e].location=t[e];else for(var e=0;e<o;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(o),e=0;e<o;++e)t[e]=r[n[e]];return t},enumerable:!0}),u.pointer=function(e,i,a,s){e=e||t.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var u=0;u<o;++u){var c=r[n[u]];t.vertexAttribPointer(c,o,e,i,a,s+u*o),t.enableVertexAttribArray(c)}};var f=new Array(o),d=t["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(e){for(var i=0;i<o;++i){var a=r[n[i]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))d.call(t,a,e[i]);else{for(var s=0;s<o;++s)f[s]=e[o*i+s];d.call(t,a,f)}}return e},get:function(){return u},enumerable:!0})}function a(t,e,n,r){for(var a={},u=0,c=n.length;u<c;++u){var l=n[u],f=l.name,d=l.type,h=l.locations;switch(d){case"bool":case"int":case"float":i(t,e,h[0],r,1,a,f);break;default:if(d.indexOf("vec")>=0){var p=d.charCodeAt(d.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+d);i(t,e,h[0],r,p,a,f)}else{if(!(d.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+d);var p=d.charCodeAt(d.length-1)-48;if(p<2||p>4)throw new s("","Invalid data type for attribute "+f+": "+d);o(t,e,h,r,p,a,f)}}}return a}t.exports=a;var s=n(383),u=r.prototype;u.pointer=function(t,e,n,r){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,t||o.FLOAT,!!e,n||0,r||0),o.enableVertexAttribArray(a)},u.set=function(t,e,n,r){return this._constFunc(this._locations[this._index],t,e,n,r)},Object.defineProperty(u,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){this.id=t,this.src=e,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function o(t,e,n){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(r);try{var o=f(i,n,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new l(i,"Error compiling shader:\n"+i)}throw new l(i,o.short,o.long)}return r}function a(t,e,n,r,i){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,n);for(var a=0;a<r.length;++a)t.bindAttribLocation(o,i[a],r[a]);if(t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var s=t.getProgramInfoLog(o);throw new l(s,"Error linking program: "+s)}return o}function s(t){var e=h.get(t);return e||(e=new i(t),h.set(t,e)),e}function u(t,e,n){return s(t).getShaderReference(e,n)}function c(t,e,n,r,i){return s(t).getProgram(e,n,r,i)}e.shader=u,e.program=c;var l=n(383),f=n(386),d="undefined"==typeof WeakMap?n(403):WeakMap,h=new d,p=0;r.prototype.dispose=function(){if(0===--this.count){for(var t=this.cache,e=t.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=t.programs[n[r]];o&&(delete t.programs[r],e.deleteProgram(o))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var v=i.prototype;v.getShaderReference=function(t,e){var n=this.gl,i=this.shaders[t===n.FRAGMENT_SHADER|0],a=i[e];if(a&&n.isShader(a.shader))a.count+=1;else{var s=o(n,t,e);a=i[e]=new r(p++,e,t,s,[],1,this)}return a},v.getProgram=function(t,e,n,r){var i=[t.id,e.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,t.shader,e.shader,n,r),t.programs.push(i),e.programs.push(i)),o}},function(t,e,n){function r(t,e,n){"use strict";var r=a(e)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==n&&(u=n===o.FRAGMENT_SHADER?"fragment":"vertex");for(var c=i("Error compiling %s shader %s:\n",u,r),l=i("%s%s",c,t),f=t.split("\n"),d={},h=0;h<f.length;h++){var p=f[h];if(""!==p&&"\0"!==p){var v=parseInt(p.split(":")[2]);if(isNaN(v))throw new Error(i("Could not parse error: %s",p));d[v]=p}}for(var m=s(e).split("\n"),h=0;h<m.length;h++)if(d[h+3]||d[h+2]||d[h+1]){var g=m[h];if(c+=g+"\n",d[h+1]){var y=d[h+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),c+=i("^^^ %s\n\n",y)}}return{long:c.trim(),short:l.trim()}}var i=n(387).sprintf,o=n(389),a=n(391),s=n(400);t.exports=r},function(t,e,n){var r;!function(){"use strict";function i(t){return a(s(t),arguments)}function o(t,e){return i.apply(null,[t].concat(e||[]))}function a(t,e){var n,r,o,a,s,c,l,f,d,h=1,p=t.length,v="";for(r=0;r<p;r++)if("string"==typeof t[r])v+=t[r];else if(Array.isArray(t[r])){if(a=t[r],a[2])for(n=e[h],o=0;o<a[2].length;o++){if(!n.hasOwnProperty(a[2][o]))throw new Error(i('[sprintf] property "%s" does not exist',a[2][o]));n=n[a[2][o]]}else n=a[1]?e[a[1]]:e[h++];if(u.not_type.test(a[8])&&u.not_primitive.test(a[8])&&n instanceof Function&&(n=n()),u.numeric_arg.test(a[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(i("[sprintf] expecting number but found %T",n));switch(u.number.test(a[8])&&(f=n>=0),a[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a[6]?parseInt(a[6]):0);break;case"e":n=a[7]?parseFloat(n).toExponential(a[7]):parseFloat(n).toExponential();break;case"f":n=a[7]?parseFloat(n).toFixed(a[7]):parseFloat(n);break;case"g":n=a[7]?String(Number(n.toPrecision(a[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a[7]?n.substring(0,a[7]):n;break;case"t":n=String(!!n),n=a[7]?n.substring(0,a[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a[7]?n.substring(0,a[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a[7]?n.substring(0,a[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}u.json.test(a[8])?v+=n:(!u.number.test(a[8])||f&&!a[3]?d="":(d=f?"+":"-",n=n.toString().replace(u.sign,"")),c=a[4]?"0"===a[4]?"0":a[4].charAt(1):" ",l=a[6]-(d+n).length,s=a[6]&&l>0?c.repeat(l):"",v+=a[5]?d+n+s:"0"===c?d+s+n:s+d+n)}return v}function s(t){if(c[t])return c[t];for(var e,n=t,r=[],i=0;n;){if(null!==(e=u.text.exec(n)))r.push(e[0]);else if(null!==(e=u.modulo.exec(n)))r.push("%");else{if(null===(e=u.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var o=[],a=e[2],s=[];if(null===(s=u.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=u.key_access.exec(a)))o.push(s[1]);else{if(null===(s=u.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(s[1])}e[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push(e)}n=n.substring(e[0].length)}return c[t]=r}var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},c=Object.create(null);e.sprintf=i,e.vsprintf=o,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=o,n(388).amd&&(r=function(){return{sprintf:i,vsprintf:o}}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))))}()},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){var r=n(390);t.exports=function(t){return r[t]}},function(t,e){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,e,n){function r(t){for(var e=Array.isArray(t)?t:i(t),n=0;n<e.length;n++){var r=e[n];if("preprocessor"===r.type){var a=r.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],u=a[2];return(s?o(u):u).trim()}}}}var i=n(392),o=n(399);t.exports=r},function(t,e,n){function r(t,e){var n=i(e),r=[];return r=r.concat(n(t)),r=r.concat(n(null))}var i=n(393);t.exports=r},function(t,e,n){function r(t){function e(t){t.length&&z.push({type:x[B],data:t,position:Y,line:q,column:G})}function n(t){j=0,W+=t,D=W.length;for(var e;L=W[j],j<D;){switch(e=j,B){case f:j=R();break;case d:j=T();break;case h:j=S();break;case p:j=O();break;case v:j=k();break;case E:j=P();break;case m:j=F();break;case l:j=I();break;case _:j=M();break;case c:j=A()}if(e!==j)switch(W[e]){case"\n":G=0,++q;break;default:++G}}return U+=j,W=W.slice(j),z}function r(t){return V.length&&e(V.join("")),B=w,e("(eof)"),z}function A(){return V=V.length?[]:V,"/"===N&&"*"===L?(Y=U+j-1,B=f,N=L,j+1):"/"===N&&"/"===L?(Y=U+j-1,B=d,N=L,j+1):"#"===L?(B=h,Y=U+j,j):/\s/.test(L)?(B=_,Y=U+j,j):(X=/\d/.test(L),H=/[^\w_]/.test(L),Y=U+j,B=X?v:H?p:l,j)}function M(){return/[^\s]/g.test(L)?(e(V.join("")),B=c,j):(V.push(L),N=L,j+1)}function S(){return"\r"!==L&&"\n"!==L||"\\"===N?(V.push(L),N=L,j+1):(e(V.join("")),B=c,j)}function T(){return S()}function R(){return"/"===L&&"*"===N?(V.push(L),e(V.join("")),B=c,j+1):(V.push(L),N=L,j+1)}function O(){if("."===N&&/\d/.test(L))return B=m,j;if("/"===N&&"*"===L)return B=f,j;if("/"===N&&"/"===L)return B=d,j;if("."===L&&V.length){for(;C(V););return B=m,j}if(";"===L||")"===L||"("===L){if(V.length)for(;C(V););return e(L),B=c,j+1}var t=2===V.length&&"="!==L;if(/[\w_\d\s]/.test(L)||t){for(;C(V););return B=c,j}return V.push(L),N=L,j+1}function C(t){for(var n,r,i=0;;){if(n=o.indexOf(t.slice(0,t.length+i).join("")),r=o[n],n===-1){if(i--+t.length>0)continue;r=t.slice(0,1).join("")}return e(r),Y+=r.length,V=V.slice(r.length),V.length}}function P(){return/[^a-fA-F0-9]/.test(L)?(e(V.join("")),B=c,j):(V.push(L),N=L,j+1)}function k(){return"."===L?(V.push(L),B=m,N=L,j+1):/[eE]/.test(L)?(V.push(L),B=m,N=L,j+1):"x"===L&&1===V.length&&"0"===V[0]?(B=E,V.push(L),N=L,j+1):/[^\d]/.test(L)?(e(V.join("")),B=c,j):(V.push(L),N=L,j+1)}function F(){return"f"===L&&(V.push(L),N=L,j+=1),/[eE]/.test(L)?(V.push(L),N=L,j+1):"-"===L&&/[eE]/.test(N)?(V.push(L),N=L,j+1):/[^\d]/.test(L)?(e(V.join("")),B=c,j):(V.push(L),N=L,j+1)}function I(){if(/[^\d\w_]/.test(L)){var t=V.join("");return B=J.indexOf(t)>-1?b:K.indexOf(t)>-1?y:g,e(V.join("")),B=c,j}return V.push(L),N=L,j+1}var L,N,D,j=0,U=0,B=c,V=[],z=[],q=1,G=0,Y=0,X=!1,H=!1,W="";t=t||{};var K=a,J=i;return"300 es"===t.version&&(K=u,J=s),function(t){return z=[],null!==t?n(t.replace?t.replace(/\r\n/g,"\n"):t):r()}}t.exports=r;var i=n(394),o=n(395),a=n(396),s=n(397),u=n(398),c=999,l=9999,f=0,d=1,h=2,p=3,v=4,m=5,g=6,y=7,b=8,_=9,w=10,E=11,x=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(t,e){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(t,e){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(t,e){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(t,e,n){var r=n(394);t.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(t,e,n){var r=n(396);r=r.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),t.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(t,e){t.exports=function(t){return atob(t)}},function(t,e,n){function r(t,e,n){e="number"==typeof e?e:1,n=n||": ";var r=t.split(/\r?\n/),o=String(r.length+e-1).length;return r.map(function(t,r){var a=r+e,s=String(a).length,u=i(a,o-s);return u+n+t}).join("\n")}var i=n(401);t.exports=r},function(t,e,n){/*!
	 * pad-left <https://github.com/jonschlinkert/pad-left>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT license.
	 */
"use strict";var r=n(402);t.exports=function(t,e,n){return n="undefined"!=typeof n?n+"":" ",r(n,e)+t}},function(t,e){/*!
	 * repeat-string <https://github.com/jonschlinkert/repeat-string>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";function n(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(r!==t||"undefined"==typeof r)r=t,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&e>1;)1&e&&(i+=t),e>>=1,t+=t;return i+=t,i=i.substr(0,n)}var r,i="";t.exports=n},function(t,e,n){function r(){var t=i();return{get:function(e,n){var r=t(e);return r.hasOwnProperty("value")?r.value:n},set:function(e,n){return t(e).value=n,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}var i=n(404);t.exports=r},function(t,e,n){function r(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var n=e.valueOf(t);return n&&n.identity===t?n:i(e,t)}}var i=n(405);t.exports=r},function(t,e){function n(t,e){var n={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?r.apply(this,arguments):n},writable:!0}),n}t.exports=n},function(t,e){"use strict";function n(t,e){if(!a){var n=Object.keys(o);a={};for(var r=0;r<n.length;++r){var i=n[r];a[t[i]]=o[i]}}return a[e]}function r(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=[],o=0;o<r;++o){var a=t.getActiveUniform(e,o);if(a){var s=n(t,a.type);if(a.size>1)for(var u=0;u<a.size;++u)i.push({name:a.name.replace("[0]","["+u+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function i(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=[],o=0;o<r;++o){var a=t.getActiveAttrib(e,o);a&&i.push({name:a.name,type:n(t,a.type)})}return i}e.uniforms=r,e.attributes=i;var o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},a=null},function(t,e){(function(e){"use strict";function n(t,r){if(r=r||e,t in r)return r[t];for(var i,o=0;o<n.vendor.length;o++)if(i=n.vendor[o]+t.charAt(0).toUpperCase()+t.slice(1),i in r)return r[i]}n.vendor="webkit,moz,ms,o,khtml,WebKit,Moz,MS,O,Khtml".split(","),t.exports=n}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)e(t[n])}function i(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,n){var r=t;return f(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=h(e,{uri:t}),r.callback=n,r}function a(t,e,n){return e=o(t,e,n),s(e)}function s(t){function e(){4===l.readyState&&setTimeout(o,0)}function n(){var t=void 0;if(t=l.response?l.response:l.responseText||u(l),_)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(p),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,c(t,w)}function o(){if(!h){var e;clearTimeout(p),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=w,i=null;return 0!==e?(r={body:n(),statusCode:e,method:m,headers:{},url:v,rawRequest:l},l.getAllResponseHeaders&&(r.headers=d(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),c(i,r,r.body)}}if("undefined"==typeof t.callback)throw new Error("callback argument missing");var s=!1,c=function(e,n,r){s||(s=!0,t.callback(e,n,r))},l=t.xhr||null;l||(l=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var f,h,p,v=l.url=t.uri||t.url,m=l.method=t.method||"GET",g=t.body||t.data,y=l.headers=t.headers||{},b=!!t.sync,_=!1,w={body:void 0,headers:{},statusCode:0,method:m,url:v,rawRequest:l};if("json"in t&&t.json!==!1&&(_=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),g=JSON.stringify(t.json===!0?g:t.json))),l.onreadystatechange=e,l.onload=o,l.onerror=r,l.onprogress=function(){},l.onabort=function(){h=!0},l.ontimeout=r,l.open(m,v,!b,t.username,t.password),b||(l.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(p=setTimeout(function(){if(!h){h=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}},t.timeout)),l.setRequestHeader)for(f in y)y.hasOwnProperty(f)&&l.setRequestHeader(f,y[f]);else if(t.headers&&!i(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(g||null),l}function u(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function c(){}var l=n(409),f=n(410),d=n(411),h=n(414);t.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||c,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,r(["get","put","post","patch","head","delete"],function(t){a["delete"===t?"del":t]=function(e,n,r){return n=o(e,n,r),n.method=t.toUpperCase(),s(n)}})},function(t,e){(function(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=n;var r=Object.prototype.toString},function(t,e,n){var r=n(412),i=n(413),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),function(t){var n=t.indexOf(":"),i=r(t.slice(0,n)).toLowerCase(),a=r(t.slice(n+1));"undefined"==typeof e[i]?e[i]=a:o(e[i])?e[i].push(a):e[i]=[e[i],a]}),e}},function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){function r(t,e,n){if(!s(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(t)?i(t,e,n):"string"==typeof t?o(t,e,n):a(t,e,n)}function i(t,e,n){for(var r=0,i=t.length;r<i;r++)c.call(t,r)&&e.call(n,t[r],r,t)}function o(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t.charAt(r),r,t)}function a(t,e,n){for(var r in t)c.call(t,r)&&e.call(n,t[r],r,t)}var s=n(410);t.exports=r;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(t,e){function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}t.exports=n;var r=Object.prototype.hasOwnProperty},function(t,e,n){var r,i,o;(function(t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===n(e)&&"object"===n(t)?t.exports=s():(i=[],r=s,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o)))}(void 0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(1),o=r(i);e.default=o.default,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(6),s=r(a),u=n(3),c=r(u),l=n(7),f=r(l),d=n(8),h=r(d),p=n(10),v=r(p),m=n(11),g=r(m),y=n(12),b=r(y),_=n(13),w=r(_),E=n(14),x=r(E),A=n(15),M=r(A),S=n(16),T=r(S),R=n(9),O=r(R),C=n(17),P=r(C);e.default={color:{Color:o.default,math:s.default,interpret:c.default},controllers:{Controller:f.default,BooleanController:h.default,OptionController:v.default,StringController:g.default,NumberController:b.default,NumberControllerBox:w.default,NumberControllerSlider:x.default,FunctionController:M.default,ColorController:T.default},dom:{dom:O.default},gui:{GUI:P.default},GUI:P.default},t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(v.recalculateRGB(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(v.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function a(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(v.recalculateHSV(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(v.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}e.__esModule=!0;var s=n(3),u=r(s),c=n(6),l=r(c),f=n(4),d=r(f),h=n(5),p=r(h),v=function(){function t(){if(i(this,t),this.__state=u.default.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return t.prototype.toString=function(){return(0,d.default)(this)},t.prototype.toHexString=function(){return(0,d.default)(this,!0)},t.prototype.toOriginal=function(){return this.__state.conversion.write(this)},t}();v.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=l.default.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");p.default.extend(t.__state,l.default.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},v.recalculateHSV=function(t){var e=l.default.rgb_to_hsv(t.r,t.g,t.b);p.default.extend(t.__state,{s:e.s,v:e.v}),p.default.isNaN(e.h)?p.default.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},v.COMPONENTS=["r","g","b","h","s","v","hex","a"],o(v.prototype,"r",2),o(v.prototype,"g",1),o(v.prototype,"b",0),a(v.prototype,"h"),a(v.prototype,"s"),a(v.prototype,"v"),Object.defineProperty(v.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(v.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=l.default.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),e.default=v,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(4),o=r(i),a=n(5),s=r(a),u=[{litmus:s.default.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:o.default},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:o.default},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:o.default},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:o.default}}},{litmus:s.default.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:s.default.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:s.default.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(s.default.isNumber(t.r)&&s.default.isNumber(t.g)&&s.default.isNumber(t.b)&&s.default.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(s.default.isNumber(t.r)&&s.default.isNumber(t.g)&&s.default.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(s.default.isNumber(t.h)&&s.default.isNumber(t.s)&&s.default.isNumber(t.v)&&s.default.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(s.default.isNumber(t.h)&&s.default.isNumber(t.s)&&s.default.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],c=void 0,l=void 0,f=function(){l=!1;var t=arguments.length>1?s.default.toArray(arguments):arguments[0];return s.default.each(u,function(e){if(e.litmus(t))return s.default.each(e.conversions,function(e,n){if(c=e.read(t),l===!1&&c!==!1)return l=c,c.conversionName=n,c.conversion=e,s.default.BREAK}),s.default.BREAK}),l};e.default=f,t.exports=e.default},function(t,e){e.__esModule=!0,e.default=function(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),c=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var l=t.hex.toString(16);l.length<6;)l="0"+l;return"#"+l}return"CSS_RGB"===n?"rgb("+r+","+i+","+o+")":"CSS_RGBA"===n?"rgba("+r+","+i+","+o+","+a+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+i+","+o+"]":"RGBA_ARRAY"===n?"["+r+","+i+","+o+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+u+",v:"+c+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+u+",v:"+c+",a:"+a+"}":"unknown format"},t.exports=e.default},function(t,e){e.__esModule=!0;var n=Array.prototype.forEach,r=Array.prototype.slice,i={BREAK:{},extend:function(t){return this.each(r.call(arguments,1),function(e){var n=this.isObject(e)?Object.keys(e):[];n.forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))},this),t},defaults:function(t){return this.each(r.call(arguments,1),function(e){var n=this.isObject(e)?Object.keys(e):[];n.forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))},this),t},compose:function(){var t=r.call(arguments);return function(){for(var e=r.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,r){if(t)if(n&&t.forEach&&t.forEach===n)t.forEach(e,r);else if(t.length===t.length+0){var i=void 0,o=void 0;for(i=0,o=t.length;i<o;i++)if(i in t&&e.call(r,t[i],i)===this.BREAK)return}else for(var a in t)if(e.call(r,t[a],a)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){function i(){r=null,n||t.apply(o,a)}var o=this,a=arguments,s=n||!r;clearTimeout(r),r=setTimeout(i,e),s&&t.apply(o,a)}},toArray:function(t){return t.toArray?t.toArray():r.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}};e.default=i,t.exports=e.default},function(t,e){e.__esModule=!0;var n=void 0,r={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r,a=void 0,s=void 0;return 0===i?{h:NaN,s:0,v:0}:(s=o/i,a=t===i?(e-n)/o:e===i?2+(n-t)/o:4+(t-e)/o,a/=6,a<0&&(a+=1),{h:360*a,s:s,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,r){return r<<(n=8*e)|t&~(255<<n)}};e.default=r,t.exports=e.default},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(e,r){n(this,t),this.initialValue=e[r],this.domElement=document.createElement("div"),this.object=e,this.property=r,this.__onChange=void 0,this.__onFinishChange=void 0}return t.prototype.onChange=function(t){return this.__onChange=t,this},t.prototype.onFinishChange=function(t){return this.__onFinishChange=t,this},t.prototype.setValue=function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},t.prototype.getValue=function(){return this.object[this.property]},t.prototype.updateDisplay=function(){return this},t.prototype.isModified=function(){return this.initialValue!==this.getValue()},t}();e.default=r,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=r(7),c=i(u),l=r(9),f=i(l),d=function(t){function e(n,r){function i(){u.setValue(!u.__prev)}o(this,e);var s=a(this,t.call(this,n,r)),u=s;return s.__prev=s.getValue(),s.__checkbox=document.createElement("input"),s.__checkbox.setAttribute("type","checkbox"),f.default.bind(s.__checkbox,"change",i,!1),s.domElement.appendChild(s.__checkbox),s.updateDisplay(),s}return s(e,t),e.prototype.setValue=function(e){var n=t.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n},e.prototype.updateDisplay=function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),t.prototype.updateDisplay.call(this)},e}(c.default);e.default=d,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if("0"===t||a.default.isUndefined(t))return 0;var e=t.match(c);return a.default.isNull(e)?0:parseFloat(e[1])}e.__esModule=!0;var o=n(5),a=r(o),s={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},u={};a.default.each(s,function(t,e){a.default.each(t,function(t){u[t]=e})});var c=/(\d+(\.\d+)?)px/,l={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var r=n,i=e;a.default.isUndefined(i)&&(i=!0),a.default.isUndefined(r)&&(r=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},o=u[e];if(!o)throw new Error("Event type "+e+" not supported.");var s=document.createEvent(o);switch(o){case"MouseEvents":var c=i.x||i.clientX||0,l=i.y||i.clientY||0;s.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,c,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var f=s.initKeyboardEvent||s.initKeyEvent;a.default.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),f(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(e,i.bubbles||!1,i.cancelable||!0)}a.default.defaults(s,r),t.dispatchEvent(s)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),l},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),l},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);n.indexOf(e)===-1&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return l},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);r!==-1&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return l},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return i(e["border-left-width"])+i(e["border-right-width"])+i(e["padding-left"])+i(e["padding-right"])+i(e.width)},getHeight:function(t){var e=getComputedStyle(t);return i(e["border-top-width"])+i(e["border-bottom-width"])+i(e["padding-top"])+i(e["padding-bottom"])+i(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent;while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};e.default=l,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=r(7),c=i(u),l=r(9),f=i(l),d=r(5),h=i(d),p=function(t){function e(n,r,i){o(this,e);var s=a(this,t.call(this,n,r)),u=i,c=s;if(s.__select=document.createElement("select"),h.default.isArray(u)){var l={};h.default.each(u,function(t){l[t]=t}),u=l}return h.default.each(u,function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),c.__select.appendChild(n)}),s.updateDisplay(),f.default.bind(s.__select,"change",function(){var t=this.options[this.selectedIndex].value;c.setValue(t)}),s.domElement.appendChild(s.__select),s}return s(e,t),e.prototype.setValue=function(e){var n=t.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n},e.prototype.updateDisplay=function(){return f.default.isActive(this.__select)?this:(this.__select.value=this.getValue(),t.prototype.updateDisplay.call(this))},e}(c.default);e.default=p,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=r(7),c=i(u),l=r(9),f=i(l),d=function(t){function e(n,r){function i(){c.setValue(c.__input.value)}function s(){c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}o(this,e);var u=a(this,t.call(this,n,r)),c=u;return u.__input=document.createElement("input"),u.__input.setAttribute("type","text"),f.default.bind(u.__input,"keyup",i),f.default.bind(u.__input,"change",i),f.default.bind(u.__input,"blur",s),f.default.bind(u.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),u.updateDisplay(),u.domElement.appendChild(u.__input),u}return s(e,t),e.prototype.updateDisplay=function(){return f.default.isActive(this.__input)||(this.__input.value=this.getValue()),t.prototype.updateDisplay.call(this)},e}(c.default);e.default=d,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}e.__esModule=!0;var c=r(7),l=i(c),f=r(5),d=i(f),h=function(t){function e(n,r,i){o(this,e);var s=a(this,t.call(this,n,r)),c=i||{};return s.__min=c.min,s.__max=c.max,s.__step=c.step,d.default.isUndefined(s.__step)?0===s.initialValue?s.__impliedStep=1:s.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(s.initialValue))/Math.LN10))/10:s.__impliedStep=s.__step,s.__precision=u(s.__impliedStep),s}return s(e,t),e.prototype.setValue=function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!==0&&(n=Math.round(n/this.__step)*this.__step),t.prototype.setValue.call(this,n)},e.prototype.min=function(t){return this.__min=t,this},e.prototype.max=function(t){return this.__max=t,this},e.prototype.step=function(t){return this.__step=t,this.__impliedStep=t,this.__precision=u(t),this},e}(l.default);e.default=h,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}e.__esModule=!0;var c=r(12),l=i(c),f=r(9),d=i(f),h=r(5),p=i(h),v=function(t){function e(n,r,i){function s(){var t=parseFloat(m.__input.value);p.default.isNaN(t)||m.setValue(t)}function u(){m.__onFinishChange&&m.__onFinishChange.call(m,m.getValue())}function c(){u()}function l(t){var e=g-t.clientY;m.setValue(m.getValue()+e*m.__impliedStep),g=t.clientY}function f(){d.default.unbind(window,"mousemove",l),d.default.unbind(window,"mouseup",f),u()}function h(t){d.default.bind(window,"mousemove",l),d.default.bind(window,"mouseup",f),g=t.clientY}o(this,e);var v=a(this,t.call(this,n,r,i));v.__truncationSuspended=!1;var m=v,g=void 0;return v.__input=document.createElement("input"),v.__input.setAttribute("type","text"),d.default.bind(v.__input,"change",s),d.default.bind(v.__input,"blur",c),d.default.bind(v.__input,"mousedown",h),d.default.bind(v.__input,"keydown",function(t){13===t.keyCode&&(m.__truncationSuspended=!0,this.blur(),m.__truncationSuspended=!1,u())}),v.updateDisplay(),v.domElement.appendChild(v.__input),v}return s(e,t),e.prototype.updateDisplay=function(){return this.__input.value=this.__truncationSuspended?this.getValue():u(this.getValue(),this.__precision),t.prototype.updateDisplay.call(this)},e}(l.default);e.default=v,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){return r+(i-r)*((t-e)/(n-e))}e.__esModule=!0;var c=r(12),l=i(c),f=r(9),d=i(f),h=function(t){function e(n,r,i,s,c){function l(t){document.activeElement.blur(),d.default.bind(window,"mousemove",f),d.default.bind(window,"mouseup",h),f(t)}function f(t){t.preventDefault();var e=v.__background.getBoundingClientRect();return v.setValue(u(t.clientX,e.left,e.right,v.__min,v.__max)),!1}function h(){d.default.unbind(window,"mousemove",f),d.default.unbind(window,"mouseup",h),v.__onFinishChange&&v.__onFinishChange.call(v,v.getValue())}o(this,e);var p=a(this,t.call(this,n,r,{min:i,max:s,step:c})),v=p;return p.__background=document.createElement("div"),p.__foreground=document.createElement("div"),d.default.bind(p.__background,"mousedown",l),d.default.addClass(p.__background,"slider"),d.default.addClass(p.__foreground,"slider-fg"),p.updateDisplay(),p.__background.appendChild(p.__foreground),p.domElement.appendChild(p.__background),p}return s(e,t),e.prototype.updateDisplay=function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",t.prototype.updateDisplay.call(this)},e}(l.default);e.default=h,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=r(7),c=i(u),l=r(9),f=i(l),d=function(t){function e(n,r,i){o(this,e);var s=a(this,t.call(this,n,r)),u=s;return s.__button=document.createElement("div"),s.__button.innerHTML=void 0===i?"Fire":i,f.default.bind(s.__button,"click",function(t){return t.preventDefault(),u.fire(),!1}),f.default.addClass(s.__button,"button"),s.domElement.appendChild(s.__button),s}return s(e,t),e.prototype.fire=function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())},e}(c.default);e.default=d,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e;
}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r){t.style.background="",b.default.each(w,function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+r+" 100%); "})}function c(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}e.__esModule=!0;var l=r(7),f=i(l),d=r(9),h=i(d),p=r(2),v=i(p),m=r(3),g=i(m),y=r(5),b=i(y),_=function(t){function e(n,r){function i(t){p(t),h.default.bind(window,"mousemove",p),h.default.bind(window,"mouseup",s)}function s(){h.default.unbind(window,"mousemove",p),h.default.unbind(window,"mouseup",s),d()}function l(){var t=(0,g.default)(this.value);t!==!1?(_.__color.__state=t,_.setValue(_.__color.toOriginal())):this.value=_.__color.toString()}function f(){h.default.unbind(window,"mousemove",m),h.default.unbind(window,"mouseup",f),d()}function d(){_.__onFinishChange&&_.__onFinishChange.call(_,_.__color.toOriginal())}function p(t){t.preventDefault();var e=_.__saturation_field.getBoundingClientRect(),n=(t.clientX-e.left)/(e.right-e.left),r=1-(t.clientY-e.top)/(e.bottom-e.top);return r>1?r=1:r<0&&(r=0),n>1?n=1:n<0&&(n=0),_.__color.v=r,_.__color.s=n,_.setValue(_.__color.toOriginal()),!1}function m(t){t.preventDefault();var e=_.__hue_field.getBoundingClientRect(),n=1-(t.clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),_.__color.h=360*n,_.setValue(_.__color.toOriginal()),!1}o(this,e);var y=a(this,t.call(this,n,r));y.__color=new v.default(y.getValue()),y.__temp=new v.default(0);var _=y;y.domElement=document.createElement("div"),h.default.makeSelectable(y.domElement,!1),y.__selector=document.createElement("div"),y.__selector.className="selector",y.__saturation_field=document.createElement("div"),y.__saturation_field.className="saturation-field",y.__field_knob=document.createElement("div"),y.__field_knob.className="field-knob",y.__field_knob_border="2px solid ",y.__hue_knob=document.createElement("div"),y.__hue_knob.className="hue-knob",y.__hue_field=document.createElement("div"),y.__hue_field.className="hue-field",y.__input=document.createElement("input"),y.__input.type="text",y.__input_textShadow="0 1px 1px ",h.default.bind(y.__input,"keydown",function(t){13===t.keyCode&&l.call(this)}),h.default.bind(y.__input,"blur",l),h.default.bind(y.__selector,"mousedown",function(){h.default.addClass(this,"drag").bind(window,"mouseup",function(){h.default.removeClass(_.__selector,"drag")})});var w=document.createElement("div");return b.default.extend(y.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),b.default.extend(y.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:y.__field_knob_border+(y.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),b.default.extend(y.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),b.default.extend(y.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),b.default.extend(w.style,{width:"100%",height:"100%",background:"none"}),u(w,"top","rgba(0,0,0,0)","#000"),b.default.extend(y.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),c(y.__hue_field),b.default.extend(y.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:y.__input_textShadow+"rgba(0,0,0,0.7)"}),h.default.bind(y.__saturation_field,"mousedown",i),h.default.bind(y.__field_knob,"mousedown",i),h.default.bind(y.__hue_field,"mousedown",function(t){m(t),h.default.bind(window,"mousemove",m),h.default.bind(window,"mouseup",f)}),y.__saturation_field.appendChild(w),y.__selector.appendChild(y.__field_knob),y.__selector.appendChild(y.__saturation_field),y.__selector.appendChild(y.__hue_field),y.__hue_field.appendChild(y.__hue_knob),y.domElement.appendChild(y.__input),y.domElement.appendChild(y.__selector),y.updateDisplay(),y}return s(e,t),e.prototype.updateDisplay=function(){var t=(0,g.default)(this.getValue());if(t!==!1){var e=!1;b.default.each(v.default.COMPONENTS,function(n){if(!b.default.isUndefined(t[n])&&!b.default.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&b.default.extend(this.__color.__state,t)}b.default.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;b.default.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,u(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),b.default.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})},e}(f.default),w=["-moz-","-o-","-webkit-","-ms-",""];e.default=_,t.exports=e.default},function(t,e,r){function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function a(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];e?n.innerHTML=n.value+"*":n.innerHTML=n.value}function s(t,e,n){if(n.__li=e,n.__gui=t,Y.default.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),c(t,n.object,n.property,{before:r,factoryArgs:[Y.default.toArray(arguments)]})}if(Y.default.isArray(e)||Y.default.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),c(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof L.default){var r=new F.default(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});Y.default.each(["updateDisplay","onChange","onFinishChange","step"],function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}}),q.default.addClass(e,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof F.default){var i=function(e){if(Y.default.isNumber(n.__min)&&Y.default.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=c(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return e};n.min=Y.default.compose(i,n.min),n.max=Y.default.compose(i,n.max)}else n instanceof O.default?(q.default.bind(e,"click",function(){q.default.fakeEvent(n.__checkbox,"click")}),q.default.bind(n.__checkbox,"click",function(t){t.stopPropagation()})):n instanceof P.default?(q.default.bind(e,"click",function(){q.default.fakeEvent(n.__button,"click")}),q.default.bind(e,"mouseover",function(){q.default.addClass(n.__button,"hover")}),q.default.bind(e,"mouseout",function(){q.default.removeClass(n.__button,"hover")})):n instanceof D.default&&(q.default.addClass(e,"color"),n.updateDisplay=Y.default.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=Y.default.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&a(t.getRoot(),!0),e},n.setValue)}function u(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(r!==-1){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o[Z])return;a=o[Z]}if(a[r]&&void 0!==a[r][e.property]){var s=a[r][e.property];e.initialValue=s,e.setValue(s)}}}}function c(t,e,n,r){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var i=void 0;if(r.color)i=new D.default(e,n);else{var a=[e,n].concat(r.factoryArgs);i=M.default.apply(t,a)}r.before instanceof T.default&&(r.before=r.before.__li),u(t,i),q.default.addClass(i.domElement,"c");var c=document.createElement("span");q.default.addClass(c,"property-name"),c.innerHTML=i.property;var l=document.createElement("div");l.appendChild(c),l.appendChild(i.domElement);var f=o(t,l,r.before);return q.default.addClass(f,it.CLASS_CONTROLLER_ROW),i instanceof D.default?q.default.addClass(f,"color"):q.default.addClass(f,b(i.getValue())),s(t,f,i),t.__controllers.push(i),i}function l(t,e){return document.location.href+"."+e}function f(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function d(t,e){e.style.display=t.useLocalStorage?"block":"none"}function h(t){var e=t.__save_row=document.createElement("li");q.default.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),q.default.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",q.default.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",q.default.addClass(r,"button"),q.default.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",q.default.addClass(i,"button"),q.default.addClass(i,"save-as");var o=document.createElement("span");o.innerHTML="Revert",q.default.addClass(o,"button"),q.default.addClass(o,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?Y.default.each(t.load.remembered,function(e,n){f(t,n,n===t.preset)}):f(t,Z,!1),q.default.bind(a,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),e.appendChild(a),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),Q){var s=document.getElementById("dg-local-explain"),u=document.getElementById("dg-local-storage"),c=document.getElementById("dg-save-locally");c.style.display="block","true"===localStorage.getItem(l(t,"isLocal"))&&u.setAttribute("checked","checked"),d(t,s),q.default.bind(u,"change",function(){t.useLocalStorage=!t.useLocalStorage,d(t,s)})}var h=document.getElementById("dg-new-constructor");q.default.bind(h,"keydown",function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||$.hide()}),q.default.bind(n,"click",function(){h.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),$.show(),h.focus(),h.select()}),q.default.bind(r,"click",function(){t.save()}),q.default.bind(i,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),q.default.bind(o,"click",function(){t.revert()})}function p(t){function e(e){return e.preventDefault(),t.width+=i-e.clientX,t.onResize(),i=e.clientX,!1}function n(){q.default.removeClass(t.__closeButton,it.CLASS_DRAG),q.default.unbind(window,"mousemove",e),q.default.unbind(window,"mouseup",n)}function r(r){return r.preventDefault(),i=r.clientX,q.default.addClass(t.__closeButton,it.CLASS_DRAG),q.default.bind(window,"mousemove",e),q.default.bind(window,"mouseup",n),!1}var i=void 0;t.__resize_handle=document.createElement("div"),Y.default.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),q.default.bind(t.__resize_handle,"mousedown",r),q.default.bind(t.__closeButton,"mousedown",r),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function v(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function m(t,e){var n={};return Y.default.each(t.__rememberedObjects,function(r,i){var o={},a=t.__rememberedObjectIndecesToControllers[i];Y.default.each(a,function(t,n){o[n]=e?t.initialValue:t.getValue()}),n[i]=o}),n}function g(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}function y(t){0!==t.length&&U.default.call(window,function(){y(t)}),Y.default.each(t,function(t){t.updateDisplay()})}e.__esModule=!0;var b="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":n(t)},_=r(18),w=i(_),E=r(19),x=i(E),A=r(20),M=i(A),S=r(7),T=i(S),R=r(8),O=i(R),C=r(15),P=i(C),k=r(13),F=i(k),I=r(14),L=i(I),N=r(16),D=i(N),j=r(21),U=i(j),B=r(22),V=i(B),z=r(9),q=i(z),G=r(5),Y=i(G),X=r(23),H=i(X);w.default.inject(H.default);var W="dg",K=72,J=20,Z="Default",Q=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),$=void 0,tt=!0,et=void 0,nt=!1,rt=[],it=function t(e){function n(){var t=r.getRoot();t.width+=1,Y.default.defer(function(){t.width-=1})}var r=this,i=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),q.default.addClass(this.domElement,W),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=Y.default.defaults(i,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),i=Y.default.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),Y.default.isUndefined(i.load)?i.load={preset:Z}:i.preset&&(i.load.preset=i.preset),Y.default.isUndefined(i.parent)&&i.hideable&&rt.push(this),i.resizable=Y.default.isUndefined(i.parent)&&i.resizable,i.autoPlace&&Y.default.isUndefined(i.scrollable)&&(i.scrollable=!0);var a=Q&&"true"===localStorage.getItem(l(this,"isLocal")),s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return r.parent?r.getRoot().preset:i.load.preset},set:function(t){r.parent?r.getRoot().preset=t:i.load.preset=t,g(this),r.revert()}},width:{get:function(){return i.width},set:function(t){i.width=t,v(r,t)}},name:{get:function(){return i.name},set:function(t){i.name=t,titleRowName&&(titleRowName.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(e){i.closed=e,i.closed?q.default.addClass(r.__ul,t.CLASS_CLOSED):q.default.removeClass(r.__ul,t.CLASS_CLOSED),this.onResize(),r.__closeButton&&(r.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return a},set:function(t){Q&&(a=t,t?q.default.bind(window,"unload",s):q.default.unbind(window,"unload",s),localStorage.setItem(l(r,"isLocal"),t))}}}),Y.default.isUndefined(i.parent)){if(i.closed=!1,q.default.addClass(this.domElement,t.CLASS_MAIN),q.default.makeSelectable(this.domElement,!1),Q&&a){r.useLocalStorage=!0;var u=localStorage.getItem(l(this,"gui"));u&&(i.load=JSON.parse(u))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,q.default.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),i.closeOnTop?(q.default.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(q.default.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),q.default.bind(this.__closeButton,"click",function(){r.closed=!r.closed})}else{void 0===i.closed&&(i.closed=!0);var c=document.createTextNode(i.name);q.default.addClass(c,"controller-name");var f=o(r,c),d=function(t){return t.preventDefault(),r.closed=!r.closed,!1};q.default.addClass(this.__ul,t.CLASS_CLOSED),q.default.addClass(f,"title"),q.default.bind(f,"click",d),i.closed||(this.closed=!1)}i.autoPlace&&(Y.default.isUndefined(i.parent)&&(tt&&(et=document.createElement("div"),q.default.addClass(et,W),q.default.addClass(et,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(et),tt=!1),et.appendChild(this.domElement),q.default.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||v(r,i.width)),this.__resizeHandler=function(){r.onResizeDebounced()},q.default.bind(window,"resize",this.__resizeHandler),q.default.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),q.default.bind(this.__ul,"transitionend",this.__resizeHandler),q.default.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&p(this),s=function(){Q&&"true"===localStorage.getItem(l(r,"isLocal"))&&localStorage.setItem(l(r,"gui"),JSON.stringify(r.getSaveObject()))},this.saveToLocalStorageIfPossible=s,i.parent||n()};it.toggleHide=function(){nt=!nt,Y.default.each(rt,function(t){t.domElement.style.display=nt?"none":""})},it.CLASS_AUTO_PLACE="a",it.CLASS_AUTO_PLACE_CONTAINER="ac",it.CLASS_MAIN="main",it.CLASS_CONTROLLER_ROW="cr",it.CLASS_TOO_TALL="taller-than-window",it.CLASS_CLOSED="closed",it.CLASS_CLOSE_BUTTON="close-button",it.CLASS_CLOSE_TOP="close-top",it.CLASS_CLOSE_BOTTOM="close-bottom",it.CLASS_DRAG="drag",it.DEFAULT_WIDTH=245,it.TEXT_CLOSED="Close Controls",it.TEXT_OPEN="Open Controls",it._keydownHandler=function(t){"text"===document.activeElement.type||t.which!==K&&t.keyCode!==K||it.toggleHide()},q.default.bind(window,"keydown",it._keydownHandler,!1),Y.default.extend(it.prototype,{add:function(t,e){return c(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return c(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;Y.default.defer(function(){e.onResize()})},destroy:function(){this.autoPlace&&et.removeChild(this.domElement),q.default.unbind(window,"keydown",it._keydownHandler,!1),q.default.unbind(window,"resize",this.__resizeHandler),this.saveToLocalStorageIfPossible&&q.default.unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new it(e);this.__folders[t]=n;var r=o(this,n.domElement);return q.default.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=q.default.getOffset(t.__ul).top,n=0;Y.default.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=q.default.getHeight(e))}),window.innerHeight-e-J<n?(q.default.addClass(t.domElement,it.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-J+"px"):(q.default.removeClass(t.domElement,it.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&Y.default.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:Y.default.debounce(function(){this.onResize()},50),remember:function(){if(Y.default.isUndefined($)&&($=new V.default,$.domElement.innerHTML=x.default),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;Y.default.each(Array.prototype.slice.call(arguments),function(e){0===t.__rememberedObjects.length&&h(t),t.__rememberedObjects.indexOf(e)===-1&&t.__rememberedObjects.push(e)}),this.autoPlace&&v(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=m(this)),t.folders={},Y.default.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=m(this),a(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[Z]=m(this,!0)),this.load.remembered[t]=m(this),this.preset=t,f(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){Y.default.each(this.__controllers,function(e){this.getRoot().load.remembered?u(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),Y.default.each(this.__folders,function(t){t.revert(t)}),t||a(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&y(this.__listening)},updateDisplay:function(){Y.default.each(this.__controllers,function(t){t.updateDisplay()}),Y.default.each(this.__folders,function(t){t.updateDisplay()})}}),e.default=it,t.exports=e.default},function(t,e){t.exports={load:function(t,e){var n=e||document,r=n.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=t,n.getElementsByTagName("head")[0].appendChild(r)},inject:function(t,e){var n=e||document,r=document.createElement("style");r.type="text/css",r.innerHTML=t;var i=n.getElementsByTagName("head")[0];try{i.appendChild(r)}catch(t){}}}},function(t,e){t.exports='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(10),o=r(i),a=n(13),s=r(a),u=n(14),c=r(u),l=n(11),f=r(l),d=n(15),h=r(d),p=n(8),v=r(p),m=n(5),g=r(m),y=function(t,e){var n=t[e];return g.default.isArray(arguments[2])||g.default.isObject(arguments[2])?new o.default(t,e,arguments[2]):g.default.isNumber(n)?g.default.isNumber(arguments[2])&&g.default.isNumber(arguments[3])?g.default.isNumber(arguments[4])?new c.default(t,e,arguments[2],arguments[3],arguments[4]):new c.default(t,e,arguments[2],arguments[3]):g.default.isNumber(arguments[4])?new s.default(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new s.default(t,e,{min:arguments[2],max:arguments[3]}):g.default.isString(n)?new f.default(t,e):g.default.isFunction(n)?new h.default(t,e,""):g.default.isBoolean(n)?new v.default(t,e):null};e.default=y,t.exports=e.default},function(t,e){function n(t){setTimeout(t,1e3/60)}e.__esModule=!0,e.default=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n,t.exports=e.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(9),a=r(o),s=n(5),u=r(s),c=function(){function t(){i(this,t),this.backgroundElement=document.createElement("div"),u.default.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),a.default.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),u.default.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;a.default.bind(this.backgroundElement,"click",function(){e.hide()})}return t.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),u.default.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},t.prototype.hide=function t(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",a.default.unbind(e.domElement,"webkitTransitionEnd",t),a.default.unbind(e.domElement,"transitionend",t),a.default.unbind(e.domElement,"oTransitionEnd",t)};a.default.bind(this.domElement,"webkitTransitionEnd",t),a.default.bind(this.domElement,"transitionend",t),a.default.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},t.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-a.default.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-a.default.getHeight(this.domElement)/2+"px"},t}();e.default=c,t.exports=e.default},function(t,e,n){e=t.exports=n(24)(),e.push([t.id,".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */\n  /** allow overflow for color selector */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button.close-top {\n        position: relative; }\n      .dg.main .close-button.close-bottom {\n        position: absolute; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-y: visible; }\n    .dg.a.has-save > ul.close-top {\n      margin-top: 0; }\n    .dg.a.has-save > ul.close-bottom {\n      margin-top: 27px; }\n    .dg.a.has-save > ul.closed {\n      margin-top: 0; }\n    .dg.a .save-row {\n      top: 0;\n      z-index: 1002; }\n      .dg.a .save-row.close-top {\n        position: relative; }\n      .dg.a .save-row.close-bottom {\n        position: fixed; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out;\n    -webkit-transition: overflow 0.1s linear;\n    -o-transition: overflow 0.1s linear;\n    -moz-transition: overflow 0.1s linear;\n    transition: overflow 0.1s linear; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px;\n    overflow: hidden; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%;\n    position: relative; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 7px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .cr.color {\n    overflow: visible; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",""]);
},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}}])})}).call(e,n(416)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";function n(t){var e=Array.prototype.pop.call(t);return Array.prototype.unshift.call(t,e),e}Object.defineProperty(e,"__esModule",{value:!0}),e.step=n;var r=(e.wrapIndex=function(t,e){return e[(e.length+Math.round(t))%e.length]},1/Math.log(2));e.nextPow2=function(t){return Math.pow(2,Math.ceil(Math.log(t)*r))},e.rootPath=location.href.match("://keeffeoghan.github.io/portfolio/")?"/portfolio/":"/"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.defaultExcept=["127.0.0.1","0.0.0.0","localhost"],r=e.redirect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=t+":";document.location.protocol!==r&&e.indexOf(document.location.hostname)<0&&(document.location.protocol=r)};e.default=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,r){n(this,t),this.time=0,this.since=0,this.offset=0,this.rate=1,this.step=-1,this.dt=0,this.paused=!1,this.end=-1,this.loop=!1,this.reset(e,r)}return r(t,[{key:"now",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return(t-this.offset)*this.rate}},{key:"tick",value:function(t){var e=this.time,n=0;if(this.step>=0)n=this.step*this.rate,e+=n;else{var r=e;e=this.now(t),n=e-r}return this.paused?(this.offset+=n,n=0):this.end<0?this.time=e:this.loop?this.time=e%this.end:(this.time=(this.rate>0?Math.min:Math.max)(e,this.end),this.time!==e&&(this.paused=!0)),this.dt=n,this}},{key:"seek",value:function(t){return this.offset=-t,this}},{key:"scrub",value:function(t){return this.offset-=t,this}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.since=this.offset=e,this.time=this.now(t),this}}]),t}();e.Timer=i,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Tendrils=e.glSettings=e.defaults=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(380),c=r(u),l=n(421),f=r(l),d=n(438),h=r(d),p=n(419),v=r(p),m=n(417),g=n(456),y=r(g),b=n(458),_=n(453),w=r(_),E=n(459),x=r(E),A=n(460),M=r(A),S=n(461),T=r(S),R=n(462),O=r(R),C=n(463),P=r(C),k=n(455),F=r(k),I=n(464),L=r(I),N=n(465),D=r(N),j=e.defaults=function(){return{state:{rootNum:Math.pow(2,9),autoClearView:!1,autoFade:!0,damping:.043,speedLimit:.01,forceWeight:.016,varyForce:-.1,flowWeight:1,varyFlow:.2,noiseWeight:.002,varyNoise:.3,flowDecay:.003,flowWidth:5,noiseScale:2.125,varyNoiseScale:.5,noiseSpeed:25e-5,varyNoiseSpeed:.1,target:0,varyTarget:1,lineWidth:1,speedAlpha:1e-6,colorMapAlpha:.4,baseColor:[1,1,1,.5],flowColor:[1,1,1,.04],fadeColor:[.1333,.1333,.1333,0]},timer:Object.assign(new v.default,{step:1e3/60}),numBuffers:0,logicShader:null,renderShader:[M.default,T.default],flowShader:[O.default,P.default],fillShader:[F.default,L.default],copyShader:[F.default,D.default],colorMap:null}},U=(e.glSettings={preserveDrawingBuffer:!0,antialias:!0},e.Tendrils=function(){function t(e,n){o(this,t);var r=a({},j(),n);this.gl=e,this.state=r.state,(this.colorMap=r.colorMap)||(this.colorMap=(0,f.default)(this.gl,[1,1],{float:!0})),this.screen=new w.default(this.gl),this.flow=(0,f.default)(this.gl,[1,1],{float:!0}),this.targets=(0,f.default)(this.gl,[1,1],{float:!0}),this.buffers=[],this.setupBuffers(r.numBuffers),this.logicShader=null,this.renderShader=Array.isArray(r.renderShader)?c.default.apply(void 0,[this.gl].concat(i(r.renderShader))):r.renderShader,this.flowShader=Array.isArray(r.flowShader)?c.default.apply(void 0,[this.gl].concat(i(r.flowShader))):r.flowShader,this.copyShader=Array.isArray(r.copyShader)?c.default.apply(void 0,[this.gl].concat(i(r.copyShader))):r.copyShader,this.fillShader=Array.isArray(r.fillShader)?c.default.apply(void 0,[this.gl].concat(i(r.fillShader))):r.fillShader,this.uniforms={render:{},update:{}},this.particles=null,this.viewRes=[0,0],this.viewSize=[0,0],this.timer=r.timer,this.tempData=[]}return s(t,[{key:"setup",value:function(){return this.setupParticles.apply(this,arguments),this.reset(),this}},{key:"reset",value:function(){return this.spawn(),this}},{key:"dispose",value:function(){return this.particles.dispose(),delete this.particles,this}},{key:"setupBuffers",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.buffers.length<t;)this.buffers.push((0,f.default)(this.gl,[1,1]));for(;this.buffers.length>t;)this.buffers.pop().dispose();return this}},{key:"setupParticles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.rootNum,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;this.state.rootNum=t;var n=[t,t];return this.particles=new h.default(this.gl,{shape:n,geomShape:[n[0],2*n[1]],logicFrag:x.default,render:this.renderShader}),this.logicShader=this.particles.logic,this.particles.setup(e),this.targets.shape=n,this}},{key:"clear",value:function(){return this.clearView(),this.clearFlow(),this}},{key:"clearView",value:function(){var t=this;return this.buffers.forEach(function(e){e.bind(),t.gl.clear(t.gl.COLOR_BUFFER_BIT)}),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this}},{key:"clearFlow",value:function(){return this.flow.bind(),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this}},{key:"restart",value:function(){return this.clear(),this.reset(),this}},{key:"step",value:function(){return this.timer.paused||(this.particles.logic=this.logicShader,this.gl.disable(this.gl.BLEND),Object.assign(this.uniforms.update,this.state,{dt:this.timer.dt,time:this.timer.time,start:this.timer.since,flow:this.flow.color[0].bind(1),targets:this.targets.color[0].bind(2),viewSize:this.viewSize,viewRes:this.viewRes}),this.particles.step(this.uniforms.update),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this}},{key:"draw",value:function(){return this.viewport(),Object.assign(this.uniforms.render,this.state,{time:this.timer.time,previous:this.particles.buffers[1].color[0].bind(1),viewSize:this.viewSize,viewRes:this.viewRes,colorMap:(this.colorMap.color&&this.colorMap.color[0]?this.colorMap.color[0]:this.colorMap).bind(2),colorMapRes:this.colorMap.shape}),this.particles.render=this.flowShader,this.flow.bind(),this.gl.lineWidth(Math.max(0,this.state.flowWidth)),this.particles.draw(this.uniforms.render,this.gl.LINES),0===this.buffers.length?this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null):this.buffers[0].bind(),this.state.autoClearView&&this.clearView(),this.state.autoFade&&this.drawFade(),this.particles.render=this.renderShader,this.gl.lineWidth(Math.max(0,this.state.lineWidth)),this.particles.draw(this.uniforms.render,this.gl.LINES),this}},{key:"drawFade",value:function(){return this.state.fadeColor[3]>0&&this.drawFill(this.state.fadeColor),this}},{key:"drawFill",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.fadeColor;return this.fillShader.bind(),this.fillShader.uniforms.color=t,this.screen.render(),this}},{key:"drawBuffer",value:function(t){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.state.autoClearView&&this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.copyBuffer(t).stepBuffers()}},{key:"copyBuffer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<this.buffers.length&&(this.copyShader.bind(),Object.assign(this.copyShader.uniforms,{view:this.buffers[t].color[0].bind(0),viewRes:this.viewRes}),this.screen.render()),this}},{key:"stepBuffers",value:function(){return this.buffers.length>1&&(0,m.step)(this.buffers),this}},{key:"resize",value:function(){var t=this;return this.viewRes[0]=this.gl.drawingBufferWidth,this.viewRes[1]=this.gl.drawingBufferHeight,(0,b.coverAspect)(this.viewSize,this.viewRes),this.buffers.forEach(function(e){return e.shape=t.viewRes}),this.flow.shape=this.viewRes,this}},{key:"viewport",value:function(){return this.gl.viewport(0,0,this.viewRes[0],this.viewRes[1]),this}},{key:"spawn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default;return this.particles.spawn(t),this}},{key:"spawnShader",value:function(t,e){var n;this.timer.tick(),this.particles.logic=t,this.gl.disable(this.gl.BLEND);for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(n=this.particles).step.apply(n,[h.default.applyUpdate(a({},this.state,{time:this.timer.time,viewSize:this.viewSize,viewRes:this.viewRes}),e)].concat(i)),this.particles.logic=this.logicShader,this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this}}]),t}());e.default=U},function(t,e,n){"use strict";function r(t){var e=t.getParameter(t.FRAMEBUFFER_BINDING),n=t.getParameter(t.RENDERBUFFER_BINDING),r=t.getParameter(t.TEXTURE_BINDING_2D);return[e,n,r]}function i(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function o(t,e){var n=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);y=new Array(n+1);for(var r=0;r<=n;++r){for(var i=new Array(n),o=0;o<r;++o)i[o]=t.COLOR_ATTACHMENT0+o;for(var o=r;o<n;++o)i[o]=t.NONE;y[r]=i}}function a(t){switch(t){case p:throw new Error("gl-fbo: Framebuffer unsupported");case v:throw new Error("gl-fbo: Framebuffer incomplete attachment");case m:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case g:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(t,e,n,r,i,o){if(!r)return null;var a=h(t,e,n,i,r);return a.magFilter=t.NEAREST,a.minFilter=t.NEAREST,a.mipSamples=1,a.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,o,t.TEXTURE_2D,a.handle,0),a}function u(t,e,n,r,i){var o=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,r,e,n),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,o),o}function c(t){var e=r(t.gl),n=t.gl,o=t.handle=n.createFramebuffer(),c=t._shape[0],l=t._shape[1],f=t.color.length,d=t._ext,h=t._useStencil,p=t._useDepth,v=t._colorType;n.bindFramebuffer(n.FRAMEBUFFER,o);for(var m=0;m<f;++m)t.color[m]=s(n,c,l,v,n.RGBA,n.COLOR_ATTACHMENT0+m);0===f?(t._color_rb=u(n,c,l,n.RGBA4,n.COLOR_ATTACHMENT0),d&&d.drawBuffersWEBGL(y[0])):f>1&&d.drawBuffersWEBGL(y[f]);var g=n.getExtension("WEBGL_depth_texture");g?h?t.depth=s(n,c,l,g.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):p&&(t.depth=s(n,c,l,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):p&&h?t._depth_rb=u(n,c,l,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):p?t._depth_rb=u(n,c,l,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):h&&(t._depth_rb=u(n,c,l,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){t._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(n.deleteRenderbuffer(t._depth_rb),t._depth_rb=null);for(var m=0;m<t.color.length;++m)t.color[m].dispose(),t.color[m]=null;t._color_rb&&(n.deleteRenderbuffer(t._color_rb),t._color_rb=null),i(n,e),a(b)}i(n,e)}function l(t,e,n,r,i,o,a,s){this.gl=t,this._shape=[0|e,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var u=0;u<i;++u)this.color[u]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=o,this._useStencil=a;var l=this,f=[0|e,0|n];Object.defineProperties(f,{0:{get:function(){return l._shape[0]},set:function(t){return l.width=t}},1:{get:function(){return l._shape[1]},set:function(t){return l.height=t}}}),this._shapeVector=f,c(this)}function f(t,e,n){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==n){var o=t.gl,s=o.getParameter(o.MAX_RENDERBUFFER_SIZE);if(e<0||e>s||n<0||n>s)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=n;for(var u=r(o),c=0;c<t.color.length;++c)t.color[c].shape=t._shape;t._color_rb&&(o.bindRenderbuffer(o.RENDERBUFFER,t._color_rb),o.renderbufferStorage(o.RENDERBUFFER,o.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(o.bindRenderbuffer(o.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&o.renderbufferStorage(o.RENDERBUFFER,o.STENCIL_INDEX,t._shape[0],t._shape[1])),o.bindFramebuffer(o.FRAMEBUFFER,t.handle);var l=o.checkFramebufferStatus(o.FRAMEBUFFER);l!==o.FRAMEBUFFER_COMPLETE&&(t.dispose(),i(o,u),a(l)),i(o,u)}}function d(t,e,n,r){p||(p=t.FRAMEBUFFER_UNSUPPORTED,v=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,m=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,g=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var i=t.getExtension("WEBGL_draw_buffers");if(!y&&i&&o(t,i),Array.isArray(e)&&(r=n,n=0|e[1],e=0|e[0]),"number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var a=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>a||n<0||n>a)throw new Error("gl-fbo: Parameters are too large for FBO");r=r||{};var s=1;if("color"in r){if(s=Math.max(0|r.color,0),s<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(s>1){if(!i)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(s>t.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+s+" draw buffers")}}var u=t.UNSIGNED_BYTE,c=t.getExtension("OES_texture_float");if(r.float&&s>0){if(!c)throw new Error("gl-fbo: Context does not support floating point textures");u=t.FLOAT}else r.preferFloat&&s>0&&c&&(u=t.FLOAT);var f=!0;"depth"in r&&(f=!!r.depth);var d=!1;return"stencil"in r&&(d=!!r.stencil),new l(t,e,n,u,s,f,d,i)}var h=n(422);t.exports=d;var p,v,m,g,y=null,b=l.prototype;Object.defineProperties(b,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],n=0|t[1];return f(this,e,n),[e,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return t|=0,f(this,t,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,f(this,this._shape[0],t),t},enumerable:!1}}),b.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},b.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},function(t,e,n){"use strict";function r(t){g=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],y=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],b=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function i(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}function o(t,e,n){var r=t.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(e<0||e>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,n],t.bind(),r.texImage2D(r.TEXTURE_2D,0,t.format,e,n,0,t.format,t.type,null),t._mipLevels=[0],t}function a(t,e,n,r,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[n,r],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=u}function s(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function u(t,e,n,r,i,o,a,u){var c=u.dtype,l=u.shape.slice();if(l.length<2||l.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var f=0,d=0,h=s(l,u.stride.slice());"float32"===c?f=t.FLOAT:"float64"===c?(f=t.FLOAT,h=!1,c="float32"):"uint8"===c?f=t.UNSIGNED_BYTE:(f=t.UNSIGNED_BYTE,h=!1,c="uint8");var g=1;if(2===l.length)d=t.LUMINANCE,l=[l[0],l[1],1],u=p(u.data,l,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==l.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===l[2])d=t.ALPHA;else if(2===l[2])d=t.LUMINANCE_ALPHA;else if(3===l[2])d=t.RGB;else{if(4!==l[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");d=t.RGBA}g=l[2]}if(d!==t.LUMINANCE&&d!==t.ALPHA||i!==t.LUMINANCE&&i!==t.ALPHA||(d=i),d!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=u.size,b=a.indexOf(r)<0;if(b&&a.push(r),f===o&&h)0===u.offset&&u.data.length===y?b?t.texImage2D(t.TEXTURE_2D,r,i,l[0],l[1],0,i,o,u.data):t.texSubImage2D(t.TEXTURE_2D,r,e,n,l[0],l[1],i,o,u.data):b?t.texImage2D(t.TEXTURE_2D,r,i,l[0],l[1],0,i,o,u.data.subarray(u.offset,u.offset+y)):t.texSubImage2D(t.TEXTURE_2D,r,e,n,l[0],l[1],i,o,u.data.subarray(u.offset,u.offset+y));else{var w;w=o===t.FLOAT?m.mallocFloat32(y):m.mallocUint8(y);var E=p(w,l,[l[2],l[2]*l[0],1]);f===t.FLOAT&&o===t.UNSIGNED_BYTE?_(E,u):v.assign(E,u),b?t.texImage2D(t.TEXTURE_2D,r,i,l[0],l[1],0,i,o,w.subarray(0,y)):t.texSubImage2D(t.TEXTURE_2D,r,e,n,l[0],l[1],i,o,w.subarray(0,y)),o===t.FLOAT?m.freeFloat32(w):m.freeUint8(w)}}function c(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function l(t,e,n,r,i){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>o||n<0||n>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=c(t);return t.texImage2D(t.TEXTURE_2D,0,r,e,n,0,r,i,null),new a(t,s,e,n,r,i)}function f(t,e,n,r,i,o){var s=c(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,o,e),new a(t,s,n,r,i,o)}function d(t,e){var n=e.dtype,r=e.shape.slice(),i=t.getParameter(t.MAX_TEXTURE_SIZE);if(r[0]<0||r[0]>i||r[1]<0||r[1]>i)throw new Error("gl-texture2d: Invalid texture size");var o=s(r,e.stride.slice()),u=0;"float32"===n?u=t.FLOAT:"float64"===n?(u=t.FLOAT,o=!1,n="float32"):"uint8"===n?u=t.UNSIGNED_BYTE:(u=t.UNSIGNED_BYTE,o=!1,n="uint8");var l=0;if(2===r.length)l=t.LUMINANCE,r=[r[0],r[1],1],e=p(e.data,r,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==r.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===r[2])l=t.ALPHA;else if(2===r[2])l=t.LUMINANCE_ALPHA;else if(3===r[2])l=t.RGB;else{if(4!==r[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");l=t.RGBA}}u!==t.FLOAT||t.getExtension("OES_texture_float")||(u=t.UNSIGNED_BYTE,o=!1);var f,d,h=e.size;if(o)f=0===e.offset&&e.data.length===h?e.data:e.data.subarray(e.offset,e.offset+h);else{var g=[r[2],r[2]*r[0],1];d=m.malloc(h,n);var y=p(d,r,g,0);"float32"!==n&&"float64"!==n||u!==t.UNSIGNED_BYTE?v.assign(y,e):_(y,e),f=d.subarray(0,h)}var b=c(t);return t.texImage2D(t.TEXTURE_2D,0,l,r[0],r[1],0,l,u,f),o||m.free(d),new a(t,b,r[0],r[1],l,u)}function h(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(g||r(t),"number"==typeof arguments[1])return l(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return l(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],n=i(e)?e:e.raw;if(n)return f(t,n,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return d(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var p=n(423),v=n(426),m=n(431);t.exports=h;var g=null,y=null,b=null,_=function(t,e){v.muls(t,e,255)},w=a.prototype;Object.defineProperties(w,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&g.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&g.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),b.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),b.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(b.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return o(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t|=0,o(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,o(this,this._shape[0],t),t}}}),w.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},w.dispose=function(){this.gl.deleteTexture(this.handle)},w.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},w.setPixels=function(t,e,n,r){var o=this.gl;this.bind(),Array.isArray(e)?(r=n,n=0|e[1],e=0|e[0]):(e=e||0,n=n||0),r=r||0;var a=i(t)?t:t.raw;if(a){var s=this._mipLevels.indexOf(r)<0;s?(o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(r)):o.texSubImage2D(o.TEXTURE_2D,r,e,n,this.format,this.type,a)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>r||n+t.shape[0]>this._shape[0]>>>r||e<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");u(o,e,n,r,this.format,this.type,this._mipLevels,t)}}},function(t,e,n){function r(t,e){return t[0]-e[0]}function i(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(r);var i=new Array(n.length);for(t=0;t<i.length;++t)i[t]=n[t][1];return i}function o(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var r="generic"===t;if(e===-1){var o="function "+n+"(a){this.data=a;};\tvar proto="+n+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return -1};\tproto.size=0;\tproto.dimension=-1;\tproto.shape=proto.stride=proto.order=[];\tproto.lo=proto.hi=proto.transpose=proto.step=\tfunction(){return new "+n+"(this.data);};\tproto.get=proto.set=function(){};\tproto.pick=function(){return null};\treturn function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(o);return a()}if(0===e){var o="function "+n+"(a,d) {\tthis.data = a;\tthis.offset = d\t};\tvar proto="+n+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return this.offset};\tproto.dimension=0;\tproto.size=1;\tproto.shape=\tproto.stride=\tproto.order=[];\tproto.lo=\tproto.hi=\tproto.transpose=\tproto.step=function "+n+"_copy() {\treturn new "+n+"(this.data,this.offset)\t};\tproto.pick=function "+n+"_pick(){\treturn TrivialArray(this.data);\t};\tproto.valueOf=proto.get=function "+n+"_get(){\treturn "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};\tproto.set=function "+n+"_set(v){\treturn "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"\t};\treturn function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",o);return a(f[t][0])}var o=["'use strict'"],s=u(e),c=s.map(function(t){return"i"+t}),l="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),d=s.map(function(t){return"b"+t}).join(","),h=s.map(function(t){return"c"+t}).join(",");o.push("function "+n+"(a,"+d+","+h+",d){this.data=a","this.shape=["+d+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){\treturn "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\tif(s0>s1){\tif(s1>s2){\treturn [2,1,0];\t}else if(s0>s2){\treturn [1,2,0];\t}else{\treturn [1,0,2];\t}\t}else if(s0>s2){\treturn [2,0,1];\t}else if(s2>s1){\treturn [0,1,2];\t}else{\treturn [0,2,1];\t}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),r?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),r?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var p=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),v=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+v.join(","));for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){\td=i"+m+"|0;\tb+=c"+m+"*d;\ta"+m+"-=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'){\td=i"+m+"|0;\tif(d<0){\tc+=b"+m+"*(a"+m+"-1);\ta"+m+"=ceil(-a"+m+"/d)\t}else{\ta"+m+"=ceil(a"+m+"/d)\t}\tb"+m+"*=d\t}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var g=new Array(e),y=new Array(e),m=0;m<e;++m)g[m]="a[i"+m+"]",y[m]="b[i"+m+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(f[t],i)}function a(t){if(c(t))return"buffer";if(l)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,n,r){if(void 0===t){var i=f.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===n){n=new Array(s);for(var u=s-1,c=1;u>=0;--u)n[u]=c,c*=e[u]}if(void 0===r){r=0;for(var u=0;u<s;++u)n[u]<0&&(r-=(e[u]-1)*n[u]);
}for(var l=a(t),d=f[l];d.length<=s+1;)d.push(o(l,d.length-1));var i=d[s+1];return i(t,e,n,r)}var u=n(424),c=n(425),l="undefined"!=typeof Float64Array,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=s},function(t,e){"use strict";function n(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}t.exports=n},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function r(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var n=t.args[e];0===e?t.args[e]={name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:t.args[e]={name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return a({args:t.args,pre:r(t.pre),body:r(t.body),post:r(t.proc),funcName:t.funcName})}function o(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);var r=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return r(i(t))}var a=n(427),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var n=u[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in c){var n=c[t];e[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in l){var n=l[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<f.length;++t){var n=f[t];e[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var t=0;t<d.length;++t){var n=d[t];e[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new r;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var i=0;i<n.length;++i){var a=n[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,o(e)}var o=n(428);t.exports=i},function(t,e,n){"use strict";function r(t){var e=["'use strict'","var CACHED={}"],n=[],r=t.funcName+"_cwise_thunk";e.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var f=t.arrayArgs[l];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------");var d=new Function("compile",e.join("\n"));return d(i.bind(void 0,t))}var i=n(429);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],l=0,f=0;for(r=0;r<o;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)f=l,l=t[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",l].join("")):c.push(["d",i,"s",r,"=(t",i,"p",l,"-s",f,"*t",i,"p",f,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),r=o-1;r>=0;--r)l=t[r],u.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(u.push(n),r=0;r<o;++r){for(f=l,l=t[r],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,n,i){for(var o=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(var l=t;l<o;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(var l=0;l<a;++l){for(var f=["offset"+l],d=t;d<o;++d)f.push(["j",d,"*t",l,"p",e[d]].join(""));c.push(["p",l,"=(",f.join("+"),")"].join(""))}c.push(r(e,n,i));for(var l=t;l<o;++l)c.push("}");return c.join("\n")}function o(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}function a(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var f=e.offsetArgIndex.indexOf(a),d=e.offsetArgs[f];l=d.array,c="+q"+f;case"array":c="p"+l+c;var h="l"+a,p="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===n[l]?s.lvalue?(i.push(["var ",h,"=",p,".get(",c,")"].join("")),r=r.replace(u,h),o.push([p,".set(",c,",",h,")"].join(""))):r=r.replace(u,[p,".get(",c,")"].join("")):r=r.replace(u,[p,"[",c,"]"].join("")):"generic"===n[l]?(i.push(["var ",h,"=",p,".get(",c,")"].join("")),r=r.replace(u,h),s.lvalue&&o.push([p,".set(",c,",",h,")"].join(""))):(i.push(["var ",h,"=",p,"[",c,"]"].join("")),r=r.replace(u,h),s.lvalue&&o.push([p,"[",c,"]=",h].join("")));else{for(var v=[s.name],m=[c],g=0;g<Math.abs(e.arrayBlockIndices[l]);g++)v.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+l+"b"+g);if(u=new RegExp(v.join(""),"g"),c=m.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[p,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}function u(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),l=new Array(t.arrayArgs.length),f=0;f<t.arrayArgs.length;++f)l[f]=e[2*f],u[f]=e[2*f+1];for(var d=[],h=[],p=[],v=[],m=[],f=0;f<t.arrayArgs.length;++f){t.arrayBlockIndices[f]<0?(p.push(0),v.push(n),d.push(n),h.push(n+t.arrayBlockIndices[f])):(p.push(t.arrayBlockIndices[f]),v.push(t.arrayBlockIndices[f]+n),d.push(0),h.push(t.arrayBlockIndices[f]));for(var g=[],y=0;y<u[f].length;y++)p[f]<=u[f][y]&&u[f][y]<v[f]&&g.push(u[f][y]-p[f]);m.push(g)}for(var b=["SS"],_=["'use strict'"],w=[],y=0;y<n;++y)w.push(["s",y,"=SS[",y,"]"].join(""));for(var f=0;f<t.arrayArgs.length;++f){b.push("a"+f),b.push("t"+f),b.push("p"+f);for(var y=0;y<n;++y)w.push(["t",f,"p",y,"=t",f,"[",p[f]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[f]);++y)w.push(["t",f,"b",y,"=t",f,"[",d[f]+y,"]"].join(""))}for(var f=0;f<t.scalarArgs.length;++f)b.push("Y"+f);if(t.shapeArgs.length>0&&w.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var E=new Array(n),f=0;f<n;++f)E[f]="0";w.push(["index=[",E.join(","),"]"].join(""))}for(var f=0;f<t.offsetArgs.length;++f){for(var x=t.offsetArgs[f],A=[],y=0;y<x.offset.length;++y)0!==x.offset[y]&&(1===x.offset[y]?A.push(["t",x.array,"p",y].join("")):A.push([x.offset[y],"*t",x.array,"p",y].join("")));0===A.length?w.push("q"+f+"=0"):w.push(["q",f,"=",A.join("+")].join(""))}var M=c([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));w=w.concat(M),w.length>0&&_.push("var "+w.join(","));for(var f=0;f<t.arrayArgs.length;++f)_.push("p"+f+"|=0");t.pre.body.length>3&&_.push(a(t.pre,t,l));var S=a(t.body,t,l),T=o(m);T<n?_.push(i(T,m[0],t,S)):_.push(r(m[0],t,S)),t.post.body.length>3&&_.push(a(t.post,t,l)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+_.join("\n")+"\n----------");var R=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",T,s(l)].join(""),O=new Function(["function ",R,"(",b.join(","),"){",_.join("\n"),"} return ",R].join(""));return O()}var c=n(430);t.exports=u},function(t,e){"use strict";function n(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,i=t[a],e(i,o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}function r(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,r=t[o],r!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}function i(t,e,i){return 0===t.length?t:e?(i||t.sort(e),n(t,e)):(i||t.sort(),r(t))}t.exports=i},function(t,e,n){(function(t,r){"use strict";function i(t){if(t){var e=t.length||t.byteLength,n=y.log2(e);E[n].push(t)}}function o(t){i(t.buffer)}function a(t){var t=y.nextPow2(t),e=y.log2(t),n=E[e];return n.length>0?n.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function u(t){return new Uint16Array(a(2*t),0,t)}function c(t){return new Uint32Array(a(4*t),0,t)}function l(t){return new Int8Array(a(t),0,t)}function f(t){return new Int16Array(a(2*t),0,t)}function d(t){return new Int32Array(a(4*t),0,t)}function h(t){return new Float32Array(a(4*t),0,t)}function p(t){return new Float64Array(a(8*t),0,t)}function v(t){return _?new Uint8ClampedArray(a(t),0,t):s(t)}function m(t){return new DataView(a(t),0,t)}function g(t){t=y.nextPow2(t);var e=y.log2(t),n=x[e];return n.length>0?n.pop():new r(t)}var y=n(436),b=n(437);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var _="undefined"!=typeof Uint8ClampedArray,w=t.__TYPEDARRAY_POOL;w.UINT8C||(w.UINT8C=b([32,0])),w.BUFFER||(w.BUFFER=b([32,0]));var E=w.DATA,x=w.BUFFER;e.free=function(t){if(r.isBuffer(t))x[y.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|y.log2(e);E[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=o,e.freeArrayBuffer=i,e.freeBuffer=function(t){x[y.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return a(t);switch(e){case"uint8":return s(t);case"uint16":return u(t);case"uint32":return c(t);case"int8":return l(t);case"int16":return f(t);case"int32":return d(t);case"float":case"float32":return h(t);case"double":case"float64":return p(t);case"uint8_clamped":return v(t);case"buffer":return g(t);case"data":case"dataview":return m(t);default:return null}return null},e.mallocArrayBuffer=a,e.mallocUint8=s,e.mallocUint16=u,e.mallocUint32=c,e.mallocInt8=l,e.mallocInt16=f,e.mallocInt32=d,e.mallocFloat32=e.mallocFloat=h,e.mallocFloat64=e.mallocDouble=p,e.mallocUint8Clamped=v,e.mallocDataView=m,e.mallocBuffer=g,e.clearCache=function(){for(var t=0;t<32;++t)w.UINT8[t].length=0,w.UINT16[t].length=0,w.UINT32[t].length=0,w.INT8[t].length=0,w.INT16[t].length=0,w.INT32[t].length=0,w.FLOAT[t].length=0,w.DOUBLE[t].length=0,w.UINT8C[t].length=0,E[t].length=0,x[t].length=0}}).call(e,function(){return this}(),n(432).Buffer)},function(t,e,n){(function(t){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return s(this,t,e,n)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?f(t,e,n):p(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function l(t,e){if(u(e),t=o(t,e<0?0:0|v(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n);t=o(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function d(t,e){var n=e.length<0?0:0|v(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=d(t,e),t}function p(t,e){if(a.isBuffer(e)){var n=0|v(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||J(e.length)?o(t,0):d(t,e);if("Buffer"===e.type&&$(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),a.alloc(+t)}function g(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return Y(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return F(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var f=!0,d=0;d<u;d++)if(o(t,c+d)!==o(e,d)){f=!1;break}if(f)return c}return-1}function E(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function x(t,e,n,r){return K(Y(e,t.length-n),t,n,r)}function A(t,e,n,r){return K(X(e),t,n,r)}function M(t,e,n,r){return A(t,e,n,r)}function S(t,e,n,r){return K(W(e),t,n,r)}function T(t,e,n,r){return K(H(e,t.length-n),t,n,r)}function R(t,e,n){return 0===e&&n===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return C(r)}function C(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function F(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=G(t[o]);return i}function I(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,r,23,4),n+4}function V(t,e,n,r,i){return i||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,r,52,8),n+8}function z(t){if(t=q(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function X(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return Z.toByteArray(z(t))}function K(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function J(t){return t!==t}var Z=n(433),Q=n(434),$=n(435);e.Buffer=a,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=i(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return s(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return c(null,t,e,n)},a.allocUnsafe=function(t){return l(null,t)},a.allocUnsafeSlow=function(t){return l(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):y.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,u=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},a.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return A(this,t,e,n);case"latin1":case"binary":return M(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;a.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=a.prototype;else{var i=e-t;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),Q.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),Q.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),Q.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),Q.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;N(this,t,e,n,i,0)}var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;N(this,t,e,n,i,0)}var o=n-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=a.isBuffer(t)?t:Y(new a(t,r).toString()),u=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,o,a,s=t.length;o=n(t),a=new l(3*s/4-o),r=o>0?s-4:s;var u=0;for(e=0;e<r;e+=4)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,a[u++]=255&i):1===o&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(o(r));return i.join("")}function s(t){for(var e,n=t.length,r=n%3,i="",o=[],s=16383,c=0,l=n-r;c<l;c+=s)o.push(a(t,c,c+s>l?l:c+s));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=s;for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=f.length;d<h;++d)u[d]=f[d],c[f.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=t[e+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?d/u:d*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var r=32;e.INT_BITS=r,e.INT_MAX=2147483647,e.INT_MIN=-1<<r-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>r-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,e|=n,e|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e){"use strict";function n(t,e,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=n(t,e,r+1);return a}function r(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function i(t,e){switch("undefined"==typeof e&&(e=0),typeof t){case"number":if(t>0)return r(0|t,e);break;case"object":if("number"==typeof t.length)return n(t,e,0)}return[]}t.exports=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Particles=e.defaults=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(439),c=r(u),l=n(380),f=r(l),d=n(421),h=r(d),p=n(423),v=r(p),m=n(452),g=r(m),y=n(417),b=n(453),_=r(b),w=n(455),E=r(w),x=e.defaults=function(){return{shape:[64,64],geomShape:null,logic:null,logicVert:E.default,logicFrag:null,render:null,renderVert:null,renderFrag:null}},A=e.Particles=function(){function t(e,n){o(this,t);var r=a({},x(),n);this.gl=e,this.screen=new _.default(this.gl),this.shape=r.shape,this.geomShape=r.geomShape||[].concat(i(this.shape));var s=r.logic||[r.logicVert,r.logicFrag];this.logic=Array.isArray(s)?f.default.apply(void 0,[e].concat(i(s))):s;var u=r.render||[r.renderVert,r.renderFrag];this.render=Array.isArray(u)?f.default.apply(void 0,[e].concat(i(u))):u,this.geom=(0,c.default)(e),this.geom.attr("uv",t.generateLUT(this.geomShape),{size:2}),this.buffers=[],this.pixels=(0,v.default)(new Float32Array(this.shape[0]*this.shape[1]*4),[this.shape[0],this.shape[1],4])}return s(t,[{key:"setup",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.buffers.length<t;)this.buffers.push((0,h.default)(this.gl,[this.shape[0],this.shape[1]],{float:!0}));for(;this.buffers.length>t;)this.buffers.pop().dispose()}},{key:"spawn",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pixels,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=new Float32Array(4),i=e.shape,o=e.data,a=0,s=0;s<i[0];++s)for(var u=0;u<i[1];++u)r[0]=r[1]=r[2]=r[3]=0,t(r,s,u),o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],o[a++]=r[3];this.buffers.forEach(function(t){return t.color[0].setPixels(e,n)})}},{key:"step",value:function(e,n){n?n.bind():((0,y.step)(this.buffers),this.buffers[0].bind()),this.gl.viewport(0,0,this.shape[0],this.shape[1]),this.logic.bind(),t.applyUpdate(Object.assign(this.logic.uniforms,{dataRes:this.shape,geomRes:this.geomShape,particles:this.buffers[1].color[0].bind(0)}),e),this.screen.render(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}},{key:"draw",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gl.POINTS;this.geom.bind(this.render),t.applyUpdate(Object.assign(this.render.uniforms,{dataRes:this.shape,geomRes:this.geomShape,particles:this.buffers[0].color[0].bind(0)}),e),this.geom.draw(n)}},{key:"updateLogic",value:function(t){this.logic.update(E.default,t)}},{key:"updateRender",value:function(t,e){this.render.update(e,t)}},{key:"dispose",value:function(){}}],[{key:"generateLUT",value:function(t){for(var e=t[0]*t[1]*2,n=new Float32Array(e),r=0,i=Math.max(t[0],2),o=Math.max(t[1],2),a=1/(i-1),s=1/(o-1),u=0;u<i;++u)for(var c=0;c<o;++c)n[r++]=u*a,n[r++]=c*s;return n}},{key:"applyUpdate",value:function(t,e){return(0,g.default)(e)?e(t):Object.assign(t,e)}}]),t}();e.default=A},function(t,e,n){function r(t){return this instanceof r?(this._elementsType=5123,this._elementsBytes=2,this._attributes=[],this._dirty=!0,this._attrLength=0,this._facesLength=0,this._index=null,this._vao=null,this._keys=[],void(this.gl=t)):new r(t)}var i=n(440),o=n(447),a=n(448),s=n(446);t.exports=r,r.prototype.dispose=function(){for(var t=0;t<this._attributes.length;t++)this._attributes[t].buffer.dispose();this._attributes=[],this._keys=[],this._attrLength=0,this._facesLength=0,this._dirty=!0,this._index&&(this._index.dispose(),this._index=null),this._vao&&(this._vao.dispose(),this._vao=null)},r.prototype.faces=function(t,e){var n=e&&e.size||3;return t=t.cells?t.cells:t,this._dirty=!0,this._index&&this._index.dispose(),this._index=i.create(this.gl,t,n,this.gl.ELEMENT_ARRAY_BUFFER,"uint16"),this._facesLength=this._index.length*n,this._index=this._index.buffer,this},r.prototype.attr=function(t,e,n){if(e.cells&&e.positions)return this.attr(t,e.positions).faces(e.cells,n);n=n||{};var r=n.size||3,o=this._keys.indexOf(t);if(o>-1){var a=this._attributes[o].buffer,s=n.offset||void 0;return i.update(a,e,r,"float32",s),this._attrLength=a.length/r/4,this}this._dirty=!0;var u=this.gl,c=!this._attributes.length,l=i.create(u,e,r,u.ARRAY_BUFFER,"float32");if(!l)throw new Error("Unexpected attribute format: needs an ndarray, array, typed array, gl-buffer or simplicial complex");var f=l.buffer,d=l.length;return this._keys.push(t),this._attributes.push({size:r,buffer:f}),c&&(this._attrLength=d),this},r.prototype.bind=function(t){if(this.update(),this._vao.bind(),this._keys&&t){for(var e=0;e<this._keys.length;e++){var n=t.attributes[this._keys[e]];n&&(n.location=e)}t.bind()}},r.prototype.draw=function(t,e,n){e="undefined"==typeof e?0:e,t="undefined"==typeof t?this.gl.TRIANGLES:t,this.update(),this._vao._useElements?(n="undefined"==typeof n?this._facesLength:n,this.gl.drawElements(t,n-e,this._elementsType,e*this._elementsBytes)):(n="undefined"==typeof n?this._attrLength:n,this.gl.drawArrays(t,e,n-e))},r.prototype.unbind=function(){this.update(),this._vao.unbind()},r.prototype.update=function(){this._dirty&&(this._dirty=!1,this._vao&&this._vao.dispose(),this._vao=a(this.gl,this._attributes,this._index),this._elementsType=this._vao._elementsType,this._elementsBytes=s(o(this._elementsType)||"array").BYTES_PER_ELEMENT||2)}},function(t,e,n){function r(t,e,n,r,i){if(e.handle instanceof WebGLBuffer)return{buffer:e,length:e.length/n/4};var a=o(e,n,i);return{buffer:l(t,a.data,r),length:a.length}}function i(t,e,n,r,i){if(e.handle instanceof WebGLBuffer)throw new Error("Unhandled update case: WebGLBuffer");var a=o(e,n,r);t.update(a.data,i)}function o(t,e,n){return Array.isArray(t)&&Array.isArray(t[0])?{data:u(t,n),length:t.length}:Array.isArray(t)&&c(t[0])?{data:u(t,n),length:t.length*t[0].length/e}:Array.isArray(t)?{data:new(d(n))(t),length:t.length/e}:f(t)?{data:t,length:a(t.shape)/e}:c(t)?(!n||t instanceof d(n)||(t=s(t,d(n))),{data:t,length:t.length/e}):void 0}function a(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e}function s(t,e){for(var n=new e(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}var u=n(441),c=n(443),l=n(444),f=n(445),d=n(446);t.exports.create=r,t.exports.update=i},function(t,e,n){function r(t,e){if(e=e||"float32",!t[0]||!t[0].length)return t;for(var n="string"==typeof e?i(e):e,r=t[0].length,o=new n(t.length*r),a=0,s=0;s<t.length;s++)for(var u=0;u<r;u++)o[a++]=t[s][u];return o}var i=n(442);t.exports=r},function(t,e,n){(function(e){t.exports=function(t){switch(t){case"int8":
return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"data":case"dataview":return ArrayBuffer;case"buffer":return"undefined"==typeof e?ArrayBuffer:e}}}).call(e,n(432).Buffer)},function(t,e){function n(t){return r(t)||i(t)}function r(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function i(t){return a[o.call(t)]}t.exports=n,n.strict=r,n.loose=i;var o=Object.prototype.toString,a={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},function(t,e,n){"use strict";function r(t,e,n,r,i){this.gl=t,this.type=e,this.handle=n,this.length=r,this.usage=i}function i(t,e,n,r,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,i,r),a;if(a+o>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),n}function o(t,e){for(var n=u.malloc(t.length,e),r=t.length,i=0;i<r;++i)n[i]=t[i];return n}function a(t,e){for(var n=1,r=e.length-1;r>=0;--r){if(e[r]!==n)return!1;n*=t[r]}return!0}function s(t,e,n,i){if(n=n||t.ARRAY_BUFFER,i=i||t.DYNAMIC_DRAW,n!==t.ARRAY_BUFFER&&n!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(i!==t.DYNAMIC_DRAW&&i!==t.STATIC_DRAW&&i!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=t.createBuffer(),a=new r(t,n,o,0,i);return a.update(e),a}var u=n(431),c=n(426),l=n(423),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],d=r.prototype;d.bind=function(){this.gl.bindBuffer(this.type,this.handle)},d.unbind=function(){this.gl.bindBuffer(this.type,null)},d.dispose=function(){this.gl.deleteBuffer(this.handle)},d.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var n=t.dtype;if(f.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var r=gl.getExtension("OES_element_index_uint");n=r&&"uint16"!==n?"uint32":"uint16"}if(n===t.dtype&&a(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=i(this.gl,this.type,this.length,this.usage,t.data,e):this.length=i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=u.malloc(t.size,n),d=l(s,t.shape);c.assign(d,t),e<0?this.length=i(this.gl,this.type,this.length,this.usage,s,e):this.length=i(this.gl,this.type,this.length,this.usage,s.subarray(0,t.size),e),u.free(s)}}else if(Array.isArray(t)){var h;h=this.type===this.gl.ELEMENT_ARRAY_BUFFER?o(t,"uint16"):o(t,"float32"),e<0?this.length=i(this.gl,this.type,this.length,this.usage,h,e):this.length=i(this.gl,this.type,this.length,this.usage,h.subarray(0,t.length),e),u.free(h)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t|=0,t<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=s},function(t,e){t.exports=function(t){if(!t)return!1;if(!t.dtype)return!1;var e=new RegExp("function View[0-9]+d(:?"+t.dtype+")+");return e.test(String(t.constructor))}},function(t,e){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array}}},function(t,e){function n(t){switch(t){case 5126:return"float32";case 5125:return"uint32";case 5124:return"int32";case 5123:return"uint16";case 32819:return"uint16";case 32820:return"uint16";case 33635:return"uint16";case 5122:return"int16";case 5121:return"uint8";case 5120:return"int8";default:return null}}t.exports=n},function(t,e,n){"use strict";function r(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}function i(t,e,n,i){var s,u=t.createVertexArray?new r(t):t.getExtension("OES_vertex_array_object");return s=u?o(t,u):a(t),s.update(e,n,i),s}var o=n(449),a=n(451);t.exports=i},function(t,e,n){"use strict";function r(t,e,n,r,i,o){this.location=t,this.dimension=e,this.a=n,this.b=r,this.c=i,this.d=o}function i(t,e,n){this.gl=t,this._ext=e,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function o(t,e){return new i(t,e,e.createVertexArrayOES())}var a=n(450);r.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,e,n){if(this.bind(),a(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var o=t[i];"number"==typeof o?this._attribs.push(new r(i,1,o)):Array.isArray(o)&&this._attribs.push(new r(i,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!e,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},t.exports=o},function(t,e){"use strict";function n(t,e,n){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var r=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<n.length;++i){var o=n[i];if(o.buffer){var a=o.buffer,s=o.size||4,u=o.type||t.FLOAT,c=!!o.normalized,l=o.stride||0,f=o.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,u,c,l,f)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;i<r;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;i<r;++i)t.disableVertexAttribArray(i)}}t.exports=n},function(t,e,n){"use strict";function r(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function i(t){return new r(t)}var o=n(450);r.prototype.bind=function(){o(this.gl,this._elements,this._attributes)},r.prototype.update=function(t,e,n){this._elements=e,this._attributes=t,this._elementsType=n||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._elements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},t.exports=i},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==u||e==a||e==c}var i=n(366),o=n(360),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Screen=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(454),l=r(c),f=e.Screen=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbind",this).call(this)}}]),e}(l.default);e.default=f},function(t,e,n){function r(t){return this instanceof r?(this.gl=t,void(this.vao=o(t,[{size:2,type:t.FLOAT,buffer:i(t,new Float32Array([-1,-1,-1,4,4,-1]))}]))):new r(t)}var i=n(444),o=n(448);t.exports=r,r.prototype.bind=function(){this.vao.bind()},r.prototype.draw=function(){this.gl.drawArrays(this.gl.TRIANGLES,0,3)},r.prototype.unbind=function(){this.vao.unbind()}},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nvarying vec2 uv;\n\nvoid main() {\n    uv = position.xy;\n\n    gl_Position = vec4(position, 1.0, 1.0);\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(457),o=r(i);e.default=function(t){return t[0]=t[1]=o.default,t[2]=t[3]=0,t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=-1e6},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coverAspect=e.containAspect=e.aspect=void 0;var r=n(377),i=e.aspect=function(t,e,n){return r.vec2.scale(t,r.vec2.inverse(t,e),n)};e.containAspect=function(t,e){return i(t,e,Math.min(e[0],e[1]))},e.coverAspect=function(t,e){return i(t,e,Math.max(e[0],e[1]))};e.default=i},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D flow;\nuniform sampler2D targets;\n\nuniform vec2 dataRes;\n\nuniform vec2 viewSize;\n\nuniform float time;\nuniform float dt;\n\nuniform float speedLimit;\nuniform float damping;\n\nuniform float forceWeight;\nuniform float flowWeight;\nuniform float noiseWeight;\n\nuniform float flowDecay;\n\nuniform float noiseSpeed;\nuniform float noiseScale;\n\nuniform float target;\n\n// These are scaled by the values they correspond to\nuniform float varyForce;\nuniform float varyFlow;\nuniform float varyNoise;\nuniform float varyNoiseScale;\nuniform float varyNoiseSpeed;\nuniform float varyTarget;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nconst vec2 inert = vec2(-1000000.0);\n\n/**\n * @requires {float} levels The number of samples to take at different LODs\n * @requires {float} stride The step up to take between each LOD\n */\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nvec2 posToUV(vec2 pos) {\n    return map(pos, posRange.xy, posRange.zw, uvRange.xy, uvRange.zw);\n}\n\n// Time/decay\n\nvec2 get(vec3 data, float time, float decay) {\n    return data.xy*max(0.0, 1.0-((time-data.z)*decay));\n}\n\nvec2 get(vec4 data, float time, float decay) {\n    return get(data.xyz, time, decay);\n}\n\n// No time/decay\n\nvec2 get(vec2 data) {\n    return data.xy;\n}\n\nvec2 get(vec3 data) {\n    return get(data.xy);\n}\n\nvec2 get(vec4 data) {\n    return get(data.xy);\n}\n\n/**\n * @return The flow velocity and age for a given screen position, sampling\n *         several scales.\n */\nvec2 flowAtScreenPos(vec2 pos, sampler2D flow, float time, float flowDecay) {\n    vec2 uv = posToUV(pos);\n    vec2 flowForce = vec2(0.0);\n    float flowMax = 0.0;\n\n    for(float level = 0.0; level < 1.0*1.0; level += 1.0) {\n        vec4 flowData = texture2D(flow, uv, level);\n        float factor = 1.0/(level+1.0);\n\n        flowForce += get(flowData, time, flowDecay)*factor;\n        flowMax += factor;\n    }\n\n    return flowForce/flowMax;\n}\n\nfloat vary(float base, float offset, float variance) {\n    return base+(offset*variance*base);\n}\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy/dataRes;\n\n    vec4 state = texture2D(particles, uv);\n    vec2 pos = state.xy;\n    vec2 vel = state.zw;\n\n    vec2 newPos = pos;\n    vec2 newVel = vel;\n\n    if(pos != inert) {\n        // The 1D index offset of this pixel\n        float i = (gl_FragCoord.x+(gl_FragCoord.y*dataRes.x))/\n                (dataRes.x*dataRes.y);\n\n        // Wander force\n\n        vec2 noisePos = pos*vary(noiseScale, i, varyNoiseScale);\n\n        // @todo This doesn't progress linearly - the speed grows with time...\n        float noiseTime = time*vary(noiseSpeed, i, varyNoiseSpeed);\n\n        vec2 wanderForce = vec2(snoise(vec3(noisePos, uv.x+noiseTime)),\n                snoise(vec3(noisePos, uv.y+noiseTime+1234.5678)));\n\n        // Flow force - left by preceeding particles\n        // (Ensure this is checked before the next flow step is rendered, to avoid\n        // self-influence.)\n\n        vec2 flowForce = flowAtScreenPos(pos*viewSize, flow, time, flowDecay);\n\n        // Accumulate weighted forces and damping\n        newVel = (vel*damping*dt)+\n            (vary(forceWeight, i, varyForce)*\n                ((flowForce*dt*vary(flowWeight, i, varyFlow))+\n                (wanderForce*dt*vary(noiseWeight, i, varyNoise))));\n\n        // Tend towards targets\n        newVel += (texture2D(targets, uv).xy-pos)*vary(target, i, varyTarget);\n        \n        // Normalize and clamp the velocity\n        /**\n         * @todo This seems to cause some problems when dealing with larger max\n         *       speeds - the particles no longer follow flow forces somehow...\n         */\n        float speed = length(newVel);\n\n        newVel *= min(speed, speedLimit)/speed;\n\n        // Integrate motion\n        newPos = pos+newVel;\n    }\n\n    gl_FragColor = vec4(newPos, newVel);\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D previous;\nuniform sampler2D particles;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\n\nuniform vec2 viewSize;\n\nuniform sampler2D colorMap;\nuniform float colorMapAlpha;\n\nuniform vec4 flowColor;\nuniform vec4 baseColor;\n\nuniform float time;\nuniform float speedLimit;\nuniform float flowDecay;\n\nuniform float speedAlpha;\n\nattribute vec2 uv;\n\nvarying vec4 color;\n\n/**\n * Pre-generated constants, equivalent to:\n *     flowAxisR: `angleToVec(0)`\n *     flowAxisG: `angleToVec(tau/3.0)`\n *     flowAxisB: `angleToVec(tau*2.0/3.0)`\n */\nconst vec2 flowAxisR = vec2(1.0, 0.0);\nconst vec2 flowAxisG = vec2(-0.5000000000000004, -0.8660254037844385);\nconst vec2 flowAxisB = vec2(-0.4999999999999998, 0.8660254037844387);\n\nconst vec4 minColor = vec4(0.0);\nconst vec4 maxColor = vec4(1.0);\n\nconst vec4 minAlign = vec4(-1.0);\nconst vec4 maxAlign = vec4(1.0);\n\n// @todo Turn some of these `const`s into `uniform`s\nconst vec2 center = vec2(0.0);\nconst vec2 fadeRange = vec2(0.2, 1.0);\nconst vec3 falloff = vec3(fadeRange.x, fadeRange.y, fadeRange.y);\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec2 inert = vec2(-1000000.0);\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\n/**\n * Adapted from `bezier`.\n */\n\nfloat bezier(vec2 cp, float t) {\n    return cp.x+(cp.y-cp.x)*t;\n}\n\nfloat bezier(vec3 cp, float t) {\n    float ut = 1.0-t;\n\n    return (cp.x*ut+cp.y*t)*ut+(cp.y*ut+cp.z*t)*t;\n}\n\nfloat bezier(vec4 cp, float t) {\n    float ut = 1.0-t;\n    float a1 = cp.y*ut+cp.z*t;\n\n    return ((cp.x*ut+cp.y*t)*ut+a1*t)*ut+(a1*ut+(cp.z*ut+cp.w*t)*t)*t;\n}\n\n// @todo Remove the `1.0-` here?\nfloat amount(vec2 point, vec2 mid, float limit) {\n    return min(1.0-(length(point-mid)/limit), 1.0);\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit) {\n    return max(0.0, amount(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, float curve) {\n    return max(0.0, curve*amount(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec2 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec3 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec4 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nvec4 preAlpha(vec3 color, float alpha) {\n    return vec4(color.rgb*alpha, alpha);\n}\n\nvec4 preAlpha(vec4 color) {\n    return preAlpha(color.rgb, color.a);\n}\n\nconst float frameOffset = 0.25;\n\n/**\n * For every data point, we have two vertices - current and previous state.\n * Every other vertex looks up previous data. In this way, (vertical)\n * neighbours alternate from previous to current state.\n * (Vertical neighbours, because WebGL iterates column-major.)\n *\n * @return State data for the vertex, either current or previous.\n */\n\nvec4 stateAtFrame(vec2 uv, vec2 shape, sampler2D previous, sampler2D current) {\n    float nearIndex = uv.y*shape.y;\n    float offset = fract(nearIndex);\n    vec2 lookup = vec2(uv.x, floor(nearIndex)/shape.y);\n\n    // @note Some systems comlain about this form of texture lookup:\n    // return texture2D(((offset > frameOffset)? current : previous), lookup);\n    return ((offset > frameOffset)?\n            texture2D(current, lookup)\n        :   texture2D(previous, lookup));\n}\n\nvoid main() {\n    vec4 state = stateAtFrame(uv, dataRes, previous, particles);\n\n    if(state.xy != inert) {\n        vec2 pos = state.xy;\n        vec2 vel = state.zw/speedLimit;\n        float speedRate = min(length2(vel)/speedAlpha, 1.0);\n\n        // Color map\n\n        vec4 mappedColor = texture2D(colorMap, uv*geomRes/dataRes);\n\n        mappedColor *= colorMapAlpha;\n\n        // Flow color\n        \n        vec3 alignRGB = vec3(dot(vel, flowAxisR),\n                dot(vel, flowAxisG), dot(vel, flowAxisB));\n\n        vec3 flowAlign = map(mix(alignRGB, alignRGB.gbr*(1.0-flowDecay),\n                    sin(time*flowDecay)),\n                minAlign.rgb, maxAlign.rgb, minColor.rgb, maxColor.rgb);\n\n        vec4 flowAlignedColor = vec4(flowColor.rgb*flowAlign, flowColor.a);\n\n        // Color summation, clamping and pre-multiplying alpha so they don't\n        // cross over\n\n        color = clamp(preAlpha(baseColor), minColor, maxColor)+\n            clamp(preAlpha(mappedColor), minColor, maxColor)+\n            clamp(preAlpha(flowAlignedColor), minColor, maxColor);\n\n        color.a *= speedRate*clamp(vignette(pos, center, 1.0, falloff),\n                        fadeRange.x, fadeRange.y);\n\n        // Position\n        gl_Position = vec4(pos*viewSize, 0.0, 1.0);\n    }\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 color;\n\nvoid main() {\n    gl_FragColor = color;\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D previous;\nuniform sampler2D data;\n\nuniform vec2 dataRes;\n\nuniform vec2 viewSize;\n\nuniform float time;\nuniform float speedLimit;\nuniform float flowDecay;\n\nattribute vec2 uv;\n\nvarying vec4 color;\n\n/**\n * @requires {float} time The current time in ms\n */\n\nvec4 flow(vec2 vel) {\n    // Faster particles leave a greater influence (opacity).\n    // Linear interpolation - inaccurate for vectors, will it be OK without\n    // sudden turns, or do we need a per-fragment lookup?\n    return vec4(vel, time, length(vel));\n}\n\nvec4 flow(vec2 vel, float speedLimit) {\n    vec4 values = flow(vel);\n\n    return vec4(values.xyz, min(values.a/speedLimit, 1.0));\n}\n\n/**\n * @requires `./head.vert`\n * @requires {function} apply A function applying a `vec4` state into a `vec3`\n *                            color to be drawn.\n */\n\nconst vec2 inert = vec2(-1000000.0);\n\nconst float frameOffset = 0.25;\n\n/**\n * For every data point, we have two vertices - current and previous state.\n * Every other vertex looks up previous data. In this way, (vertical)\n * neighbours alternate from previous to current state.\n * (Vertical neighbours, because WebGL iterates column-major.)\n *\n * @return State data for the vertex, either current or previous.\n */\n\nvec4 stateAtFrame(vec2 uv, vec2 shape, sampler2D previous, sampler2D current) {\n    float nearIndex = uv.y*shape.y;\n    float offset = fract(nearIndex);\n    vec2 lookup = vec2(uv.x, floor(nearIndex)/shape.y);\n\n    // @note Some systems comlain about this form of texture lookup:\n    // return texture2D(((offset > frameOffset)? current : previous), lookup);\n    return ((offset > frameOffset)?\n            texture2D(current, lookup)\n        :   texture2D(previous, lookup));\n}\n\nvoid main() {\n    vec4 state = stateAtFrame(uv, dataRes, previous, data);\n\n    if(state.xy != inert) {\n        gl_Position = vec4(state.xy*viewSize, 1.0, 1.0);\n        color = flow(state.zw, speedLimit);\n    }\n}\n\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 color;\n\nvoid main() {\n    // @todo SDF from line, to weaken force further away\n    gl_FragColor = color.rgba;\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n    gl_FragColor = color.rgba;\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D view;\nuniform vec2 viewRes;\n\n// #pragma glslify: fxaa = require(glsl-fxaa)\n\nvoid main() {\n    gl_FragColor = texture2D(view, gl_FragCoord.xy/viewRes);\n    // gl_FragColor = fxaa(view, gl_FragCoord.xy, viewRes);\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PixelSpawner=e.defaults=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(421),u=r(s),c=n(380),l=r(c),f=n(377),d=n(458),h=r(d),p=n(455),v=r(p),m=n(467),g=r(m),y=e.defaults=function(){return{shader:[v.default,g.default],buffer:[[1,1],{float:!0}],spawnSize:[1,1],jitterRad:2,speed:1,bias:1}},b=e.PixelSpawner=function(){function t(e,n){o(this,t),this.gl=e;var r=Object.assign(y(),n);this.shader=Array.isArray(r.shader)?l.default.apply(void 0,[this.gl].concat(i(r.shader))):r.shader,this.buffer=Array.isArray(r.buffer)?u.default.apply(void 0,[this.gl].concat(i(r.buffer))):r.buffer,this.speed=r.speed,this.bias=r.bias,this.jitterRad=r.jitterRad,this.jitter=f.vec2.create(),this.spawnSize=r.spawnSize,this.spawnMatrix=f.mat3.create()}return a(t,[{key:"update",value:function(t){return Object.assign(t,{spawnData:this.buffer.color[0].bind(1),spawnSize:this.spawnSize,spawnMatrix:this.spawnMatrix,speed:this.speed,jitter:(0,h.default)(this.jitter,t.viewRes,this.jitterRad),bias:this.bias})}},{key:"spawn",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.update.bind(this),n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.spawnShader.apply(t,[this.shader,e].concat(r))}},{key:"setPixels",value:function(t){return this.buffer.color[0].setPixels(t)}}]),t}();e.default=b},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\n// `import`-able convenience for setting up a vignette - should be replaced with\n// a proper `uniform`-ed version.\n\nconst vec3 curve = vec3(0.1, 1.0, 1.0);\nconst vec2 mid = vec2(0.5);\nconst float limit = 0.6;\n\n// #pragma glslify: vignette = require(../../filter/pass/vignette, curve = curve, mid = mid, limit = limit)\n\n/**\n * Directly uses a normal image - brightness being speed in a direction defined\n * by the `rgba` channels.\n *\n * @requires {float} time The current time\n */\n\nconst vec4 k = vec4(0.0, -1.0/3.0, 2.0/3.0, -1.0);\nconst float e = 1.0e-10;\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 p = ((c.g < c.b)? vec4(c.bg, k.wz) : vec4(c.gb, k.xy));\n    vec4 q = ((c.r < p.x)? vec4(p.xyw, c.r) : vec4(c.r, p.yzx));\n\n    float d = q.x-min(q.w, q.y);\n\n    return vec3(abs(q.z+(q.w-q.y)/(6.0*d+e)), d/(q.x+e), q.x);\n}\n\nconst float tau = 6.28318530717958647692;\n\nvec2 angleToVec(float rad) {\n    return vec2(cos(rad), sin(rad));\n}\n\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    vec3 hsv = rgb2hsv(pixel.rgb);\n\n    return vec4(pos, angleToVec((hsv.r+(time*0.00003))*tau)*hsv.g*hsv.b*pixel.a);\n}\n\n// #pragma glslify: applier = require(./apply/brightest)\n/**\n * @requires {vec2} mid The center of the vignette\n * @requires {float} limit The radius of the vignette\n * @requires {(float|vec2|vec3|vec4)} curve Bezier curve points, shaping falloff\n */\n\n/**\n * Adapted from `bezier`.\n */\n\nfloat bezier(vec2 cp, float t) {\n    return cp.x+(cp.y-cp.x)*t;\n}\n\nfloat bezier(vec3 cp, float t) {\n    float ut = 1.0-t;\n\n    return (cp.x*ut+cp.y*t)*ut+(cp.y*ut+cp.z*t)*t;\n}\n\nfloat bezier(vec4 cp, float t) {\n    float ut = 1.0-t;\n    float a1 = cp.y*ut+cp.z*t;\n\n    return ((cp.x*ut+cp.y*t)*ut+a1*t)*ut+(a1*ut+(cp.z*ut+cp.w*t)*t)*t;\n}\n\n// @todo Remove the `1.0-` here?\nfloat amount(vec2 point, vec2 mid, float limit) {\n    return min(1.0-(length(point-mid)/limit), 1.0);\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit) {\n    return max(0.0, amount(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, float curve) {\n    return max(0.0, curve*amount(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec2 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec3 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec4 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nvec4 pass(vec2 uv, vec4 pixel) {\n    return pixel*vignette(uv, mid, limit, curve);\n}\n\n/**\n * A way to easily compose filter passes on the pixel before applying it.\n *\n * @see `../../../filter/`\n * @see `./`\n * @requires {function} pass The filter pass function, given the pixel.\n * @requires {function} apply The apply function, given the result of `pass`.\n */\n\nvec4 compose(vec2 uv, vec2 pos, vec4 pixel) {\n    return apply(uv, pos, pass(uv, pixel));\n}\n\n// #pragma glslify: apply = require(./apply/color, time = time)\n// #pragma glslify: apply = require(./apply/brightest)\n\n/**\n * Directly spawns a particle according to its euivalent position/values in the\n * given texture.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n */\n\nvoid main() {\n    /**\n     * @todo I have no idea why this seems to be required here and not in the\n     *       main logic shader... seems to do with the data/geometry size ratio.\n     */\n    // vec2 uv = gl_FragCoord.xy/dataRes;\n    vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n\n    vec4 state = compose(uv, spawnToPos(uv), texture2D(spawnData, uv));\n\n    gl_FragColor = vec4(state.xy, state.zw*speed);\n}\n\n";
},function(t,e){t.exports="/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\n// `import`-able convenience for setting up a vignette - should be replaced with\n// a proper `uniform`-ed version.\n\nconst vec3 curve = vec3(0.1, 1.0, 1.0);\nconst vec2 mid = vec2(0.5);\nconst float limit = 0.6;\n\n// #pragma glslify: vignette = require(../../filter/pass/vignette, curve = curve, mid = mid, limit = limit)\n\n/**\n * Directly uses a normal image - brightness being speed in a direction defined\n * by the `rgba` channels.\n *\n * @requires {float} time The current time\n */\n\nconst vec4 k = vec4(0.0, -1.0/3.0, 2.0/3.0, -1.0);\nconst float e = 1.0e-10;\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 p = ((c.g < c.b)? vec4(c.bg, k.wz) : vec4(c.gb, k.xy));\n    vec4 q = ((c.r < p.x)? vec4(p.xyw, c.r) : vec4(c.r, p.yzx));\n\n    float d = q.x-min(q.w, q.y);\n\n    return vec3(abs(q.z+(q.w-q.y)/(6.0*d+e)), d/(q.x+e), q.x);\n}\n\nconst float tau = 6.28318530717958647692;\n\nvec2 angleToVec(float rad) {\n    return vec2(cos(rad), sin(rad));\n}\n\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    vec3 hsv = rgb2hsv(pixel.rgb);\n\n    return vec4(pos, angleToVec((hsv.r+(time*0.00003))*tau)*hsv.g*hsv.b*pixel.a);\n}\n\n// #pragma glslify: applier = require(./apply/brightest)\n/**\n * @requires {vec2} mid The center of the vignette\n * @requires {float} limit The radius of the vignette\n * @requires {(float|vec2|vec3|vec4)} curve Bezier curve points, shaping falloff\n */\n\n/**\n * Adapted from `bezier`.\n */\n\nfloat bezier(vec2 cp, float t) {\n    return cp.x+(cp.y-cp.x)*t;\n}\n\nfloat bezier(vec3 cp, float t) {\n    float ut = 1.0-t;\n\n    return (cp.x*ut+cp.y*t)*ut+(cp.y*ut+cp.z*t)*t;\n}\n\nfloat bezier(vec4 cp, float t) {\n    float ut = 1.0-t;\n    float a1 = cp.y*ut+cp.z*t;\n\n    return ((cp.x*ut+cp.y*t)*ut+a1*t)*ut+(a1*ut+(cp.z*ut+cp.w*t)*t)*t;\n}\n\n// @todo Remove the `1.0-` here?\nfloat amount(vec2 point, vec2 mid, float limit) {\n    return min(1.0-(length(point-mid)/limit), 1.0);\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit) {\n    return max(0.0, amount(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, float curve) {\n    return max(0.0, curve*amount(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec2 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec3 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec4 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nvec4 pass(vec2 uv, vec4 pixel) {\n    return pixel*vignette(uv, mid, limit, curve);\n}\n\n/**\n * A way to easily compose filter passes on the pixel before applying it.\n *\n * @see `../../../filter/`\n * @see `./`\n * @requires {function} pass The filter pass function, given the pixel.\n * @requires {function} apply The apply function, given the result of `pass`.\n */\n\nvec4 compose(vec2 uv, vec2 pos, vec4 pixel) {\n    return apply(uv, pos, pass(uv, pixel));\n}\n\n// #pragma glslify: apply = require(./apply/color, time = time)\n// #pragma glslify: apply = require(./apply/brightest)\n\n/**\n * Pick the Highest velocity.\n * Uses the same data structure as the particles.\n */\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\nfloat test(vec4 data) {\n    return length2(data.zw);\n}\n\nconst float samples = 6.0;\n\n/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n * @requires {function} test A function that returns a float value for a given\n *                           `vec4` state; greater values win the comparison.\n */\n\n// Over 1 favours changing to new data; under 1 favours current data.\nuniform float bias;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\n\nvec4 pick(vec4 current, vec4 next) {\n    return ((test(current) > bias*test(next))? current : next);\n}\n\nvoid main() {\n    /**\n     * @todo This was needed in `./direct-main.frag` - is it needed here too?\n     */\n    vec2 uv = gl_FragCoord.xy/dataRes;\n    // vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n    \n    vec4 state = texture2D(particles, uv);\n\n    vec4 baseSeed = state+vec4(uv, uv)+vec4(1.2345+(time*0.001));\n\n    for(float n = 0.0; n < samples; n += 1.0) {\n        vec4 seed = baseSeed+vec4(n);\n        vec2 spawnUV = mod(vec2(random(seed.xy), random(seed.zw)), 1.0);\n        vec4 other = compose(spawnUV, spawnToPos(spawnUV),\n                texture2D(spawnData, spawnUV));\n\n        state = pick(state, vec4(other.xy, other.zw*speed));\n    }\n\n    gl_FragColor = state;\n}\n\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\nuniform float flowDecay;\n\n/**\n * Use the pixel position, and the particle velocity.\n * Same data structure as the flow.\n *\n * @requires {float} time The current time\n * @requires {float} decay The rate of decay of the flow over time\n */\n\n// Time/decay\n\nvec2 get(vec3 data, float time, float decay) {\n    return data.xy*max(0.0, 1.0-((time-data.z)*decay));\n}\n\nvec2 get(vec4 data, float time, float decay) {\n    return get(data.xyz, time, decay);\n}\n\n// No time/decay\n\nvec2 get(vec2 data) {\n    return data.xy;\n}\n\nvec2 get(vec3 data) {\n    return get(data.xy);\n}\n\nvec2 get(vec4 data) {\n    return get(data.xy);\n}\n\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    return vec4(pos, get(pixel, time, flowDecay));\n}\n\n/**\n * Pick the Highest velocity.\n * Uses the same data structure as the particles.\n */\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\nfloat test(vec4 data) {\n    return length2(data.zw);\n}\n\nconst float samples = 5.0;\n\n/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n * @requires {function} test A function that returns a float value for a given\n *                           `vec4` state; greater values win the comparison.\n */\n\n// Over 1 favours changing to new data; under 1 favours current data.\nuniform float bias;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\n\nvec4 pick(vec4 current, vec4 next) {\n    return ((test(current) > bias*test(next))? current : next);\n}\n\nvoid main() {\n    /**\n     * @todo This was needed in `./direct-main.frag` - is it needed here too?\n     */\n    vec2 uv = gl_FragCoord.xy/dataRes;\n    // vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n    \n    vec4 state = texture2D(particles, uv);\n\n    vec4 baseSeed = state+vec4(uv, uv)+vec4(1.2345+(time*0.001));\n\n    for(float n = 0.0; n < samples; n += 1.0) {\n        vec4 seed = baseSeed+vec4(n);\n        vec2 spawnUV = mod(vec2(random(seed.xy), random(seed.zw)), 1.0);\n        vec4 other = apply(spawnUV, spawnToPos(spawnUV),\n                texture2D(spawnData, spawnUV));\n\n        state = pick(state, vec4(other.xy, other.zw*speed));\n    }\n\n    gl_FragColor = state;\n}\n\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\n// `import`-able convenience for setting up a vignette - should be replaced with\n// a proper `uniform`-ed version.\n\nconst vec3 curve = vec3(0.1, 1.0, 1.0);\nconst vec2 mid = vec2(0.5);\nconst float limit = 0.6;\n\n// #pragma glslify: vignette = require(../../filter/pass/vignette, curve = curve, mid = mid, limit = limit)\n\n/**\n * Identity\n */\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    return pixel;\n}\n\n/**\n * @requires {vec2} mid The center of the vignette\n * @requires {float} limit The radius of the vignette\n * @requires {(float|vec2|vec3|vec4)} curve Bezier curve points, shaping falloff\n */\n\n/**\n * Adapted from `bezier`.\n */\n\nfloat bezier(vec2 cp, float t) {\n    return cp.x+(cp.y-cp.x)*t;\n}\n\nfloat bezier(vec3 cp, float t) {\n    float ut = 1.0-t;\n\n    return (cp.x*ut+cp.y*t)*ut+(cp.y*ut+cp.z*t)*t;\n}\n\nfloat bezier(vec4 cp, float t) {\n    float ut = 1.0-t;\n    float a1 = cp.y*ut+cp.z*t;\n\n    return ((cp.x*ut+cp.y*t)*ut+a1*t)*ut+(a1*ut+(cp.z*ut+cp.w*t)*t)*t;\n}\n\n// @todo Remove the `1.0-` here?\nfloat amount(vec2 point, vec2 mid, float limit) {\n    return min(1.0-(length(point-mid)/limit), 1.0);\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit) {\n    return max(0.0, amount(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, float curve) {\n    return max(0.0, curve*amount(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec2 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec3 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec4 curve) {\n    return max(0.0, bezier(curve, amount(point, mid, limit)));\n}\n\nvec4 pass(vec2 uv, vec4 pixel) {\n    return pixel*vignette(uv, mid, limit, curve);\n}\n\n/**\n * A way to easily compose filter passes on the pixel before applying it.\n *\n * @see `../../../filter/`\n * @see `./`\n * @requires {function} pass The filter pass function, given the pixel.\n * @requires {function} apply The apply function, given the result of `pass`.\n */\n\nvec4 compose(vec2 uv, vec2 pos, vec4 pixel) {\n    return apply(uv, pos, pass(uv, pixel));\n}\n\n/**\n * Pick the Highest velocity.\n * Uses the same data structure as the particles.\n */\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\nfloat test(vec4 data) {\n    return length2(data.zw);\n}\n\nconst float samples = 2.0;\n\n/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n * @requires {function} test A function that returns a float value for a given\n *                           `vec4` state; greater values win the comparison.\n */\n\n// Over 1 favours changing to new data; under 1 favours current data.\nuniform float bias;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\n\nvec4 pick(vec4 current, vec4 next) {\n    return ((test(current) > bias*test(next))? current : next);\n}\n\nvoid main() {\n    /**\n     * @todo This was needed in `./direct-main.frag` - is it needed here too?\n     */\n    vec2 uv = gl_FragCoord.xy/dataRes;\n    // vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n    \n    vec4 state = texture2D(particles, uv);\n\n    vec4 baseSeed = state+vec4(uv, uv)+vec4(1.2345+(time*0.001));\n\n    for(float n = 0.0; n < samples; n += 1.0) {\n        vec4 seed = baseSeed+vec4(n);\n        vec2 spawnUV = mod(vec2(random(seed.xy), random(seed.zw)), 1.0);\n        vec4 other = compose(spawnUV, spawnToPos(spawnUV),\n                texture2D(spawnData, spawnUV));\n\n        state = pick(state, vec4(other.xy, other.zw*speed));\n    }\n\n    gl_FragColor = state;\n}\n\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.spawnBall=e.defaults=void 0;var o=n(472),a=i(o),s=n(474),u=r(s),c=e.defaults=function(){return{shader:[a.defaults().shader[0],u.default],uniforms:{radius:1,speed:0}}},l=c(),f=e.spawnBall=function(t,e){return a.spawner(t,Object.assign(l,e))};e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.spawner=e.defaults=void 0;var o=n(380),a=r(o),s=n(455),u=r(s),c=n(473),l=r(c),f=e.defaults=function(){return{shader:[u.default,l.default],uniforms:null}},d=e.spawner=function(t,e){var n=Object.assign(f(),e);return{gl:t,uniforms:n.uniforms,shader:Array.isArray(n.shader)?a.default.apply(void 0,[t].concat(i(n.shader))):n.shader,spawn:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.spawnShader.apply(t,[this.shader,this.uniforms].concat(n))}}};e.default=d},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nconst vec2 inert = vec2(-1000000.0);\n\nconst vec2 pos = vec2(inert);\nconst vec2 vel = vec2(0.0);\n\nvoid main() {\n    gl_FragColor = vec4(pos, vel);\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform float radius;\nuniform float speed;\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nvec2 angleToVec(float rad) {\n    return vec2(cos(rad), sin(rad));\n}\n\nconst float tau = 6.28318530717958647692;\n\nvoid main() {\n    vec4 randoms = vec4(random((gl_FragCoord.xy*1.7654)+2.3675),\n        random((gl_FragCoord.xy*1.23494)+0.36434),\n        random((gl_FragCoord.xy*0.327789)+3.498787),\n        random((gl_FragCoord.xy*9.0374)+0.2773));\n\n    gl_FragColor = vec4(angleToVec(randoms.x*tau)*randoms.y*radius,\n        angleToVec(randoms.z*tau)*randoms.w*speed);\n}\n"},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GeometrySpawner=e.defaults=void 0;var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=n(439),d=i(f),h=n(380),p=i(h),v=n(377),m=n(466),g=r(m),y=n(476),b=i(y),_=n(477),w=i(_),E=n(478),x=i(E),A=e.defaults=function(){return{shader:[g.defaults().shader[0],b.default],drawShader:[w.default,x.default],color:[1,1,1,1],positions:Array(6).fill(0)}},M=e.GeometrySpawner=function(t){function e(t,n){a(this,e);var r=Object.assign(A(),n),i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign(A(),n)));return i.geometry=(0,d.default)(t),i.drawShader=Array.isArray(r.drawShader)?p.default.apply(void 0,[i.gl].concat(o(r.drawShader))):r.drawShader,i.color=r.color,i.positions=r.positions,i}return u(e,t),c(e,[{key:"shuffle",value:function(){for(var t=2,e=3,n=t*e,r=2*Math.PI,i=void 0,o=function(){return.25+1.3*Math.random()},a=this.positions.length-1;a>=0;a-=n){var s=r*Math.random(),u=r*(.01+.25*Math.round(Math.random())+.03*Math.random());i=o(),this.positions[a-3]=Math.cos(s-u)*i,this.positions[a-2]=Math.sin(s-u)*i,i=o(),this.positions[a-1]=Math.cos(s+u)*i,this.positions[a-0]=Math.sin(s+u)*i}return this.geometry.attr("position",this.positions,{size:t}),this}},{key:"spawn",value:function(t){var n;v.vec2.scale(this.buffer.shape,t.viewRes,.2),this.buffer.bind(),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.drawShader.bind(),this.drawShader.uniforms.color=this.color,this.drawShader.uniforms.viewSize=t.viewSize,this.geometry.bind(this.drawShader),this.geometry.draw(),this.geometry.unbind();for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(n=l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"spawn",this)).call.apply(n,[this,t].concat(i))}}]),e}(g.PixelSpawner);e.default=M},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\n/**\n * Directly uses a normal image - brightness being speed in a random direction.\n */\n\nfloat luma(vec3 color) {\n  return dot(color, vec3(0.299, 0.587, 0.114));\n}\n\nfloat luma(vec4 color) {\n  return dot(color.rgb, vec3(0.299, 0.587, 0.114));\n}\n\nconst float tau = 6.28318530717958647692;\n\nvec2 angleToVec(float rad) {\n    return vec2(cos(rad), sin(rad));\n}\n\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    return vec4(pos,\n        angleToVec(mod(random(uv*dot(pixel.rg, pixel.ba)), 1.0)*tau)*\n            luma(pixel)*pixel.a);\n}\n\n/**\n * Pick the Highest velocity.\n * Uses the same data structure as the particles.\n */\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\nfloat test(vec4 data) {\n    return length2(data.zw);\n}\n\nconst float samples = 6.0;\n\n/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n * @requires {function} test A function that returns a float value for a given\n *                           `vec4` state; greater values win the comparison.\n */\n\n// Over 1 favours changing to new data; under 1 favours current data.\nuniform float bias;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\n\nvec4 pick(vec4 current, vec4 next) {\n    return ((test(current) > bias*test(next))? current : next);\n}\n\nvoid main() {\n    /**\n     * @todo This was needed in `./direct-main.frag` - is it needed here too?\n     */\n    vec2 uv = gl_FragCoord.xy/dataRes;\n    // vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n    \n    vec4 state = texture2D(particles, uv);\n\n    vec4 baseSeed = state+vec4(uv, uv)+vec4(1.2345+(time*0.001));\n\n    for(float n = 0.0; n < samples; n += 1.0) {\n        vec4 seed = baseSeed+vec4(n);\n        vec2 spawnUV = mod(vec2(random(seed.xy), random(seed.zw)), 1.0);\n        vec4 other = apply(spawnUV, spawnToPos(spawnUV),\n                texture2D(spawnData, spawnUV));\n\n        state = pick(state, vec4(other.xy, other.zw*speed));\n    }\n\n    gl_FragColor = state;\n}\n\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform vec2 viewSize;\n\nvoid main() {\n    gl_Position = vec4(position*viewSize, 0.0, 1.0);\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n    gl_FragColor = color;\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AudioTrigger=e.defaultTest=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(417),s=n(480),u=r(s),c=n(482),l=r(c),f=n(483),d=n(490),h=e.defaultTest=function(t){return(0,d.peak)(t.dataOrder(-1))>t.limit},p=e.AudioTrigger=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;i(this,t),this.analyser=e,this.orderLog=(0,f.makeOrderLog)(n,function(t){return(0,f.makeLog)(t,function(){return(0,l.default)(o.analyser,t===n?Uint8Array:Float32Array)})}),this.limit=r,this.test=a,this.react=s}return o(t,[{key:"sample",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"frequencies";return this.analyser[e]((0,a.step)(this.orderLog[0])),(0,d.orderLogRates)(this.orderLog,t),this}},{key:"dataOrder",value:function(t){return(0,a.wrapIndex)(t,this.orderLog)[0]}},{key:"fire",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.react,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.test||h,n=!!e(this);return n&&t(this),n}},{key:"clear",value:function(){(0,u.default)(function(t){return(0,u.default)(function(t){return(0,u.default)(function(e,n){return t[n]=0},t)},t)},this.orderLog)}}]),t}();e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.each=e.eachList=void 0;var i=n(481),o=r(i),a=e.eachList=function(t,e){return Array.prototype.forEach.call(e,t),e},s=e.each=function(t,e){return a(function(n,r,i){return t(e[n],n,e,r,i)},(0,o.default)(e)),e};e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.iterable=function(t){return t?Object.keys(t):[]};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.makeData=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint8Array;return new e((t.analyser?t.analyser[0]||t.analyser:t[0]||t).frequencyBinCount)};e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.makeOrderLog=e.makeLog=void 0;var i=n(484),o=r(i),a=e.makeLog=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};return(0,o.default)(t,e)},s=e.makeOrderLog=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;
return(0,o.default)(t,function(n){return e(t-n)})};e.default=s},function(t,e,n){function r(t,e){if(t=a(t),t<1||t>s)return[];var n=u,r=c(t,u);e=o(e),t-=u;for(var l=i(r,e);++n<t;)e(n);return l}var i=n(485),o=n(486),a=n(488),s=9007199254740991,u=4294967295,c=Math.min;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(487);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(489);t.exports=r},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if(t=i(t),t===o||t===-o){var e=t<0?-1:1;return e*a}return t===t?t:0}var i=n(364),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=1,r=t.length;n<r;++n)u(t[n-1][1],t[n-1][0],e,(0,s.step)(t[n]));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.meanWeight=e.mean=e.sumWeight=e.sum=e.peakPos=e.peak=e.logRates=void 0,e.orderLogRates=r;var i=n(491),o=n(492),a=n(493),s=n(417),u=e.logRates=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Uint8Array(t.length);return(0,o.mapList)(function(t,r){return(0,i.eulerDyDt)(t,e[r],n)},t,r)},c=(e.peak=function(t){return(0,a.reduceList)(function(t,e){return Math.abs(e)>Math.abs(t)?e:t},t,0)},e.peakPos=function(t){return(0,a.reduceList)(function(t,e,n){return Math.abs(e)>Math.abs(t.peak)&&(t.peak=e,t.pos=n),t},t,{peak:0,pos:-1})},e.sum=function(t){return(0,a.reduceList)(function(t,e){return t+Math.abs(e)},t,0)}),l=e.sumWeight=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return(0,a.reduceList)(function(n,r,i){return n+Math.abs(r*(1-Math.abs(i/(t.length-1)-e)))},t,0)};e.mean=function(t){return c(t)/t.length},e.meanWeight=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return l(t,e)/t.length}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.euler=function(t,e,n){return e+t*n};e.eulerDyDt=function(t,e,n){return(e-t)/n};e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.mapList=void 0;var i=n(493),o=n(481),a=r(o),s=(e.mapList=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,i.reduceList)(function(n,r,i){return n[i]=t(r,i,e),n},e,n)},e.map=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,i.reduceList)(function(n,r,i,o){return n[r]=t(e[r],r,e,i,o),n},(0,a.default)(e),n)});e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=e.reduceList=void 0;var i=n(481),o=r(i),a=e.reduceList=function(t,e,n){return void 0===n?Array.prototype.reduce.call(e,t):Array.prototype.reduce.call(e,t,n)},s=e.reduce=function(t,e,n){return a(void 0===n?function(n,r,i,o){return t(i?n:e[n],e[r],r,e,i,o)}:function(n,r,i,o){return t(n,e[r],r,e,i,o)},(0,o.default)(e),n)};e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AudioTexture=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(422),s=r(a),u=n(423),c=r(u),l=n(495),f=r(l),d=n(492),h=n(496),p=function(t){return t},v=e.AudioTexture=function(){function t(e,n,r){i(this,t),this.gl=e,this.array=n&&n.length?(0,c.default)(n,[n.length,1]):(0,f.default)(n)?(0,c.default)(new Float32Array(n),[n,1]):n,this.texture=r||(0,s.default)(e,this.array,{float:!0})}return o(t,[{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.array;return this.texture.setPixels(t),this}},{key:"assign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.array.data;return(0,d.mapList)(p,t,this.array.data),this}},{key:"waveform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.array.data;return(0,d.mapList)(h.waveformMap,t,this.array.data),this}},{key:"frequencies",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.array.data;return(0,d.mapList)(h.frequencyMap,t,this.array.data),this}}]),t}();e.default=v},function(t,e,n){function r(t){return"number"==typeof t||o(t)&&i(t)==a}var i=n(366),o=n(370),a="[object Number]";t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.waveformScale=1/128,r=(e.waveformMap=function(t){return(t-128)*n},e.frequencyScale=1/256);e.frequencyMap=function(t){return t*r}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FlowLines=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(498),s=r(a),u=n(493),c=r(u),l=e.FlowLines=function(){function t(e){i(this,t),this.gl=e,this.active={}}return o(t,[{key:"get",value:function(t,e){return this.active[t]||(this.active[t]=new s.default(this.gl,e))}},{key:"trim",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,c.default)(function(t,n,r,i){return 0===n.trim.apply(n,e)&&delete i[r]?t:t+1},this.active,0)}}]),t}();e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FlowLine=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(499),u=r(s),c=n(509),l=r(c),f=n(510),d=r(f),h=function(t,e){return t<0?e+t:t%e},p=e.FlowLine=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.line=new u.default(e,o({shader:[l.default,d.default],uniforms:o({},(0,s.defaults)().uniforms,{speed:3,speedLimit:.01,rad:.1,crestShape:.6}),attributes:o({},(0,s.defaults)().attributes,{previous:{getSize:function(t){return t.vertSize}},time:{size:1},dt:{size:1}})},n)),this.times=n.times||[]}return a(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.setAttributes,e=this.line.closed&&this.line.path.length?this.times.concat(this.times[0]):this.times;return this.line.update(function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(void 0,[e].concat(r))}),this}},{key:"draw",value:function(){var t;return(t=this.line).draw.apply(t,arguments),this}},{key:"setAttributes",value:function(t,e,n,r,i){i.setAttributes(e,n,r,i);var o=i.closed?h(n.path-1,i.path.length):Math.max(0,n.path-1);r.previous.data.set(i.path[o],n.data*r.previous.size);var a=t[n.path];r.time.data[n.data]=a,r.dt.data[n.data]=a-t[o]}},{key:"add",value:function(t,e){return this.times.push(t),this.line.path.push(e),this}},{key:"insert",value:function(t,e){var n=this.findIndex(t);return this.times.splice(n,0,t),this.line.path.splice(n,0,e),this}},{key:"at",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.time=this.times[t],e.point=this.line.path[t],e}},{key:"findIndex",value:function(t){var e=this.times.findIndex(function(e){return e>t});return e<0?this.times.length:e}},{key:"trim",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=this.times,r=this.line.path,i=e-t;n[0]<i;)n.shift(),r.shift();return this.length}},{key:"length",get:function(){return this.times.length}}]),t}();e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Line=e.defaults=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(439),c=r(u),l=n(500),f=r(l),d=n(380),h=r(d),p=n(480),v=r(p),m=n(507),g=r(m),y=n(508),b=r(y),_=e.defaults=function(){return{shader:[g.default,b.default],uniforms:{color:[1,1,1,1],rad:.1,viewSize:[1,1]},attributes:null,vertNum:2,vertSize:2,path:[],closed:!1}},w=e.Line=function(){function t(e,n){var r=this;o(this,t);var s=a({},_(),n);this.gl=e,this.uniforms=s.uniforms,this.shader=Array.isArray(s.shader)?h.default.apply(void 0,[e].concat(i(s.shader))):s.shader,this.vertNum=s.vertNum,this.vertSize=s.vertSize,this.path=s.path||[],this.closed=s.closed,this.attributes=a({position:{data:null,getSize:function(){return r.vertSize}},normal:{data:null,getSize:function(){return r.vertSize}},miter:{data:null,size:1}},s.attributes),this.drawnPath=this.drawnNormals=null,this.geometry=(0,c.default)(e)}return s(t,[{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.setAttributes;this.drawnPath=this.path,this.drawnNormals=(0,f.default)(this.drawnPath,this.closed),this.closed&&this.path.length&&(this.drawnPath=this.drawnPath.concat(this.drawnPath[0]),this.drawnNormals.push(this.drawnNormals[0])),this.initAttributes();for(var n=this.drawnPath,r=this.drawnNormals,i=this.attributes,o=this.vertNum,a={},s={},u=0,c=r.length;u<c;++u){var l=r[u];a.point=n[u],a.normal=l[0],a.miter=l[1],s.path=u,s.point=u*o;for(var d=0;d<o;++d)s.vert=d,s.data=s.point+d,e(a,s,i,this)}return(0,v.default)(function(e,n){return t.geometry.attr(n,e.data,{size:e.size})},i),this}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gl.TRIANGLE_STRIP;if(this.path.length>0){var e;this.geometry.bind(this.shader),Object.assign(this.shader.uniforms,this.uniforms);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.geometry).draw.apply(e,[t].concat(r))}return this}},{key:"initAttributes",value:function(){var t=this,e=this.drawnPath.length*this.vertNum;return(0,v.default)(function(n){n.getSize&&(n.size=n.getSize(t));var r=e*n.size;n.data&&n.data.length===r||(n.data=new Float32Array(r))},this.attributes),this}},{key:"setAttributes",value:function(t,e,n){n.position.data.set(t.point,e.data*n.position.size),n.normal.data.set(t.normal,e.data*n.normal.size),n.miter.data[e.data]=t.miter*(e.data%2*2-1)}}]),t}();e.default=w},function(t,e,n){function r(t,e,n){t.push([[e[0],e[1]],n])}var i=n(501),o=[0,0],a=[0,0],s=[0,0],u=[0,0];t.exports=function(t,e){var n=null,c=[];e&&(t=t.slice(),t.push(t[0]));for(var l=t.length,f=1;f<l;f++){var d=t[f-1],h=t[f],p=f<t.length-1?t[f+1]:null;if(i.direction(o,h,d),n||(n=[0,0],i.normal(n,o)),1===f&&r(c,n,1),p){i.direction(a,p,h);var v=i.computeMiter(s,u,o,a,1);r(c,u,v)}else i.normal(n,o),r(c,n,1)}if(t.length>2&&e){var m=t[l-2],g=t[0],y=t[1];i.direction(o,g,m),i.direction(a,y,g),i.normal(n,o);var b=i.computeMiter(s,u,o,a,1);c[0][0]=u.slice(),c[l-1][0]=u.slice(),c[0][1]=b,c[l-1][1]=b,c.pop()}return c}},function(t,e,n){var r=n(502),i=n(503),o=n(504),a=n(505),s=n(506),u=[0,0];t.exports.computeMiter=function(t,e,n,a,c){return r(t,n,a),o(t,t),i(e,-t[1],t[0]),i(u,-n[1],n[0]),c/s(e,u)},t.exports.normal=function(t,e){return i(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return a(t,e,n),o(t,t),t}},function(t,e){function n(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e,t[1]=n,t}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}t.exports=n},function(t,e){function n(t,e){return t[0]*e[0]+t[1]*e[1]}t.exports=n},function(t,e){t.exports="/**\n * Drawing lines in a vertex shader, from https://mattdesl.svbtle.com/drawing-lines-is-hard#expanding-in-a-vertex-shader_2\n * Pushes a point along its normal by its radius.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform vec2 viewSize;\n\nattribute vec2 normal;\nattribute float miter;\n\nuniform float rad;\n\nvarying float sdf;\n\n/**\n * Drawing lines, from https://mattdesl.svbtle.com/drawing-lines-is-hard#expanding-in-a-vertex-shader_2\n * Pushes a point along its normal by its radius, in the direction of miter.\n */\n\nvec2 expand(vec2 position, vec2 normal, float rad, float miter) {\n    return position+(normal*rad*miter);\n}\n\nvoid main() {\n    vec2 pos = expand(position, normal, rad, miter);\n\n    sdf = sign(miter);\n\n    gl_Position = vec4(pos*viewSize, 0.0, 1.0);\n}\n"},function(t,e){t.exports="/**\n * For a smooth line, check distance from line per-fragment.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvarying float sdf;\n\nvoid main() {\n    gl_FragColor = vec4(color.rgb, color.a-abs(sdf));\n}\n"},function(t,e){t.exports="/**\n * Drawing lines in a vertex shader, from https://mattdesl.svbtle.com/drawing-lines-is-hard#expanding-in-a-vertex-shader_2\n * Pushes a point along its normal by its radius.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform vec2 viewSize;\n\nattribute vec2 normal;\nattribute float miter;\n\nuniform float rad;\n\nuniform float speed;\nuniform float speedLimit;\n// uniform float time;\n\nattribute vec2 previous;\nattribute float time;\nattribute float dt;\n\nvarying vec4 values;\nvarying vec2 crest;\nvarying float sdf;\n\n/**\n * @requires {float} time The current time in ms\n */\n\nvec4 flow(vec2 vel) {\n    // Faster particles leave a greater influence (opacity).\n    // Linear interpolation - inaccurate for vectors, will it be OK without\n    // sudden turns, or do we need a per-fragment lookup?\n    return vec4(vel, time, length(vel));\n}\n\nvec4 flow(vec2 vel, float speedLimit) {\n    vec4 values = flow(vel);\n\n    return vec4(values.xyz, min(values.a/speedLimit, 1.0));\n}\n\n// #pragma glslify: flow = require(../flow/apply/screen, time = time, flowDecay = 0.001)\n\nvec2 perp(vec2 vec) {\n    return vec2(-vec.y, vec.x);\n}\n\nvec2 perp(vec2 vec, bool anti) {\n    return ((anti)? vec2(vec.y, -vec.x) : perp(vec));\n}\n\n/**\n * Drawing lines, from https://mattdesl.svbtle.com/drawing-lines-is-hard#expanding-in-a-vertex-shader_2\n * Pushes a point along its normal by its radius, in the direction of miter.\n */\n\nvec2 expand(vec2 position, vec2 normal, float rad, float miter) {\n    return position+(normal*rad*miter);\n}\n\nvoid main() {\n    sdf = sign(miter);\n\n    float rate = speed/max(dt, 1.0);\n\n    // @note For some reason, using these have different effects.\n    vec2 vel = (position-previous)*rate;\n    // vec2 vel = perp(normal, true)*length(position-previous)*rate;\n\n    values = flow(vel, speedLimit);\n\n    crest = normal*miter;\n\n    vec2 vert = expand(position, normal, rad*values.a, miter);\n\n    gl_Position = vec4(vert*viewSize, 0.0, 1.0);\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\n// Where the crest limit is (0 is the path direction, 1 is perpendicular/away).\nuniform float crestShape;\n\nvarying vec4 values;\nvarying vec2 crest;\nvarying float sdf;\n\nvoid main() {\n    float d = abs(sdf);\n    float speed = length(values.rg)*(1.0-d);\n\n    vec2 vel = normalize(mix(values.rg, crest, d*crestShape))*speed;\n\n    gl_FragColor = vec4(vel, values.b, values.a-d);\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(Object.assign(e,t.apply),(0,l.default)(t,e),(0,d.default)(function(n){return n(e,t)},t.call)),e}Object.defineProperty(e,"__esModule",{value:!0}),e.Player=e.apply=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(512),u=r(s),c=n(517),l=r(c),f=n(480),d=r(f),h=n(493),p=r(h),v=n(492),m=r(v);e.apply=o;var g=e.Player=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.tracks=e,this.outputs=n,this.add(this.tracks)}return a(t,[{key:"add",value:function(t){return(0,m.default)(function(t){return t instanceof u.default?t:new u.default(t)},t,this.tracks),this}},{key:"import",value:function(t){var e=this;return(0,d.default)(function(t){return(0,d.default)(function(t){return e.add(t)},t.tracks)},t),this}},{key:"each",value:function(t){return(0,d.default)(t,this.tracks),this}},{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.outputs;return this.each(function(n,r){for(var i=arguments.length,a=Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];var u=e[r]||(e[r]={});return o(t.apply(void 0,[n,r].concat(a,[u])),u)}),this}},{key:"seek",value:function(t,e){return this.apply(function(e){return e.seek(t)},e)}},{key:"play",value:function(t,e){return this.apply(function(e){return e.play(t)},e)}},{key:"playFrom",value:function(t,e,n){return this.apply(function(n){return n.playFrom(t,e)},n)}},{key:"frames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,m.default)(function(t){return t.frames},this.tracks,t)}},{key:"start",value:function(){return(0,p.default)(function(t,e){return Math.min(e.start(),t)},this.tracks,null)}},{key:"end",value:function(){return(0,p.default)(function(t,e){return Math.min(e.end(),t)},this.tracks,null)}},{key:"duration",value:function(){return(this.end()||0)-(this.start()||0)}}]),t}();e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Timeline=e.changed=e.within=e.offset=e.sort=e.order=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(513),c=r(u),l=n(514),f=r(l),d=n(515),h=r(d),p=n(480),v=r(p),m=n(516),g=r(m),y=n(481),b=r(y),_=e.order=function(t,e){return t.time>e.time?1:-1},w=e.sort=function(t){return t.sort(_)},E=e.offset=function(t,e,n){var r=Math.min(t.time,e.time);return(0,c.default)((n-r)/(Math.max(t.time,e.time)-r)||0,0,1)},x=e.within=function(t,e,n){return Math.min(t.time,e.time)<n&&n<=Math.max(t.time,e.time)},A=e.changed=function(t,e){return t===e?null:(0,b.default)(t).length&&(0,b.default)(e).length?(0,g.default)(function(e,n){return e!==t[n]},e):e},M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.apply=Object.assign(e.apply||{},t.to),t.call&&t.call.length){var n;(n=e.call||(e.call=[])).push.apply(n,o(t.call))}return e},S=e.Timeline=function(){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i(this,t),this.frames=this.setup(e,n),this.time=0,this.gap=-1,this.span=void 0,this.symmetric=o,this.infinite=n,this.rewind=r}return s(t,[{key:"setup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.frames=w(e?[{time:-(1/0)}].concat(o(t),[{time:1/0}]):[].concat(o(t)))}},{key:"merge",value:function(t){var e=this;return(0,v.default)(function(t){return e.add(t)},t)}},{key:"insertFrame",value:function(t,e){return this.frames.splice(t,0,e),this}},{key:"add",value:function(){var t=f.default.apply(void 0,arguments),e=this.indexOf(t);return this.insertFrame(e,t),e}},{key:"addSpan",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=this.add.apply(this,n),o=this.frames[i].time-t,a=this.frames[i-1];return t&&(!a||a.time<o)&&this.add(null,o),i}},{key:"seek",value:function(t){return this.valid()&&x(this.span.past,this.span.next,t)?this.span.t=E(this.span.past,this.span.next,t):this.setTime(t),this.span}},{key:"play",value:function(t){var e=Math.max(this.gap,.5),n=this.seek(t);if(this.valid()){var r={},i=this.gap-e,o=Math.abs(i),s=Math.sign(i),u=(this.reverse?-s:s)>0;if(o>0&&u)for(var c=s<0?Math.floor:Math.ceil,l=0;l<o;++l)M(this.frames[c(e+l*s)],r);n=a({},n,r)}return n}},{key:"playFrom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.time,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.seek(e),this.play(t)}},{key:"setTime",value:function(t){var e=this.gapAt(t);return this.span=this.spanGapAt(t,e,this.span),this.gap=e,this.time=t,this}},{key:"indexOf",value:function(t){var e=this.frames.findIndex(function(e){return _(e,t)>0});return e<0?this.frames.length:e}},{key:"gapAt",value:function(t){if(this.frames.length<2)return-1;var e=this.frames.findIndex(function(e){return e.time>=t});return(e<0?this.frames.length-1:Math.max(e,1))-.5}},{key:"spanGapAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gapAt(t),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e>=0){var r=this.frames[Math.floor(e)],i=this.frames[Math.ceil(e)],o=i.ease;if(this.rewind){this.symmetric||(o=r.ease);var a=r;r=i,i=a}n.past=r,n.next=i,n.a=r.to,n.b=i.to,n.t=E(r,i,t),n.ease=o}else n=void 0;return n}},{key:"splice",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e,i=n;if(this.infinite){var o=Math.max(0,this.frames.length-2),a=e<0?o+e:e;r=Math.min(o,Math.max(1,a)),i=Math.min(n-Math.max(r-a,0),o-r)}for(var s=arguments.length,u=Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];return(t=this.frames).splice.apply(t,[r,i].concat(u))}},{key:"spliceIndex",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.splice.apply(this,[t,1].concat(n))[0]}},{key:"spliceAt",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=this.gapAt(t),r=(this.reverse?-1:1)*e,i=(r>0?Math.ceil:Math.floor)(n),o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return this.splice.apply(this,[i,1].concat(a))[0]}},{key:"spliceSpan",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.gapAt(e),r=this.gapAt(e+t),i=Math.min(n,r),o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return this.splice.apply(this,[Math.ceil(i),Math.floor(Math.max(n,r)-i)].concat(a))}},{key:"to",value:function(){return this.add.apply(this,arguments),this}},{key:"easeTo",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.easeJoin(this.add.apply(this,n),t),this}},{key:"smoothTo",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.easeTo.apply(this,[1].concat(e))}},{key:"flipTo",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.easeTo.apply(this,[-1].concat(e))}},{key:"over",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.addSpan.apply(this,[t].concat(n)),this}},{key:"easeOver",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this.easeJoin(this.addSpan.apply(this,[t].concat(r)),e),this}},{key:"smoothOver",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.easeOver.apply(this,[t,1].concat(n))}},{key:"flipOver",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.easeOver.apply(this,[t,-1].concat(n))}},{key:"easeJoin",value:function(t,e){var n=null;if(t>0){var r=this.frames[t];n=r.ease&&r.ease.length?r.ease:[0,1],n.splice(1,0,(0,h.default)(this.frames[t-1].ease,e)),r.ease=n}return n}},{key:"valid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gap,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.span;return t>0&&e}},{key:"minFrame",value:function(){var t=f.default.apply(void 0,arguments),e=this.indexOf(t),n=this.frames[e-1],r=n&&n.to?A(n,t.to):null,i=this.frames[e+1],o=i&&i.to?A(i,t.to):null,s=(0,b.default)(r).length||(0,b.default)(o).length?a({},r,o):r;return a({},t,{to:s})}},{key:"start",value:function(){return this.frames.length?this.frames[0].time:null}},{key:"end",value:function(){return this.frames.length?this.frames[this.frames.length-1].time:null}},{key:"duration",value:function(){return(this.end()||0)-(this.start()||0)}}]),t}();e.default=S},function(t,e){function n(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}t.exports=n},function(t,e){"use strict";function n(t,e,n,r){return arguments.length>1?{to:t,time:e,ease:n,call:r}:t}Object.defineProperty(e,"__esModule",{value:!0}),e.frame=n,e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.join=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&0!==t.length?1===t.length?t[0]:(t[t.length-1]-t[t.length-2])*e:0};e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.filterList=void 0;var i=n(493),o=n(481),a=r(o),s=(e.filterList=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,i.reduceList)(function(n,r,i){return t(r,i,e)&&n.push(r),n},e,n)},e.filter=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,i.reduceList)(function(n,r,i,o){var a=e[r];return t(a,r,e,i,o)&&((n||(n={}))[r]=a),n},(0,a.default)(e),n)});e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.tween=e.tweenProps=e.tweenValue=void 0;var i=n(518),o=r(i),a=n(519),s=r(a),u=n(495),c=r(u),l=n(492),f=function(t,e,n){var r=e&&e[t];return(0,c.default)(r)?r:n&&n[t]},d=e.tweenValue=function(t,e,n,r){return t!==e&&(0,c.default)(t)?(0,o.default)(t,e,r?(0,s.default)(r,n):n):e},h=e.tweenProps=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return e?(0,l.map)(function(o,a){var s=f(a,t,i),u=f(a,e,i);return(0,c.default)(s)&&(0,c.default)(u)?d(s,u,n,r):n<1?s:u},e,i):i},p=e.tween=function t(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return i.length?((0,c.default)(n)?d:h).apply(void 0,[e,n].concat(i)):t(e.a,e.b,e.t,e.ease,n)};e.default=p},function(t,e){function n(t,e,n){return t*(1-n)+e*n}t.exports=n},function(t,e){function n(t,e){return r(t.length)(t,e)}function r(t){if(t=0|+t,!t)throw new Error("Cannot create a interpolator with no elements");if(u[t])return u[t];for(var e=["var ut = 1 - t",""],n=t;n--;){for(var r=0;r<n;r+=1)n+1===t?e.push("var p"+r+" = arr["+r+"] * ut + arr["+(r+1)+"] * t"):n>1?e.push("p"+r+" = p"+r+" * ut + p"+(r+1)+" * t"):e.push("return p"+r+" * ut + p"+(r+1)+" * t");n>1&&e.push("")}return e=["return function bezier"+t+"(arr, t) {",e.map(function(t){return"  "+t}).join("\n"),"}"].join("\n"),Function(e)()}function i(t){return t[0]}function o(t,e){return t[0]+(t[1]-t[0])*e}function a(t,e){var n=1-e;return(t[0]*n+t[1]*e)*n+(t[1]*n+t[2]*e)*e}function s(t,e){var n=1-e,r=t[1]*n+t[2]*e;return((t[0]*n+t[1]*e)*n+r*e)*n+(r*n+(t[2]*n+t[3]*e)*e)*e}var u={1:i,2:o,3:a,4:s};t.exports=n,t.exports.prepare=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Blend=e.defaults=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(380),u=r(s),c=n(492),l=n(453),f=r(l),d=n(455),h=r(d),p=n(521),v=r(p),m=e.defaults=function(){return{shader:[h.default,v.default],views:[],alphas:[],resolution:[1,1]}},g=e.Blend=function(){function t(e,n){o(this,t),this.gl=e;var r=Object.assign(m(),n);this.shader=Array.isArray(r.shader)?u.default.apply(void 0,[this.gl].concat(i(r.shader))):r.shader,this.screen=new f.default(e),this.views=r.views,this.alphas=r.alphas,this.resolution=r.resolution,this.uniforms={}}return a(t,[{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t&&t.shape,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&t.bind(),e&&(this.gl.viewport(0,0,e[0],e[1]),this.resolution=e),n&&this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.shader.bind(),Object.assign(this.shader.uniforms,this.uniforms,{views:(0,c.mapList)(function(t,e){return(t.color?t.color[0]:t).bind(e)},this.views,this.uniforms.views),alphas:this.alphas,resolution:this.resolution}),this.screen.render(),t&&this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}}]),t}();e.default=g},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nconst int numViews = 2;\n\nvec4 preAlpha(vec3 color, float alpha) {\n    return vec4(color.rgb*alpha, alpha);\n}\n\nvec4 preAlpha(vec4 color) {\n    return preAlpha(color.rgb, color.a);\n}\n\nvec4 blend(vec4 sum, vec4 color, float alpha) {\n    return sum+preAlpha(color.rgb, color.a*alpha);\n}\n\n/**\n * Color summation from multiple views, each blending with a global alpha.\n *\n * @requires {float} numViews The number of source views to blend together\n * @requires {function} blend A function blending a source buffer into a sum\n */\n\nuniform sampler2D views[numViews];\nuniform float alphas[numViews];\nuniform vec2 resolution;\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy/resolution;\n\n    // Accumulate colors\n    \n    vec4 sum = vec4(0.0);\n\n    for(int i = 0; i < numViews; ++i) {\n        vec4 color = texture2D(views[i], uv);\n\n        // Pre-multiplied alpha so they don't cross over\n        sum = blend(sum, color, alphas[i]);\n    }\n\n    gl_FragColor = sum;\n}\n\n";
},function(t,e){t.exports="/**\n * A vignette hash blur\n * @todo Make the `const`s here into `uniform`s.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D view;\nuniform vec2 resolution;\nuniform float time;\nuniform float radius;\nuniform float limit;\n\nvec3 sampler(vec2 uv) {\n    return texture2D(view, uv).rgb;\n}\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n#ifndef TAU\n  #define TAU 6.28318530718\n#endif\n\n//Use last part of hash function to generate new random radius and angle\nvec2 mult(inout vec2 r) {\n  r = fract(r * vec2(12.9898,78.233));\n  return sqrt(r.x + .001) * vec2(sin(r.y * TAU), cos(r.y * TAU));\n}\n\nvec3 blur(vec2 uv, float radius, float aspect, float offset) {\n  vec2 circle = vec2(radius);\n  circle.x *= aspect;\n  vec2 rnd = vec2(random(vec2(uv + offset)));\n\n  vec3 acc = vec3(0.0);\n  for (int i = 0; i < 20; i++) {\n    acc += sampler(uv + circle * mult(rnd)).xyz;\n  }\n  return acc / float(20);\n}\n\nvec3 blur(vec2 uv, float radius, float aspect) {\n  return blur(uv, radius, aspect, 0.0);\n}\n\nvec3 blur(vec2 uv, float radius) {\n  return blur(uv, radius, 1.0);\n}\n\n/**\n * Adapted from `bezier`.\n */\n\nfloat bezier(vec2 cp, float t) {\n    return cp.x+(cp.y-cp.x)*t;\n}\n\nfloat bezier(vec3 cp, float t) {\n    float ut = 1.0-t;\n\n    return (cp.x*ut+cp.y*t)*ut+(cp.y*ut+cp.z*t)*t;\n}\n\nfloat bezier(vec4 cp, float t) {\n    float ut = 1.0-t;\n    float a1 = cp.y*ut+cp.z*t;\n\n    return ((cp.x*ut+cp.y*t)*ut+a1*t)*ut+(a1*ut+(cp.z*ut+cp.w*t)*t)*t;\n}\n\n// @todo Remove the `1.0-` here?\nfloat amount_0(vec2 point, vec2 mid, float limit) {\n    return min(1.0-(length(point-mid)/limit), 1.0);\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit) {\n    return max(0.0, amount_0(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, float curve) {\n    return max(0.0, curve*amount_0(point, mid, limit));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec2 curve) {\n    return max(0.0, bezier(curve, amount_0(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec3 curve) {\n    return max(0.0, bezier(curve, amount_0(point, mid, limit)));\n}\n\nfloat vignette(vec2 point, vec2 mid, float limit, vec4 curve) {\n    return max(0.0, bezier(curve, amount_0(point, mid, limit)));\n}\n\nconst vec3 falloff = vec3(0.0, 1.0, 1.0);\nconst vec2 mid = vec2(0.5);\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy/resolution;\n    float texel = 1.0/min(resolution.x, resolution.y);\n    float amount = (1.0-vignette(uv, mid, limit, falloff))*texel;\n    float aspect = resolution.x/resolution.y;\n    float jitter = mod(time, 20.0);\n\n    gl_FragColor = vec4(blur(uv, radius*amount, aspect, jitter),\n            texture2D(view, uv).a);\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.OpticalFlow=e.defaults=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(421),u=r(s),c=n(380),l=r(c),f=n(492),d=r(f),h=n(480),p=r(h),v=n(417),m=n(455),g=r(m),y=n(524),b=r(y),_=e.defaults=function(){return{options:{shader:[g.default,b.default],buffers:[[[1,1]],[[1,1]]]},uniforms:{imageSize:[1,1],viewSize:[1,1],offset:1,lambda:.001,speed:1,speedLimit:1,time:1}}},w=e.OpticalFlow=function(){function t(e,n,r){var a=this;o(this,t),this.gl=e;var s=_(),c=Object.assign(s.options,n);this.shader=Array.isArray(c.shader)?l.default.apply(void 0,[this.gl].concat(i(c.shader))):c.shader,this.buffers=(0,d.default)(function(t){return Array.isArray(t)?u.default.apply(void 0,[a.gl].concat(i(t))):t},c.buffers),this.uniforms=Object.assign(s.uniforms,r)}return a(t,[{key:"update",value:function(t){this.shader.bind(),Object.assign(this.shader.uniforms,{view:this.buffers[0].color[0].bind(1),last:this.buffers[1].color[0].bind(2)},this.uniforms,t)}},{key:"step",value:function(){(0,v.step)(this.buffers)}},{key:"setPixels",value:function(t){return this.buffers[0].color[0].setPixels(t)}},{key:"resize",value:function(t){(0,p.default)(function(e){return e.shape=t},this.buffers)}}]),t}();e.default=w},function(t,e){t.exports="/**\n * @see https://forum.openframeworks.cc/t/ofxflowtools-optical-flow-fluid-dynamics-and-particles-in-glsl/15470\n * @see https://github.com/moostrik/ofxFlowTools\n * @see https://github.com/diwi/PixelFlow\n * @see http://thomasdiewald.com/blog/?p=2766\n * @see https://adamferriss.com/gush/\n * @see https://github.com/princemio/ofxMIOFlowGLSL/blob/master/src/FlowShader.cpp\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D view;\nuniform sampler2D last;\n\nuniform vec2 viewSize;\n\nuniform float offset;\nuniform float lambda;\n\nuniform float time;\nuniform float speed;\nuniform float speedLimit;\n\nvarying vec2 uv;\n\n/**\n * Adapted from `bezier`.\n */\n\nfloat bezier(vec2 cp, float t) {\n    return cp.x+(cp.y-cp.x)*t;\n}\n\nfloat bezier(vec3 cp, float t) {\n    float ut = 1.0-t;\n\n    return (cp.x*ut+cp.y*t)*ut+(cp.y*ut+cp.z*t)*t;\n}\n\nfloat bezier(vec4 cp, float t) {\n    float ut = 1.0-t;\n    float a1 = cp.y*ut+cp.z*t;\n\n    return ((cp.x*ut+cp.y*t)*ut+a1*t)*ut+(a1*ut+(cp.z*ut+cp.w*t)*t)*t;\n}\n\nvec4 grayScale(vec4 color) {\n\treturn vec4(vec3(dot(color.rgb, vec3(0.3, 0.59, 0.11))), 1.0);\n}\n\n/**\n * @requires {float} time The current time in ms\n */\n\nvec4 flow(vec2 vel) {\n    // Faster particles leave a greater influence (opacity).\n    // Linear interpolation - inaccurate for vectors, will it be OK without\n    // sudden turns, or do we need a per-fragment lookup?\n    return vec4(vel, time, length(vel));\n}\n\nvec4 flow(vec2 vel, float speedLimit) {\n    vec4 values = flow(vel);\n\n    return vec4(values.xyz, min(values.a/speedLimit, 1.0));\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nvec2 posToUV(vec2 pos) {\n    return map(pos, posRange.xy, posRange.zw, uvRange.xy, uvRange.zw);\n}\n\nconst vec2 zero = vec2(0.0);\nconst vec2 flipUV = vec2(-1.0);\nconst vec3 falloff = vec3(0.0, 0.0, 1.0);\n/*\nvec4 mapColor(vec2 vec, vec2 scale) {\n    vec2 x = vec2(max(vec.x, 0.0), abs(min(vec.x, 0.0)))*scale.x;\n    vec2 y = vec2(max(vec.y, 0.0), abs(min(vec.y, 0.0)))*scale.y;\n\n    float dirY = ((y.x > y.y)? 0.9 : 1.0);\n\n    return vec4(x.xy, max(y.x, y.y), dirY);\n}*/\n\n#if 1\n    vec4 pixel(sampler2D texture, vec2 uv) {\n        return grayScale(texture2D(texture, uv));\n    }\n#else\n    vec4 pixel(sampler2D texture, vec2 uv) {\n        return texture2D(texture, uv);\n    }\n#endif\n\nvoid main() {\n    vec2 st = posToUV(uv*flipUV/viewSize);\n\n    vec2 offsetX = vec2(offset, 0.0);\n    vec2 offsetY = vec2(0.0, offset);\n\n    // Gradient\n\n    vec4 gradX = (pixel(view, st+offsetX)-pixel(view, st-offsetX))+\n        (pixel(last, st+offsetX)-pixel(last, st-offsetX));\n\n    vec4 gradY = (pixel(view, st+offsetY)-pixel(view, st-offsetY))+\n        (pixel(last, st+offsetY)-pixel(last, st-offsetY));\n\n    vec4 gradMag = sqrt((gradX*gradX)+(gradY*gradY)+vec4(lambda));\n\n    // Difference\n    vec4 diff = pixel(view, st)-pixel(last, st);\n\n    // vec2 vec = vec2((diff*(gradX/gradMag)).x, (diff*(gradY/gradMag)).x);\n\n    // gl_FragColor = mapColor(vec, scale);\n\n    vec2 vec = vec2((diff*(gradX/gradMag)).x, (diff*(gradY/gradMag)).x)*speed;\n\n    gl_FragColor = flow(bezier(falloff, length(vec)/speedLimit)*vec, speedLimit);\n}\n"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.part=function t(e){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.length?t(function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(void 0,r.concat(n))}):e()}};e.curry=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n>i.length?t(function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(void 0,i.concat(n))},n-i.length):e.apply(void 0,i)}};e.default=n},function(t,e,n){"use strict";t.exports=n(527)},function(t,e){"use strict";function n(t){var e=+(t.getAttribute("x1")||0),n=+(t.getAttribute("x2")||0),r=+(t.getAttribute("y1")||0),i=+(t.getAttribute("y2")||0),o=n-e,a=i-r;return Math.sqrt(o*o+a*a)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return new Promise(function(n){t.addEventListener(e,function r(i){t.removeEventListener(e,r),n(i)})})},i=function(t){return r(t,"transitionend")},o=function(t){return"function"==typeof t.getTotalLength?t.getTotalLength():n(t)};e.default=function(t,e,n){void 0===n&&(n=!1);var r=o(t),a=n?-r:r,s=r/e,u=i(t),c=t.style;return c.transition="",c.opacity="",c.strokeDasharray=r+" "+r,c.strokeDashoffset=a.toString(),t.getBoundingClientRect(),c.transition="stroke-dashoffset "+s+"ms linear",c.strokeDashoffset="0",u}}]);
//# sourceMappingURL=index.js.map